var j0=e=>{throw TypeError(e)};var qu=(e,t,n)=>t.has(e)||j0("Cannot "+n);var Z=(e,t,n)=>(qu(e,t,"read from private field"),n?n.call(e):t.get(e)),Xe=(e,t,n)=>t.has(e)?j0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Pe=(e,t,n,i)=>(qu(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),Qt=(e,t,n)=>(qu(e,t,"access private method"),n);var Nl=(e,t,n,i)=>({set _(a){Pe(e,t,a,n)},get _(){return Z(e,t,i)}});function cp(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const f of l.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Xt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ih(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ly(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var a=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:function(){return e[i]}})}),n}var up={exports:{}},Qc={},dp={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ll=Symbol.for("react.element"),cy=Symbol.for("react.portal"),uy=Symbol.for("react.fragment"),dy=Symbol.for("react.strict_mode"),fy=Symbol.for("react.profiler"),hy=Symbol.for("react.provider"),gy=Symbol.for("react.context"),py=Symbol.for("react.forward_ref"),my=Symbol.for("react.suspense"),xy=Symbol.for("react.memo"),wy=Symbol.for("react.lazy"),U0=Symbol.iterator;function yy(e){return e===null||typeof e!="object"?null:(e=U0&&e[U0]||e["@@iterator"],typeof e=="function"?e:null)}var fp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hp=Object.assign,gp={};function zo(e,t,n){this.props=e,this.context=t,this.refs=gp,this.updater=n||fp}zo.prototype.isReactComponent={};zo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pp(){}pp.prototype=zo.prototype;function sh(e,t,n){this.props=e,this.context=t,this.refs=gp,this.updater=n||fp}var oh=sh.prototype=new pp;oh.constructor=sh;hp(oh,zo.prototype);oh.isPureReactComponent=!0;var z0=Array.isArray,mp=Object.prototype.hasOwnProperty,ah={current:null},xp={key:!0,ref:!0,__self:!0,__source:!0};function wp(e,t,n){var i,a={},l=null,f=null;if(t!=null)for(i in t.ref!==void 0&&(f=t.ref),t.key!==void 0&&(l=""+t.key),t)mp.call(t,i)&&!xp.hasOwnProperty(i)&&(a[i]=t[i]);var g=arguments.length-2;if(g===1)a.children=n;else if(1<g){for(var x=Array(g),p=0;p<g;p++)x[p]=arguments[p+2];a.children=x}if(e&&e.defaultProps)for(i in g=e.defaultProps,g)a[i]===void 0&&(a[i]=g[i]);return{$$typeof:ll,type:e,key:l,ref:f,props:a,_owner:ah.current}}function vy(e,t){return{$$typeof:ll,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lh(e){return typeof e=="object"&&e!==null&&e.$$typeof===ll}function Ey(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var V0=/\/+/g;function Zu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ey(""+e.key):t.toString(36)}function nc(e,t,n,i,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(l){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case ll:case cy:f=!0}}if(f)return f=e,a=a(f),e=i===""?"."+Zu(f,0):i,z0(a)?(n="",e!=null&&(n=e.replace(V0,"$&/")+"/"),nc(a,t,n,"",function(p){return p})):a!=null&&(lh(a)&&(a=vy(a,n+(!a.key||f&&f.key===a.key?"":(""+a.key).replace(V0,"$&/")+"/")+e)),t.push(a)),1;if(f=0,i=i===""?".":i+":",z0(e))for(var g=0;g<e.length;g++){l=e[g];var x=i+Zu(l,g);f+=nc(l,t,n,x,a)}else if(x=yy(e),typeof x=="function")for(e=x.call(e),g=0;!(l=e.next()).done;)l=l.value,x=i+Zu(l,g++),f+=nc(l,t,n,x,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return f}function Rl(e,t,n){if(e==null)return e;var i=[],a=0;return nc(e,i,"","",function(l){return t.call(n,l,a++)}),i}function Cy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gn={current:null},rc={transition:null},Ay={ReactCurrentDispatcher:gn,ReactCurrentBatchConfig:rc,ReactCurrentOwner:ah};function yp(){throw Error("act(...) is not supported in production builds of React.")}Be.Children={map:Rl,forEach:function(e,t,n){Rl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Rl(e,function(){t++}),t},toArray:function(e){return Rl(e,function(t){return t})||[]},only:function(e){if(!lh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Be.Component=zo;Be.Fragment=uy;Be.Profiler=fy;Be.PureComponent=sh;Be.StrictMode=dy;Be.Suspense=my;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ay;Be.act=yp;Be.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=hp({},e.props),a=e.key,l=e.ref,f=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,f=ah.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(x in t)mp.call(t,x)&&!xp.hasOwnProperty(x)&&(i[x]=t[x]===void 0&&g!==void 0?g[x]:t[x])}var x=arguments.length-2;if(x===1)i.children=n;else if(1<x){g=Array(x);for(var p=0;p<x;p++)g[p]=arguments[p+2];i.children=g}return{$$typeof:ll,type:e.type,key:a,ref:l,props:i,_owner:f}};Be.createContext=function(e){return e={$$typeof:gy,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hy,_context:e},e.Consumer=e};Be.createElement=wp;Be.createFactory=function(e){var t=wp.bind(null,e);return t.type=e,t};Be.createRef=function(){return{current:null}};Be.forwardRef=function(e){return{$$typeof:py,render:e}};Be.isValidElement=lh;Be.lazy=function(e){return{$$typeof:wy,_payload:{_status:-1,_result:e},_init:Cy}};Be.memo=function(e,t){return{$$typeof:xy,type:e,compare:t===void 0?null:t}};Be.startTransition=function(e){var t=rc.transition;rc.transition={};try{e()}finally{rc.transition=t}};Be.unstable_act=yp;Be.useCallback=function(e,t){return gn.current.useCallback(e,t)};Be.useContext=function(e){return gn.current.useContext(e)};Be.useDebugValue=function(){};Be.useDeferredValue=function(e){return gn.current.useDeferredValue(e)};Be.useEffect=function(e,t){return gn.current.useEffect(e,t)};Be.useId=function(){return gn.current.useId()};Be.useImperativeHandle=function(e,t,n){return gn.current.useImperativeHandle(e,t,n)};Be.useInsertionEffect=function(e,t){return gn.current.useInsertionEffect(e,t)};Be.useLayoutEffect=function(e,t){return gn.current.useLayoutEffect(e,t)};Be.useMemo=function(e,t){return gn.current.useMemo(e,t)};Be.useReducer=function(e,t,n){return gn.current.useReducer(e,t,n)};Be.useRef=function(e){return gn.current.useRef(e)};Be.useState=function(e){return gn.current.useState(e)};Be.useSyncExternalStore=function(e,t,n){return gn.current.useSyncExternalStore(e,t,n)};Be.useTransition=function(){return gn.current.useTransition()};Be.version="18.3.1";dp.exports=Be;var M=dp.exports;const ae=ih(M),by=cp({__proto__:null,default:ae},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y=M,Sy=Symbol.for("react.element"),Ty=Symbol.for("react.fragment"),Iy=Object.prototype.hasOwnProperty,Ny=_y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ry={key:!0,ref:!0,__self:!0,__source:!0};function vp(e,t,n){var i,a={},l=null,f=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(f=t.ref);for(i in t)Iy.call(t,i)&&!Ry.hasOwnProperty(i)&&(a[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)a[i]===void 0&&(a[i]=t[i]);return{$$typeof:Sy,type:e,key:l,ref:f,props:a,_owner:Ny.current}}Qc.Fragment=Ty;Qc.jsx=vp;Qc.jsxs=vp;up.exports=Qc;var B=up.exports,Ep={exports:{}},Wn={},Cp={exports:{}},Ap={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(K,re){var he=K.length;K.push(re);e:for(;0<he;){var fe=he-1>>>1,xe=K[fe];if(0<a(xe,re))K[fe]=re,K[he]=xe,he=fe;else break e}}function n(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var re=K[0],he=K.pop();if(he!==re){K[0]=he;e:for(var fe=0,xe=K.length,Te=xe>>>1;fe<Te;){var De=2*(fe+1)-1,zt=K[De],le=De+1,on=K[le];if(0>a(zt,he))le<xe&&0>a(on,zt)?(K[fe]=on,K[le]=he,fe=le):(K[fe]=zt,K[De]=he,fe=De);else if(le<xe&&0>a(on,he))K[fe]=on,K[le]=he,fe=le;else break e}}return re}function a(K,re){var he=K.sortIndex-re.sortIndex;return he!==0?he:K.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var f=Date,g=f.now();e.unstable_now=function(){return f.now()-g}}var x=[],p=[],y=1,v=null,E=3,_=!1,O=!1,N=!1,D=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(K){for(var re=n(p);re!==null;){if(re.callback===null)i(p);else if(re.startTime<=K)i(p),re.sortIndex=re.expirationTime,t(x,re);else break;re=n(p)}}function L(K){if(N=!1,I(K),!O)if(n(x)!==null)O=!0,me(z);else{var re=n(p);re!==null&&ce(L,re.startTime-K)}}function z(K,re){O=!1,N&&(N=!1,R(q),q=-1),_=!0;var he=E;try{for(I(re),v=n(x);v!==null&&(!(v.expirationTime>re)||K&&!ve());){var fe=v.callback;if(typeof fe=="function"){v.callback=null,E=v.priorityLevel;var xe=fe(v.expirationTime<=re);re=e.unstable_now(),typeof xe=="function"?v.callback=xe:v===n(x)&&i(x),I(re)}else i(x);v=n(x)}if(v!==null)var Te=!0;else{var De=n(p);De!==null&&ce(L,De.startTime-re),Te=!1}return Te}finally{v=null,E=he,_=!1}}var G=!1,U=null,q=-1,$=5,ue=-1;function ve(){return!(e.unstable_now()-ue<$)}function Q(){if(U!==null){var K=e.unstable_now();ue=K;var re=!0;try{re=U(!0,K)}finally{re?de():(G=!1,U=null)}}else G=!1}var de;if(typeof S=="function")de=function(){S(Q)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,H=se.port2;se.port1.onmessage=Q,de=function(){H.postMessage(null)}}else de=function(){D(Q,0)};function me(K){U=K,G||(G=!0,de())}function ce(K,re){q=D(function(){K(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){O||_||(O=!0,me(z))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return E},e.unstable_getFirstCallbackNode=function(){return n(x)},e.unstable_next=function(K){switch(E){case 1:case 2:case 3:var re=3;break;default:re=E}var he=E;E=re;try{return K()}finally{E=he}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var he=E;E=K;try{return re()}finally{E=he}},e.unstable_scheduleCallback=function(K,re,he){var fe=e.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?fe+he:fe):he=fe,K){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=he+xe,K={id:y++,callback:re,priorityLevel:K,startTime:he,expirationTime:xe,sortIndex:-1},he>fe?(K.sortIndex=he,t(p,K),n(x)===null&&K===n(p)&&(N?(R(q),q=-1):N=!0,ce(L,he-fe))):(K.sortIndex=xe,t(x,K),O||_||(O=!0,me(z))),K},e.unstable_shouldYield=ve,e.unstable_wrapCallback=function(K){var re=E;return function(){var he=E;E=re;try{return K.apply(this,arguments)}finally{E=he}}}})(Ap);Cp.exports=Ap;var Oy=Cp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky=M,Hn=Oy;function te(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bp=new Set,Ma={};function Is(e,t){Ro(e,t),Ro(e+"Capture",t)}function Ro(e,t){for(Ma[e]=t,e=0;e<t.length;e++)bp.add(t[e])}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jd=Object.prototype.hasOwnProperty,Py=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H0={},W0={};function Dy(e){return jd.call(W0,e)?!0:jd.call(H0,e)?!1:Py.test(e)?W0[e]=!0:(H0[e]=!0,!1)}function My(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ly(e,t,n,i){if(t===null||typeof t>"u"||My(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pn(e,t,n,i,a,l,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=f}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Kt[e]=new pn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Kt[t]=new pn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Kt[e]=new pn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Kt[e]=new pn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Kt[e]=new pn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Kt[e]=new pn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Kt[e]=new pn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Kt[e]=new pn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Kt[e]=new pn(e,5,!1,e.toLowerCase(),null,!1,!1)});var ch=/[\-:]([a-z])/g;function uh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ch,uh);Kt[t]=new pn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ch,uh);Kt[t]=new pn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ch,uh);Kt[t]=new pn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Kt[e]=new pn(e,1,!1,e.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Kt[e]=new pn(e,1,!1,e.toLowerCase(),null,!0,!0)});function dh(e,t,n,i){var a=Kt.hasOwnProperty(t)?Kt[t]:null;(a!==null?a.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ly(t,n,a,i)&&(n=null),i||a===null?Dy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,i=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var ii=ky.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ol=Symbol.for("react.element"),Zs=Symbol.for("react.portal"),Qs=Symbol.for("react.fragment"),fh=Symbol.for("react.strict_mode"),Ud=Symbol.for("react.profiler"),_p=Symbol.for("react.provider"),Sp=Symbol.for("react.context"),hh=Symbol.for("react.forward_ref"),zd=Symbol.for("react.suspense"),Vd=Symbol.for("react.suspense_list"),gh=Symbol.for("react.memo"),wi=Symbol.for("react.lazy"),Tp=Symbol.for("react.offscreen"),G0=Symbol.iterator;function oa(e){return e===null||typeof e!="object"?null:(e=G0&&e[G0]||e["@@iterator"],typeof e=="function"?e:null)}var xt=Object.assign,Qu;function xa(e){if(Qu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qu=t&&t[1]||""}return`
`+Qu+e}var Ju=!1;function ed(e,t){if(!e||Ju)return"";Ju=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var i=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){i=p}e.call(t.prototype)}else{try{throw Error()}catch(p){i=p}e()}}catch(p){if(p&&i&&typeof p.stack=="string"){for(var a=p.stack.split(`
`),l=i.stack.split(`
`),f=a.length-1,g=l.length-1;1<=f&&0<=g&&a[f]!==l[g];)g--;for(;1<=f&&0<=g;f--,g--)if(a[f]!==l[g]){if(f!==1||g!==1)do if(f--,g--,0>g||a[f]!==l[g]){var x=`
`+a[f].replace(" at new "," at ");return e.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",e.displayName)),x}while(1<=f&&0<=g);break}}}finally{Ju=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?xa(e):""}function By(e){switch(e.tag){case 5:return xa(e.type);case 16:return xa("Lazy");case 13:return xa("Suspense");case 19:return xa("SuspenseList");case 0:case 2:case 15:return e=ed(e.type,!1),e;case 11:return e=ed(e.type.render,!1),e;case 1:return e=ed(e.type,!0),e;default:return""}}function Hd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qs:return"Fragment";case Zs:return"Portal";case Ud:return"Profiler";case fh:return"StrictMode";case zd:return"Suspense";case Vd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Sp:return(e.displayName||"Context")+".Consumer";case _p:return(e._context.displayName||"Context")+".Provider";case hh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gh:return t=e.displayName||null,t!==null?t:Hd(e.type)||"Memo";case wi:t=e._payload,e=e._init;try{return Hd(e(t))}catch{}}return null}function Fy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hd(t);case 8:return t===fh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Vi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ip(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jy(e){var t=Ip(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(f){i=""+f,l.call(this,f)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(f){i=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kl(e){e._valueTracker||(e._valueTracker=jy(e))}function Np(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Ip(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function xc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wd(e,t){var n=t.checked;return xt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function $0(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Vi(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Rp(e,t){t=t.checked,t!=null&&dh(e,"checked",t,!1)}function Gd(e,t){Rp(e,t);var n=Vi(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$d(e,t.type,n):t.hasOwnProperty("defaultValue")&&$d(e,t.type,Vi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function X0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $d(e,t,n){(t!=="number"||xc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var wa=Array.isArray;function uo(e,t,n,i){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Vi(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,i&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Xd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(te(91));return xt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Y0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(te(92));if(wa(n)){if(1<n.length)throw Error(te(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Vi(n)}}function Op(e,t){var n=Vi(t.value),i=Vi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function K0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pl,Pp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pl=Pl||document.createElement("div"),Pl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function La(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ca={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uy=["Webkit","ms","Moz","O"];Object.keys(Ca).forEach(function(e){Uy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ca[t]=Ca[e]})});function Dp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ca.hasOwnProperty(e)&&Ca[e]?(""+t).trim():t+"px"}function Mp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,a=Dp(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,a):e[n]=a}}var zy=xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kd(e,t){if(t){if(zy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(te(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(te(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(te(61))}if(t.style!=null&&typeof t.style!="object")throw Error(te(62))}}function qd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zd=null;function ph(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qd=null,fo=null,ho=null;function q0(e){if(e=dl(e)){if(typeof Qd!="function")throw Error(te(280));var t=e.stateNode;t&&(t=ru(t),Qd(e.stateNode,e.type,t))}}function Lp(e){fo?ho?ho.push(e):ho=[e]:fo=e}function Bp(){if(fo){var e=fo,t=ho;if(ho=fo=null,q0(e),t)for(e=0;e<t.length;e++)q0(t[e])}}function Fp(e,t){return e(t)}function jp(){}var td=!1;function Up(e,t,n){if(td)return e(t,n);td=!0;try{return Fp(e,t,n)}finally{td=!1,(fo!==null||ho!==null)&&(jp(),Bp())}}function Ba(e,t){var n=e.stateNode;if(n===null)return null;var i=ru(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(te(231,t,typeof n));return n}var Jd=!1;if(Qr)try{var aa={};Object.defineProperty(aa,"passive",{get:function(){Jd=!0}}),window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{Jd=!1}function Vy(e,t,n,i,a,l,f,g,x){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(y){this.onError(y)}}var Aa=!1,wc=null,yc=!1,ef=null,Hy={onError:function(e){Aa=!0,wc=e}};function Wy(e,t,n,i,a,l,f,g,x){Aa=!1,wc=null,Vy.apply(Hy,arguments)}function Gy(e,t,n,i,a,l,f,g,x){if(Wy.apply(this,arguments),Aa){if(Aa){var p=wc;Aa=!1,wc=null}else throw Error(te(198));yc||(yc=!0,ef=p)}}function Ns(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function zp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Z0(e){if(Ns(e)!==e)throw Error(te(188))}function $y(e){var t=e.alternate;if(!t){if(t=Ns(e),t===null)throw Error(te(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(a===null)break;var l=a.alternate;if(l===null){if(i=a.return,i!==null){n=i;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===n)return Z0(a),e;if(l===i)return Z0(a),t;l=l.sibling}throw Error(te(188))}if(n.return!==i.return)n=a,i=l;else{for(var f=!1,g=a.child;g;){if(g===n){f=!0,n=a,i=l;break}if(g===i){f=!0,i=a,n=l;break}g=g.sibling}if(!f){for(g=l.child;g;){if(g===n){f=!0,n=l,i=a;break}if(g===i){f=!0,i=l,n=a;break}g=g.sibling}if(!f)throw Error(te(189))}}if(n.alternate!==i)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?e:t}function Vp(e){return e=$y(e),e!==null?Hp(e):null}function Hp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hp(e);if(t!==null)return t;e=e.sibling}return null}var Wp=Hn.unstable_scheduleCallback,Q0=Hn.unstable_cancelCallback,Xy=Hn.unstable_shouldYield,Yy=Hn.unstable_requestPaint,St=Hn.unstable_now,Ky=Hn.unstable_getCurrentPriorityLevel,mh=Hn.unstable_ImmediatePriority,Gp=Hn.unstable_UserBlockingPriority,vc=Hn.unstable_NormalPriority,qy=Hn.unstable_LowPriority,$p=Hn.unstable_IdlePriority,Jc=null,Br=null;function Zy(e){if(Br&&typeof Br.onCommitFiberRoot=="function")try{Br.onCommitFiberRoot(Jc,e,void 0,(e.current.flags&128)===128)}catch{}}var xr=Math.clz32?Math.clz32:ev,Qy=Math.log,Jy=Math.LN2;function ev(e){return e>>>=0,e===0?32:31-(Qy(e)/Jy|0)|0}var Dl=64,Ml=4194304;function ya(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ec(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,a=e.suspendedLanes,l=e.pingedLanes,f=n&268435455;if(f!==0){var g=f&~a;g!==0?i=ya(g):(l&=f,l!==0&&(i=ya(l)))}else f=n&~a,f!==0?i=ya(f):l!==0&&(i=ya(l));if(i===0)return 0;if(t!==0&&t!==i&&!(t&a)&&(a=i&-i,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-xr(t),a=1<<n,i|=e[n],t&=~a;return i}function tv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nv(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var f=31-xr(l),g=1<<f,x=a[f];x===-1?(!(g&n)||g&i)&&(a[f]=tv(g,t)):x<=t&&(e.expiredLanes|=g),l&=~g}}function tf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xp(){var e=Dl;return Dl<<=1,!(Dl&4194240)&&(Dl=64),e}function nd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function cl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xr(t),e[t]=n}function rv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-xr(n),l=1<<a;t[a]=0,i[a]=-1,e[a]=-1,n&=~l}}function xh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-xr(n),a=1<<i;a&t|e[i]&t&&(e[i]|=t),n&=~a}}var qe=0;function Yp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Kp,wh,qp,Zp,Qp,nf=!1,Ll=[],Pi=null,Di=null,Mi=null,Fa=new Map,ja=new Map,Ei=[],iv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function J0(e,t){switch(e){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":Fa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ja.delete(t.pointerId)}}function la(e,t,n,i,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:l,targetContainers:[a]},t!==null&&(t=dl(t),t!==null&&wh(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function sv(e,t,n,i,a){switch(t){case"focusin":return Pi=la(Pi,e,t,n,i,a),!0;case"dragenter":return Di=la(Di,e,t,n,i,a),!0;case"mouseover":return Mi=la(Mi,e,t,n,i,a),!0;case"pointerover":var l=a.pointerId;return Fa.set(l,la(Fa.get(l)||null,e,t,n,i,a)),!0;case"gotpointercapture":return l=a.pointerId,ja.set(l,la(ja.get(l)||null,e,t,n,i,a)),!0}return!1}function Jp(e){var t=fs(e.target);if(t!==null){var n=Ns(t);if(n!==null){if(t=n.tag,t===13){if(t=zp(n),t!==null){e.blockedOn=t,Qp(e.priority,function(){qp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ic(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=rf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Zd=i,n.target.dispatchEvent(i),Zd=null}else return t=dl(n),t!==null&&wh(t),e.blockedOn=n,!1;t.shift()}return!0}function e1(e,t,n){ic(e)&&n.delete(t)}function ov(){nf=!1,Pi!==null&&ic(Pi)&&(Pi=null),Di!==null&&ic(Di)&&(Di=null),Mi!==null&&ic(Mi)&&(Mi=null),Fa.forEach(e1),ja.forEach(e1)}function ca(e,t){e.blockedOn===t&&(e.blockedOn=null,nf||(nf=!0,Hn.unstable_scheduleCallback(Hn.unstable_NormalPriority,ov)))}function Ua(e){function t(a){return ca(a,e)}if(0<Ll.length){ca(Ll[0],e);for(var n=1;n<Ll.length;n++){var i=Ll[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Pi!==null&&ca(Pi,e),Di!==null&&ca(Di,e),Mi!==null&&ca(Mi,e),Fa.forEach(t),ja.forEach(t),n=0;n<Ei.length;n++)i=Ei[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Ei.length&&(n=Ei[0],n.blockedOn===null);)Jp(n),n.blockedOn===null&&Ei.shift()}var go=ii.ReactCurrentBatchConfig,Cc=!0;function av(e,t,n,i){var a=qe,l=go.transition;go.transition=null;try{qe=1,yh(e,t,n,i)}finally{qe=a,go.transition=l}}function lv(e,t,n,i){var a=qe,l=go.transition;go.transition=null;try{qe=4,yh(e,t,n,i)}finally{qe=a,go.transition=l}}function yh(e,t,n,i){if(Cc){var a=rf(e,t,n,i);if(a===null)fd(e,t,i,Ac,n),J0(e,i);else if(sv(a,e,t,n,i))i.stopPropagation();else if(J0(e,i),t&4&&-1<iv.indexOf(e)){for(;a!==null;){var l=dl(a);if(l!==null&&Kp(l),l=rf(e,t,n,i),l===null&&fd(e,t,i,Ac,n),l===a)break;a=l}a!==null&&i.stopPropagation()}else fd(e,t,i,null,n)}}var Ac=null;function rf(e,t,n,i){if(Ac=null,e=ph(i),e=fs(e),e!==null)if(t=Ns(e),t===null)e=null;else if(n=t.tag,n===13){if(e=zp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ac=e,null}function em(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ky()){case mh:return 1;case Gp:return 4;case vc:case qy:return 16;case $p:return 536870912;default:return 16}default:return 16}}var Ri=null,vh=null,sc=null;function tm(){if(sc)return sc;var e,t=vh,n=t.length,i,a="value"in Ri?Ri.value:Ri.textContent,l=a.length;for(e=0;e<n&&t[e]===a[e];e++);var f=n-e;for(i=1;i<=f&&t[n-i]===a[l-i];i++);return sc=a.slice(e,1<i?1-i:void 0)}function oc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bl(){return!0}function t1(){return!1}function Gn(e){function t(n,i,a,l,f){this._reactName=n,this._targetInst=a,this.type=i,this.nativeEvent=l,this.target=f,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(l):l[g]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Bl:t1,this.isPropagationStopped=t1,this}return xt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),t}var Vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eh=Gn(Vo),ul=xt({},Vo,{view:0,detail:0}),cv=Gn(ul),rd,id,ua,eu=xt({},ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ch,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ua&&(ua&&e.type==="mousemove"?(rd=e.screenX-ua.screenX,id=e.screenY-ua.screenY):id=rd=0,ua=e),rd)},movementY:function(e){return"movementY"in e?e.movementY:id}}),n1=Gn(eu),uv=xt({},eu,{dataTransfer:0}),dv=Gn(uv),fv=xt({},ul,{relatedTarget:0}),sd=Gn(fv),hv=xt({},Vo,{animationName:0,elapsedTime:0,pseudoElement:0}),gv=Gn(hv),pv=xt({},Vo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mv=Gn(pv),xv=xt({},Vo,{data:0}),r1=Gn(xv),wv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ev(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vv[e])?!!t[e]:!1}function Ch(){return Ev}var Cv=xt({},ul,{key:function(e){if(e.key){var t=wv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ch,charCode:function(e){return e.type==="keypress"?oc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Av=Gn(Cv),bv=xt({},eu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i1=Gn(bv),_v=xt({},ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ch}),Sv=Gn(_v),Tv=xt({},Vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Iv=Gn(Tv),Nv=xt({},eu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rv=Gn(Nv),Ov=[9,13,27,32],Ah=Qr&&"CompositionEvent"in window,ba=null;Qr&&"documentMode"in document&&(ba=document.documentMode);var kv=Qr&&"TextEvent"in window&&!ba,nm=Qr&&(!Ah||ba&&8<ba&&11>=ba),s1=" ",o1=!1;function rm(e,t){switch(e){case"keyup":return Ov.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function im(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Js=!1;function Pv(e,t){switch(e){case"compositionend":return im(t);case"keypress":return t.which!==32?null:(o1=!0,s1);case"textInput":return e=t.data,e===s1&&o1?null:e;default:return null}}function Dv(e,t){if(Js)return e==="compositionend"||!Ah&&rm(e,t)?(e=tm(),sc=vh=Ri=null,Js=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nm&&t.locale!=="ko"?null:t.data;default:return null}}var Mv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function a1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Mv[e.type]:t==="textarea"}function sm(e,t,n,i){Lp(i),t=bc(t,"onChange"),0<t.length&&(n=new Eh("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var _a=null,za=null;function Lv(e){mm(e,0)}function tu(e){var t=no(e);if(Np(t))return e}function Bv(e,t){if(e==="change")return t}var om=!1;if(Qr){var od;if(Qr){var ad="oninput"in document;if(!ad){var l1=document.createElement("div");l1.setAttribute("oninput","return;"),ad=typeof l1.oninput=="function"}od=ad}else od=!1;om=od&&(!document.documentMode||9<document.documentMode)}function c1(){_a&&(_a.detachEvent("onpropertychange",am),za=_a=null)}function am(e){if(e.propertyName==="value"&&tu(za)){var t=[];sm(t,za,e,ph(e)),Up(Lv,t)}}function Fv(e,t,n){e==="focusin"?(c1(),_a=t,za=n,_a.attachEvent("onpropertychange",am)):e==="focusout"&&c1()}function jv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tu(za)}function Uv(e,t){if(e==="click")return tu(t)}function zv(e,t){if(e==="input"||e==="change")return tu(t)}function Vv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yr=typeof Object.is=="function"?Object.is:Vv;function Va(e,t){if(yr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var a=n[i];if(!jd.call(t,a)||!yr(e[a],t[a]))return!1}return!0}function u1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function d1(e,t){var n=u1(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=u1(n)}}function lm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cm(){for(var e=window,t=xc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xc(e.document)}return t}function bh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Hv(e){var t=cm(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&lm(n.ownerDocument.documentElement,n)){if(i!==null&&bh(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,l=Math.min(i.start,a);i=i.end===void 0?l:Math.min(i.end,a),!e.extend&&l>i&&(a=i,i=l,l=a),a=d1(n,l);var f=d1(n,i);a&&f&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==f.node||e.focusOffset!==f.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>i?(e.addRange(t),e.extend(f.node,f.offset)):(t.setEnd(f.node,f.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wv=Qr&&"documentMode"in document&&11>=document.documentMode,eo=null,sf=null,Sa=null,of=!1;function f1(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;of||eo==null||eo!==xc(i)||(i=eo,"selectionStart"in i&&bh(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Sa&&Va(Sa,i)||(Sa=i,i=bc(sf,"onSelect"),0<i.length&&(t=new Eh("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=eo)))}function Fl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var to={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionend:Fl("Transition","TransitionEnd")},ld={},um={};Qr&&(um=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function nu(e){if(ld[e])return ld[e];if(!to[e])return e;var t=to[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in um)return ld[e]=t[n];return e}var dm=nu("animationend"),fm=nu("animationiteration"),hm=nu("animationstart"),gm=nu("transitionend"),pm=new Map,h1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(e,t){pm.set(e,t),Is(t,[e])}for(var cd=0;cd<h1.length;cd++){var ud=h1[cd],Gv=ud.toLowerCase(),$v=ud[0].toUpperCase()+ud.slice(1);Yi(Gv,"on"+$v)}Yi(dm,"onAnimationEnd");Yi(fm,"onAnimationIteration");Yi(hm,"onAnimationStart");Yi("dblclick","onDoubleClick");Yi("focusin","onFocus");Yi("focusout","onBlur");Yi(gm,"onTransitionEnd");Ro("onMouseEnter",["mouseout","mouseover"]);Ro("onMouseLeave",["mouseout","mouseover"]);Ro("onPointerEnter",["pointerout","pointerover"]);Ro("onPointerLeave",["pointerout","pointerover"]);Is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Is("onBeforeInput",["compositionend","keypress","textInput","paste"]);Is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xv=new Set("cancel close invalid load scroll toggle".split(" ").concat(va));function g1(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,Gy(i,t,void 0,e),e.currentTarget=null}function mm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],a=i.event;i=i.listeners;e:{var l=void 0;if(t)for(var f=i.length-1;0<=f;f--){var g=i[f],x=g.instance,p=g.currentTarget;if(g=g.listener,x!==l&&a.isPropagationStopped())break e;g1(a,g,p),l=x}else for(f=0;f<i.length;f++){if(g=i[f],x=g.instance,p=g.currentTarget,g=g.listener,x!==l&&a.isPropagationStopped())break e;g1(a,g,p),l=x}}}if(yc)throw e=ef,yc=!1,ef=null,e}function ot(e,t){var n=t[df];n===void 0&&(n=t[df]=new Set);var i=e+"__bubble";n.has(i)||(xm(t,e,2,!1),n.add(i))}function dd(e,t,n){var i=0;t&&(i|=4),xm(n,e,i,t)}var jl="_reactListening"+Math.random().toString(36).slice(2);function Ha(e){if(!e[jl]){e[jl]=!0,bp.forEach(function(n){n!=="selectionchange"&&(Xv.has(n)||dd(n,!1,e),dd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jl]||(t[jl]=!0,dd("selectionchange",!1,t))}}function xm(e,t,n,i){switch(em(t)){case 1:var a=av;break;case 4:a=lv;break;default:a=yh}n=a.bind(null,t,n,e),a=void 0,!Jd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),i?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function fd(e,t,n,i,a){var l=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var f=i.tag;if(f===3||f===4){var g=i.stateNode.containerInfo;if(g===a||g.nodeType===8&&g.parentNode===a)break;if(f===4)for(f=i.return;f!==null;){var x=f.tag;if((x===3||x===4)&&(x=f.stateNode.containerInfo,x===a||x.nodeType===8&&x.parentNode===a))return;f=f.return}for(;g!==null;){if(f=fs(g),f===null)return;if(x=f.tag,x===5||x===6){i=l=f;continue e}g=g.parentNode}}i=i.return}Up(function(){var p=l,y=ph(n),v=[];e:{var E=pm.get(e);if(E!==void 0){var _=Eh,O=e;switch(e){case"keypress":if(oc(n)===0)break e;case"keydown":case"keyup":_=Av;break;case"focusin":O="focus",_=sd;break;case"focusout":O="blur",_=sd;break;case"beforeblur":case"afterblur":_=sd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=n1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=dv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=Sv;break;case dm:case fm:case hm:_=gv;break;case gm:_=Iv;break;case"scroll":_=cv;break;case"wheel":_=Rv;break;case"copy":case"cut":case"paste":_=mv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=i1}var N=(t&4)!==0,D=!N&&e==="scroll",R=N?E!==null?E+"Capture":null:E;N=[];for(var S=p,I;S!==null;){I=S;var L=I.stateNode;if(I.tag===5&&L!==null&&(I=L,R!==null&&(L=Ba(S,R),L!=null&&N.push(Wa(S,L,I)))),D)break;S=S.return}0<N.length&&(E=new _(E,O,null,n,y),v.push({event:E,listeners:N}))}}if(!(t&7)){e:{if(E=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",E&&n!==Zd&&(O=n.relatedTarget||n.fromElement)&&(fs(O)||O[Jr]))break e;if((_||E)&&(E=y.window===y?y:(E=y.ownerDocument)?E.defaultView||E.parentWindow:window,_?(O=n.relatedTarget||n.toElement,_=p,O=O?fs(O):null,O!==null&&(D=Ns(O),O!==D||O.tag!==5&&O.tag!==6)&&(O=null)):(_=null,O=p),_!==O)){if(N=n1,L="onMouseLeave",R="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(N=i1,L="onPointerLeave",R="onPointerEnter",S="pointer"),D=_==null?E:no(_),I=O==null?E:no(O),E=new N(L,S+"leave",_,n,y),E.target=D,E.relatedTarget=I,L=null,fs(y)===p&&(N=new N(R,S+"enter",O,n,y),N.target=I,N.relatedTarget=D,L=N),D=L,_&&O)t:{for(N=_,R=O,S=0,I=N;I;I=$s(I))S++;for(I=0,L=R;L;L=$s(L))I++;for(;0<S-I;)N=$s(N),S--;for(;0<I-S;)R=$s(R),I--;for(;S--;){if(N===R||R!==null&&N===R.alternate)break t;N=$s(N),R=$s(R)}N=null}else N=null;_!==null&&p1(v,E,_,N,!1),O!==null&&D!==null&&p1(v,D,O,N,!0)}}e:{if(E=p?no(p):window,_=E.nodeName&&E.nodeName.toLowerCase(),_==="select"||_==="input"&&E.type==="file")var z=Bv;else if(a1(E))if(om)z=zv;else{z=jv;var G=Fv}else(_=E.nodeName)&&_.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(z=Uv);if(z&&(z=z(e,p))){sm(v,z,n,y);break e}G&&G(e,E,p),e==="focusout"&&(G=E._wrapperState)&&G.controlled&&E.type==="number"&&$d(E,"number",E.value)}switch(G=p?no(p):window,e){case"focusin":(a1(G)||G.contentEditable==="true")&&(eo=G,sf=p,Sa=null);break;case"focusout":Sa=sf=eo=null;break;case"mousedown":of=!0;break;case"contextmenu":case"mouseup":case"dragend":of=!1,f1(v,n,y);break;case"selectionchange":if(Wv)break;case"keydown":case"keyup":f1(v,n,y)}var U;if(Ah)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else Js?rm(e,n)&&(q="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(q="onCompositionStart");q&&(nm&&n.locale!=="ko"&&(Js||q!=="onCompositionStart"?q==="onCompositionEnd"&&Js&&(U=tm()):(Ri=y,vh="value"in Ri?Ri.value:Ri.textContent,Js=!0)),G=bc(p,q),0<G.length&&(q=new r1(q,e,null,n,y),v.push({event:q,listeners:G}),U?q.data=U:(U=im(n),U!==null&&(q.data=U)))),(U=kv?Pv(e,n):Dv(e,n))&&(p=bc(p,"onBeforeInput"),0<p.length&&(y=new r1("onBeforeInput","beforeinput",null,n,y),v.push({event:y,listeners:p}),y.data=U))}mm(v,t)})}function Wa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bc(e,t){for(var n=t+"Capture",i=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Ba(e,n),l!=null&&i.unshift(Wa(e,l,a)),l=Ba(e,t),l!=null&&i.push(Wa(e,l,a))),e=e.return}return i}function $s(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function p1(e,t,n,i,a){for(var l=t._reactName,f=[];n!==null&&n!==i;){var g=n,x=g.alternate,p=g.stateNode;if(x!==null&&x===i)break;g.tag===5&&p!==null&&(g=p,a?(x=Ba(n,l),x!=null&&f.unshift(Wa(n,x,g))):a||(x=Ba(n,l),x!=null&&f.push(Wa(n,x,g)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var Yv=/\r\n?/g,Kv=/\u0000|\uFFFD/g;function m1(e){return(typeof e=="string"?e:""+e).replace(Yv,`
`).replace(Kv,"")}function Ul(e,t,n){if(t=m1(t),m1(e)!==t&&n)throw Error(te(425))}function _c(){}var af=null,lf=null;function cf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uf=typeof setTimeout=="function"?setTimeout:void 0,qv=typeof clearTimeout=="function"?clearTimeout:void 0,x1=typeof Promise=="function"?Promise:void 0,Zv=typeof queueMicrotask=="function"?queueMicrotask:typeof x1<"u"?function(e){return x1.resolve(null).then(e).catch(Qv)}:uf;function Qv(e){setTimeout(function(){throw e})}function hd(e,t){var n=t,i=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(i===0){e.removeChild(a),Ua(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=a}while(n);Ua(t)}function Li(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function w1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),Lr="__reactFiber$"+Ho,Ga="__reactProps$"+Ho,Jr="__reactContainer$"+Ho,df="__reactEvents$"+Ho,Jv="__reactListeners$"+Ho,eE="__reactHandles$"+Ho;function fs(e){var t=e[Lr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Jr]||n[Lr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=w1(e);e!==null;){if(n=e[Lr])return n;e=w1(e)}return t}e=n,n=e.parentNode}return null}function dl(e){return e=e[Lr]||e[Jr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function no(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(te(33))}function ru(e){return e[Ga]||null}var ff=[],ro=-1;function Ki(e){return{current:e}}function lt(e){0>ro||(e.current=ff[ro],ff[ro]=null,ro--)}function rt(e,t){ro++,ff[ro]=e.current,e.current=t}var Hi={},rn=Ki(Hi),Nn=Ki(!1),Es=Hi;function Oo(e,t){var n=e.type.contextTypes;if(!n)return Hi;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in n)a[l]=t[l];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Rn(e){return e=e.childContextTypes,e!=null}function Sc(){lt(Nn),lt(rn)}function y1(e,t,n){if(rn.current!==Hi)throw Error(te(168));rt(rn,t),rt(Nn,n)}function wm(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var a in i)if(!(a in t))throw Error(te(108,Fy(e)||"Unknown",a));return xt({},n,i)}function Tc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hi,Es=rn.current,rt(rn,e),rt(Nn,Nn.current),!0}function v1(e,t,n){var i=e.stateNode;if(!i)throw Error(te(169));n?(e=wm(e,t,Es),i.__reactInternalMemoizedMergedChildContext=e,lt(Nn),lt(rn),rt(rn,e)):lt(Nn),rt(Nn,n)}var Yr=null,iu=!1,gd=!1;function ym(e){Yr===null?Yr=[e]:Yr.push(e)}function tE(e){iu=!0,ym(e)}function qi(){if(!gd&&Yr!==null){gd=!0;var e=0,t=qe;try{var n=Yr;for(qe=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Yr=null,iu=!1}catch(a){throw Yr!==null&&(Yr=Yr.slice(e+1)),Wp(mh,qi),a}finally{qe=t,gd=!1}}return null}var io=[],so=0,Ic=null,Nc=0,Qn=[],Jn=0,Cs=null,Kr=1,qr="";function ls(e,t){io[so++]=Nc,io[so++]=Ic,Ic=e,Nc=t}function vm(e,t,n){Qn[Jn++]=Kr,Qn[Jn++]=qr,Qn[Jn++]=Cs,Cs=e;var i=Kr;e=qr;var a=32-xr(i)-1;i&=~(1<<a),n+=1;var l=32-xr(t)+a;if(30<l){var f=a-a%5;l=(i&(1<<f)-1).toString(32),i>>=f,a-=f,Kr=1<<32-xr(t)+a|n<<a|i,qr=l+e}else Kr=1<<l|n<<a|i,qr=e}function _h(e){e.return!==null&&(ls(e,1),vm(e,1,0))}function Sh(e){for(;e===Ic;)Ic=io[--so],io[so]=null,Nc=io[--so],io[so]=null;for(;e===Cs;)Cs=Qn[--Jn],Qn[Jn]=null,qr=Qn[--Jn],Qn[Jn]=null,Kr=Qn[--Jn],Qn[Jn]=null}var zn=null,Un=null,dt=!1,mr=null;function Em(e,t){var n=er(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function E1(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,zn=e,Un=Li(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,zn=e,Un=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Cs!==null?{id:Kr,overflow:qr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=er(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,zn=e,Un=null,!0):!1;default:return!1}}function hf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function gf(e){if(dt){var t=Un;if(t){var n=t;if(!E1(e,t)){if(hf(e))throw Error(te(418));t=Li(n.nextSibling);var i=zn;t&&E1(e,t)?Em(i,n):(e.flags=e.flags&-4097|2,dt=!1,zn=e)}}else{if(hf(e))throw Error(te(418));e.flags=e.flags&-4097|2,dt=!1,zn=e}}}function C1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;zn=e}function zl(e){if(e!==zn)return!1;if(!dt)return C1(e),dt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cf(e.type,e.memoizedProps)),t&&(t=Un)){if(hf(e))throw Cm(),Error(te(418));for(;t;)Em(e,t),t=Li(t.nextSibling)}if(C1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(te(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Un=Li(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Un=null}}else Un=zn?Li(e.stateNode.nextSibling):null;return!0}function Cm(){for(var e=Un;e;)e=Li(e.nextSibling)}function ko(){Un=zn=null,dt=!1}function Th(e){mr===null?mr=[e]:mr.push(e)}var nE=ii.ReactCurrentBatchConfig;function da(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var i=n.stateNode}if(!i)throw Error(te(147,e));var a=i,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(f){var g=a.refs;f===null?delete g[l]:g[l]=f},t._stringRef=l,t)}if(typeof e!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,e))}return e}function Vl(e,t){throw e=Object.prototype.toString.call(t),Error(te(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function A1(e){var t=e._init;return t(e._payload)}function Am(e){function t(R,S){if(e){var I=R.deletions;I===null?(R.deletions=[S],R.flags|=16):I.push(S)}}function n(R,S){if(!e)return null;for(;S!==null;)t(R,S),S=S.sibling;return null}function i(R,S){for(R=new Map;S!==null;)S.key!==null?R.set(S.key,S):R.set(S.index,S),S=S.sibling;return R}function a(R,S){return R=Ui(R,S),R.index=0,R.sibling=null,R}function l(R,S,I){return R.index=I,e?(I=R.alternate,I!==null?(I=I.index,I<S?(R.flags|=2,S):I):(R.flags|=2,S)):(R.flags|=1048576,S)}function f(R){return e&&R.alternate===null&&(R.flags|=2),R}function g(R,S,I,L){return S===null||S.tag!==6?(S=Ed(I,R.mode,L),S.return=R,S):(S=a(S,I),S.return=R,S)}function x(R,S,I,L){var z=I.type;return z===Qs?y(R,S,I.props.children,L,I.key):S!==null&&(S.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===wi&&A1(z)===S.type)?(L=a(S,I.props),L.ref=da(R,S,I),L.return=R,L):(L=hc(I.type,I.key,I.props,null,R.mode,L),L.ref=da(R,S,I),L.return=R,L)}function p(R,S,I,L){return S===null||S.tag!==4||S.stateNode.containerInfo!==I.containerInfo||S.stateNode.implementation!==I.implementation?(S=Cd(I,R.mode,L),S.return=R,S):(S=a(S,I.children||[]),S.return=R,S)}function y(R,S,I,L,z){return S===null||S.tag!==7?(S=vs(I,R.mode,L,z),S.return=R,S):(S=a(S,I),S.return=R,S)}function v(R,S,I){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Ed(""+S,R.mode,I),S.return=R,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ol:return I=hc(S.type,S.key,S.props,null,R.mode,I),I.ref=da(R,null,S),I.return=R,I;case Zs:return S=Cd(S,R.mode,I),S.return=R,S;case wi:var L=S._init;return v(R,L(S._payload),I)}if(wa(S)||oa(S))return S=vs(S,R.mode,I,null),S.return=R,S;Vl(R,S)}return null}function E(R,S,I,L){var z=S!==null?S.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return z!==null?null:g(R,S,""+I,L);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Ol:return I.key===z?x(R,S,I,L):null;case Zs:return I.key===z?p(R,S,I,L):null;case wi:return z=I._init,E(R,S,z(I._payload),L)}if(wa(I)||oa(I))return z!==null?null:y(R,S,I,L,null);Vl(R,I)}return null}function _(R,S,I,L,z){if(typeof L=="string"&&L!==""||typeof L=="number")return R=R.get(I)||null,g(S,R,""+L,z);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Ol:return R=R.get(L.key===null?I:L.key)||null,x(S,R,L,z);case Zs:return R=R.get(L.key===null?I:L.key)||null,p(S,R,L,z);case wi:var G=L._init;return _(R,S,I,G(L._payload),z)}if(wa(L)||oa(L))return R=R.get(I)||null,y(S,R,L,z,null);Vl(S,L)}return null}function O(R,S,I,L){for(var z=null,G=null,U=S,q=S=0,$=null;U!==null&&q<I.length;q++){U.index>q?($=U,U=null):$=U.sibling;var ue=E(R,U,I[q],L);if(ue===null){U===null&&(U=$);break}e&&U&&ue.alternate===null&&t(R,U),S=l(ue,S,q),G===null?z=ue:G.sibling=ue,G=ue,U=$}if(q===I.length)return n(R,U),dt&&ls(R,q),z;if(U===null){for(;q<I.length;q++)U=v(R,I[q],L),U!==null&&(S=l(U,S,q),G===null?z=U:G.sibling=U,G=U);return dt&&ls(R,q),z}for(U=i(R,U);q<I.length;q++)$=_(U,R,q,I[q],L),$!==null&&(e&&$.alternate!==null&&U.delete($.key===null?q:$.key),S=l($,S,q),G===null?z=$:G.sibling=$,G=$);return e&&U.forEach(function(ve){return t(R,ve)}),dt&&ls(R,q),z}function N(R,S,I,L){var z=oa(I);if(typeof z!="function")throw Error(te(150));if(I=z.call(I),I==null)throw Error(te(151));for(var G=z=null,U=S,q=S=0,$=null,ue=I.next();U!==null&&!ue.done;q++,ue=I.next()){U.index>q?($=U,U=null):$=U.sibling;var ve=E(R,U,ue.value,L);if(ve===null){U===null&&(U=$);break}e&&U&&ve.alternate===null&&t(R,U),S=l(ve,S,q),G===null?z=ve:G.sibling=ve,G=ve,U=$}if(ue.done)return n(R,U),dt&&ls(R,q),z;if(U===null){for(;!ue.done;q++,ue=I.next())ue=v(R,ue.value,L),ue!==null&&(S=l(ue,S,q),G===null?z=ue:G.sibling=ue,G=ue);return dt&&ls(R,q),z}for(U=i(R,U);!ue.done;q++,ue=I.next())ue=_(U,R,q,ue.value,L),ue!==null&&(e&&ue.alternate!==null&&U.delete(ue.key===null?q:ue.key),S=l(ue,S,q),G===null?z=ue:G.sibling=ue,G=ue);return e&&U.forEach(function(Q){return t(R,Q)}),dt&&ls(R,q),z}function D(R,S,I,L){if(typeof I=="object"&&I!==null&&I.type===Qs&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Ol:e:{for(var z=I.key,G=S;G!==null;){if(G.key===z){if(z=I.type,z===Qs){if(G.tag===7){n(R,G.sibling),S=a(G,I.props.children),S.return=R,R=S;break e}}else if(G.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===wi&&A1(z)===G.type){n(R,G.sibling),S=a(G,I.props),S.ref=da(R,G,I),S.return=R,R=S;break e}n(R,G);break}else t(R,G);G=G.sibling}I.type===Qs?(S=vs(I.props.children,R.mode,L,I.key),S.return=R,R=S):(L=hc(I.type,I.key,I.props,null,R.mode,L),L.ref=da(R,S,I),L.return=R,R=L)}return f(R);case Zs:e:{for(G=I.key;S!==null;){if(S.key===G)if(S.tag===4&&S.stateNode.containerInfo===I.containerInfo&&S.stateNode.implementation===I.implementation){n(R,S.sibling),S=a(S,I.children||[]),S.return=R,R=S;break e}else{n(R,S);break}else t(R,S);S=S.sibling}S=Cd(I,R.mode,L),S.return=R,R=S}return f(R);case wi:return G=I._init,D(R,S,G(I._payload),L)}if(wa(I))return O(R,S,I,L);if(oa(I))return N(R,S,I,L);Vl(R,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,S!==null&&S.tag===6?(n(R,S.sibling),S=a(S,I),S.return=R,R=S):(n(R,S),S=Ed(I,R.mode,L),S.return=R,R=S),f(R)):n(R,S)}return D}var Po=Am(!0),bm=Am(!1),Rc=Ki(null),Oc=null,oo=null,Ih=null;function Nh(){Ih=oo=Oc=null}function Rh(e){var t=Rc.current;lt(Rc),e._currentValue=t}function pf(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function po(e,t){Oc=e,Ih=oo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(In=!0),e.firstContext=null)}function nr(e){var t=e._currentValue;if(Ih!==e)if(e={context:e,memoizedValue:t,next:null},oo===null){if(Oc===null)throw Error(te(308));oo=e,Oc.dependencies={lanes:0,firstContext:e}}else oo=oo.next=e;return t}var hs=null;function Oh(e){hs===null?hs=[e]:hs.push(e)}function _m(e,t,n,i){var a=t.interleaved;return a===null?(n.next=n,Oh(t)):(n.next=a.next,a.next=n),t.interleaved=n,ei(e,i)}function ei(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var yi=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,He&2){var a=i.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),i.pending=t,ei(e,n)}return a=i.interleaved,a===null?(t.next=t,Oh(i)):(t.next=a.next,a.next=t),i.interleaved=t,ei(e,n)}function ac(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,xh(e,n)}}function b1(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var a=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var f={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?a=l=f:l=l.next=f,n=n.next}while(n!==null);l===null?a=l=t:l=l.next=t}else a=l=t;n={baseState:i.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function kc(e,t,n,i){var a=e.updateQueue;yi=!1;var l=a.firstBaseUpdate,f=a.lastBaseUpdate,g=a.shared.pending;if(g!==null){a.shared.pending=null;var x=g,p=x.next;x.next=null,f===null?l=p:f.next=p,f=x;var y=e.alternate;y!==null&&(y=y.updateQueue,g=y.lastBaseUpdate,g!==f&&(g===null?y.firstBaseUpdate=p:g.next=p,y.lastBaseUpdate=x))}if(l!==null){var v=a.baseState;f=0,y=p=x=null,g=l;do{var E=g.lane,_=g.eventTime;if((i&E)===E){y!==null&&(y=y.next={eventTime:_,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var O=e,N=g;switch(E=t,_=n,N.tag){case 1:if(O=N.payload,typeof O=="function"){v=O.call(_,v,E);break e}v=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=N.payload,E=typeof O=="function"?O.call(_,v,E):O,E==null)break e;v=xt({},v,E);break e;case 2:yi=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,E=a.effects,E===null?a.effects=[g]:E.push(g))}else _={eventTime:_,lane:E,tag:g.tag,payload:g.payload,callback:g.callback,next:null},y===null?(p=y=_,x=v):y=y.next=_,f|=E;if(g=g.next,g===null){if(g=a.shared.pending,g===null)break;E=g,g=E.next,E.next=null,a.lastBaseUpdate=E,a.shared.pending=null}}while(!0);if(y===null&&(x=v),a.baseState=x,a.firstBaseUpdate=p,a.lastBaseUpdate=y,t=a.shared.interleaved,t!==null){a=t;do f|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);bs|=f,e.lanes=f,e.memoizedState=v}}function _1(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],a=i.callback;if(a!==null){if(i.callback=null,i=n,typeof a!="function")throw Error(te(191,a));a.call(i)}}}var fl={},Fr=Ki(fl),$a=Ki(fl),Xa=Ki(fl);function gs(e){if(e===fl)throw Error(te(174));return e}function Ph(e,t){switch(rt(Xa,t),rt($a,e),rt(Fr,fl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yd(t,e)}lt(Fr),rt(Fr,t)}function Do(){lt(Fr),lt($a),lt(Xa)}function Tm(e){gs(Xa.current);var t=gs(Fr.current),n=Yd(t,e.type);t!==n&&(rt($a,e),rt(Fr,n))}function Dh(e){$a.current===e&&(lt(Fr),lt($a))}var pt=Ki(0);function Pc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pd=[];function Mh(){for(var e=0;e<pd.length;e++)pd[e]._workInProgressVersionPrimary=null;pd.length=0}var lc=ii.ReactCurrentDispatcher,md=ii.ReactCurrentBatchConfig,As=0,mt=null,kt=null,jt=null,Dc=!1,Ta=!1,Ya=0,rE=0;function Jt(){throw Error(te(321))}function Lh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yr(e[n],t[n]))return!1;return!0}function Bh(e,t,n,i,a,l){if(As=l,mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lc.current=e===null||e.memoizedState===null?aE:lE,e=n(i,a),Ta){l=0;do{if(Ta=!1,Ya=0,25<=l)throw Error(te(301));l+=1,jt=kt=null,t.updateQueue=null,lc.current=cE,e=n(i,a)}while(Ta)}if(lc.current=Mc,t=kt!==null&&kt.next!==null,As=0,jt=kt=mt=null,Dc=!1,t)throw Error(te(300));return e}function Fh(){var e=Ya!==0;return Ya=0,e}function kr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?mt.memoizedState=jt=e:jt=jt.next=e,jt}function rr(){if(kt===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=kt.next;var t=jt===null?mt.memoizedState:jt.next;if(t!==null)jt=t,kt=e;else{if(e===null)throw Error(te(310));kt=e,e={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},jt===null?mt.memoizedState=jt=e:jt=jt.next=e}return jt}function Ka(e,t){return typeof t=="function"?t(e):t}function xd(e){var t=rr(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var i=kt,a=i.baseQueue,l=n.pending;if(l!==null){if(a!==null){var f=a.next;a.next=l.next,l.next=f}i.baseQueue=a=l,n.pending=null}if(a!==null){l=a.next,i=i.baseState;var g=f=null,x=null,p=l;do{var y=p.lane;if((As&y)===y)x!==null&&(x=x.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),i=p.hasEagerState?p.eagerState:e(i,p.action);else{var v={lane:y,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};x===null?(g=x=v,f=i):x=x.next=v,mt.lanes|=y,bs|=y}p=p.next}while(p!==null&&p!==l);x===null?f=i:x.next=g,yr(i,t.memoizedState)||(In=!0),t.memoizedState=i,t.baseState=f,t.baseQueue=x,n.lastRenderedState=i}if(e=n.interleaved,e!==null){a=e;do l=a.lane,mt.lanes|=l,bs|=l,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wd(e){var t=rr(),n=t.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=e;var i=n.dispatch,a=n.pending,l=t.memoizedState;if(a!==null){n.pending=null;var f=a=a.next;do l=e(l,f.action),f=f.next;while(f!==a);yr(l,t.memoizedState)||(In=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,i]}function Im(){}function Nm(e,t){var n=mt,i=rr(),a=t(),l=!yr(i.memoizedState,a);if(l&&(i.memoizedState=a,In=!0),i=i.queue,jh(km.bind(null,n,i,e),[e]),i.getSnapshot!==t||l||jt!==null&&jt.memoizedState.tag&1){if(n.flags|=2048,qa(9,Om.bind(null,n,i,a,t),void 0,null),Ut===null)throw Error(te(349));As&30||Rm(n,t,a)}return a}function Rm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Om(e,t,n,i){t.value=n,t.getSnapshot=i,Pm(t)&&Dm(e)}function km(e,t,n){return n(function(){Pm(t)&&Dm(e)})}function Pm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yr(e,n)}catch{return!0}}function Dm(e){var t=ei(e,1);t!==null&&wr(t,e,1,-1)}function S1(e){var t=kr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:e},t.queue=e,e=e.dispatch=oE.bind(null,mt,e),[t.memoizedState,e]}function qa(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function Mm(){return rr().memoizedState}function cc(e,t,n,i){var a=kr();mt.flags|=e,a.memoizedState=qa(1|t,n,void 0,i===void 0?null:i)}function su(e,t,n,i){var a=rr();i=i===void 0?null:i;var l=void 0;if(kt!==null){var f=kt.memoizedState;if(l=f.destroy,i!==null&&Lh(i,f.deps)){a.memoizedState=qa(t,n,l,i);return}}mt.flags|=e,a.memoizedState=qa(1|t,n,l,i)}function T1(e,t){return cc(8390656,8,e,t)}function jh(e,t){return su(2048,8,e,t)}function Lm(e,t){return su(4,2,e,t)}function Bm(e,t){return su(4,4,e,t)}function Fm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jm(e,t,n){return n=n!=null?n.concat([e]):null,su(4,4,Fm.bind(null,t,e),n)}function Uh(){}function Um(e,t){var n=rr();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Lh(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function zm(e,t){var n=rr();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Lh(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Vm(e,t,n){return As&21?(yr(n,t)||(n=Xp(),mt.lanes|=n,bs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,In=!0),e.memoizedState=n)}function iE(e,t){var n=qe;qe=n!==0&&4>n?n:4,e(!0);var i=md.transition;md.transition={};try{e(!1),t()}finally{qe=n,md.transition=i}}function Hm(){return rr().memoizedState}function sE(e,t,n){var i=ji(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Wm(e))Gm(t,n);else if(n=_m(e,t,n,i),n!==null){var a=hn();wr(n,e,i,a),$m(n,t,i)}}function oE(e,t,n){var i=ji(e),a={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wm(e))Gm(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var f=t.lastRenderedState,g=l(f,n);if(a.hasEagerState=!0,a.eagerState=g,yr(g,f)){var x=t.interleaved;x===null?(a.next=a,Oh(t)):(a.next=x.next,x.next=a),t.interleaved=a;return}}catch{}finally{}n=_m(e,t,a,i),n!==null&&(a=hn(),wr(n,e,i,a),$m(n,t,i))}}function Wm(e){var t=e.alternate;return e===mt||t!==null&&t===mt}function Gm(e,t){Ta=Dc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $m(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,xh(e,n)}}var Mc={readContext:nr,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},aE={readContext:nr,useCallback:function(e,t){return kr().memoizedState=[e,t===void 0?null:t],e},useContext:nr,useEffect:T1,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,cc(4194308,4,Fm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return cc(4194308,4,e,t)},useInsertionEffect:function(e,t){return cc(4,2,e,t)},useMemo:function(e,t){var n=kr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=kr();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=sE.bind(null,mt,e),[i.memoizedState,e]},useRef:function(e){var t=kr();return e={current:e},t.memoizedState=e},useState:S1,useDebugValue:Uh,useDeferredValue:function(e){return kr().memoizedState=e},useTransition:function(){var e=S1(!1),t=e[0];return e=iE.bind(null,e[1]),kr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=mt,a=kr();if(dt){if(n===void 0)throw Error(te(407));n=n()}else{if(n=t(),Ut===null)throw Error(te(349));As&30||Rm(i,t,n)}a.memoizedState=n;var l={value:n,getSnapshot:t};return a.queue=l,T1(km.bind(null,i,l,e),[e]),i.flags|=2048,qa(9,Om.bind(null,i,l,n,t),void 0,null),n},useId:function(){var e=kr(),t=Ut.identifierPrefix;if(dt){var n=qr,i=Kr;n=(i&~(1<<32-xr(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ya++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=rE++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lE={readContext:nr,useCallback:Um,useContext:nr,useEffect:jh,useImperativeHandle:jm,useInsertionEffect:Lm,useLayoutEffect:Bm,useMemo:zm,useReducer:xd,useRef:Mm,useState:function(){return xd(Ka)},useDebugValue:Uh,useDeferredValue:function(e){var t=rr();return Vm(t,kt.memoizedState,e)},useTransition:function(){var e=xd(Ka)[0],t=rr().memoizedState;return[e,t]},useMutableSource:Im,useSyncExternalStore:Nm,useId:Hm,unstable_isNewReconciler:!1},cE={readContext:nr,useCallback:Um,useContext:nr,useEffect:jh,useImperativeHandle:jm,useInsertionEffect:Lm,useLayoutEffect:Bm,useMemo:zm,useReducer:wd,useRef:Mm,useState:function(){return wd(Ka)},useDebugValue:Uh,useDeferredValue:function(e){var t=rr();return kt===null?t.memoizedState=e:Vm(t,kt.memoizedState,e)},useTransition:function(){var e=wd(Ka)[0],t=rr().memoizedState;return[e,t]},useMutableSource:Im,useSyncExternalStore:Nm,useId:Hm,unstable_isNewReconciler:!1};function dr(e,t){if(e&&e.defaultProps){t=xt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function mf(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:xt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ou={isMounted:function(e){return(e=e._reactInternals)?Ns(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=hn(),a=ji(e),l=Zr(i,a);l.payload=t,n!=null&&(l.callback=n),t=Bi(e,l,a),t!==null&&(wr(t,e,a,i),ac(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=hn(),a=ji(e),l=Zr(i,a);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Bi(e,l,a),t!==null&&(wr(t,e,a,i),ac(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hn(),i=ji(e),a=Zr(n,i);a.tag=2,t!=null&&(a.callback=t),t=Bi(e,a,i),t!==null&&(wr(t,e,i,n),ac(t,e,i))}};function I1(e,t,n,i,a,l,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,l,f):t.prototype&&t.prototype.isPureReactComponent?!Va(n,i)||!Va(a,l):!0}function Xm(e,t,n){var i=!1,a=Hi,l=t.contextType;return typeof l=="object"&&l!==null?l=nr(l):(a=Rn(t)?Es:rn.current,i=t.contextTypes,l=(i=i!=null)?Oo(e,a):Hi),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ou,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function N1(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ou.enqueueReplaceState(t,t.state,null)}function xf(e,t,n,i){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},kh(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=nr(l):(l=Rn(t)?Es:rn.current,a.context=Oo(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(mf(e,t,l,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ou.enqueueReplaceState(a,a.state,null),kc(e,n,a,i),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Mo(e,t){try{var n="",i=t;do n+=By(i),i=i.return;while(i);var a=n}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function yd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function wf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var uE=typeof WeakMap=="function"?WeakMap:Map;function Ym(e,t,n){n=Zr(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Bc||(Bc=!0,If=i),wf(e,t)},n}function Km(e,t,n){n=Zr(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var a=t.value;n.payload=function(){return i(a)},n.callback=function(){wf(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){wf(e,t),typeof i!="function"&&(Fi===null?Fi=new Set([this]):Fi.add(this));var f=t.stack;this.componentDidCatch(t.value,{componentStack:f!==null?f:""})}),n}function R1(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new uE;var a=new Set;i.set(t,a)}else a=i.get(t),a===void 0&&(a=new Set,i.set(t,a));a.has(n)||(a.add(n),e=bE.bind(null,e,t,n),t.then(e,e))}function O1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function k1(e,t,n,i,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Zr(-1,1),t.tag=2,Bi(n,t,1))),n.lanes|=1),e)}var dE=ii.ReactCurrentOwner,In=!1;function dn(e,t,n,i){t.child=e===null?bm(t,null,n,i):Po(t,e.child,n,i)}function P1(e,t,n,i,a){n=n.render;var l=t.ref;return po(t,a),i=Bh(e,t,n,i,l,a),n=Fh(),e!==null&&!In?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ti(e,t,a)):(dt&&n&&_h(t),t.flags|=1,dn(e,t,i,a),t.child)}function D1(e,t,n,i,a){if(e===null){var l=n.type;return typeof l=="function"&&!Yh(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,qm(e,t,l,i,a)):(e=hc(n.type,null,i,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var f=l.memoizedProps;if(n=n.compare,n=n!==null?n:Va,n(f,i)&&e.ref===t.ref)return ti(e,t,a)}return t.flags|=1,e=Ui(l,i),e.ref=t.ref,e.return=t,t.child=e}function qm(e,t,n,i,a){if(e!==null){var l=e.memoizedProps;if(Va(l,i)&&e.ref===t.ref)if(In=!1,t.pendingProps=i=l,(e.lanes&a)!==0)e.flags&131072&&(In=!0);else return t.lanes=e.lanes,ti(e,t,a)}return yf(e,t,n,i,a)}function Zm(e,t,n){var i=t.pendingProps,a=i.children,l=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(lo,Fn),Fn|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,rt(lo,Fn),Fn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=l!==null?l.baseLanes:n,rt(lo,Fn),Fn|=i}else l!==null?(i=l.baseLanes|n,t.memoizedState=null):i=n,rt(lo,Fn),Fn|=i;return dn(e,t,a,n),t.child}function Qm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yf(e,t,n,i,a){var l=Rn(n)?Es:rn.current;return l=Oo(t,l),po(t,a),n=Bh(e,t,n,i,l,a),i=Fh(),e!==null&&!In?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ti(e,t,a)):(dt&&i&&_h(t),t.flags|=1,dn(e,t,n,a),t.child)}function M1(e,t,n,i,a){if(Rn(n)){var l=!0;Tc(t)}else l=!1;if(po(t,a),t.stateNode===null)uc(e,t),Xm(t,n,i),xf(t,n,i,a),i=!0;else if(e===null){var f=t.stateNode,g=t.memoizedProps;f.props=g;var x=f.context,p=n.contextType;typeof p=="object"&&p!==null?p=nr(p):(p=Rn(n)?Es:rn.current,p=Oo(t,p));var y=n.getDerivedStateFromProps,v=typeof y=="function"||typeof f.getSnapshotBeforeUpdate=="function";v||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==i||x!==p)&&N1(t,f,i,p),yi=!1;var E=t.memoizedState;f.state=E,kc(t,i,f,a),x=t.memoizedState,g!==i||E!==x||Nn.current||yi?(typeof y=="function"&&(mf(t,n,y,i),x=t.memoizedState),(g=yi||I1(t,n,g,i,E,x,p))?(v||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=x),f.props=i,f.state=x,f.context=p,i=g):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{f=t.stateNode,Sm(e,t),g=t.memoizedProps,p=t.type===t.elementType?g:dr(t.type,g),f.props=p,v=t.pendingProps,E=f.context,x=n.contextType,typeof x=="object"&&x!==null?x=nr(x):(x=Rn(n)?Es:rn.current,x=Oo(t,x));var _=n.getDerivedStateFromProps;(y=typeof _=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==v||E!==x)&&N1(t,f,i,x),yi=!1,E=t.memoizedState,f.state=E,kc(t,i,f,a);var O=t.memoizedState;g!==v||E!==O||Nn.current||yi?(typeof _=="function"&&(mf(t,n,_,i),O=t.memoizedState),(p=yi||I1(t,n,p,i,E,O,x)||!1)?(y||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,O,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,O,x)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=O),f.props=i,f.state=O,f.context=x,i=p):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&E===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&E===e.memoizedState||(t.flags|=1024),i=!1)}return vf(e,t,n,i,l,a)}function vf(e,t,n,i,a,l){Qm(e,t);var f=(t.flags&128)!==0;if(!i&&!f)return a&&v1(t,n,!1),ti(e,t,l);i=t.stateNode,dE.current=t;var g=f&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&f?(t.child=Po(t,e.child,null,l),t.child=Po(t,null,g,l)):dn(e,t,g,l),t.memoizedState=i.state,a&&v1(t,n,!0),t.child}function Jm(e){var t=e.stateNode;t.pendingContext?y1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&y1(e,t.context,!1),Ph(e,t.containerInfo)}function L1(e,t,n,i,a){return ko(),Th(a),t.flags|=256,dn(e,t,n,i),t.child}var Ef={dehydrated:null,treeContext:null,retryLane:0};function Cf(e){return{baseLanes:e,cachePool:null,transitions:null}}function ex(e,t,n){var i=t.pendingProps,a=pt.current,l=!1,f=(t.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(a&2)!==0),g?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),rt(pt,a&1),e===null)return gf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(f=i.children,e=i.fallback,l?(i=t.mode,l=t.child,f={mode:"hidden",children:f},!(i&1)&&l!==null?(l.childLanes=0,l.pendingProps=f):l=cu(f,i,0,null),e=vs(e,i,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Cf(n),t.memoizedState=Ef,e):zh(t,f));if(a=e.memoizedState,a!==null&&(g=a.dehydrated,g!==null))return fE(e,t,f,i,g,a,n);if(l){l=i.fallback,f=t.mode,a=e.child,g=a.sibling;var x={mode:"hidden",children:i.children};return!(f&1)&&t.child!==a?(i=t.child,i.childLanes=0,i.pendingProps=x,t.deletions=null):(i=Ui(a,x),i.subtreeFlags=a.subtreeFlags&14680064),g!==null?l=Ui(g,l):(l=vs(l,f,n,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,i=l,l=t.child,f=e.child.memoizedState,f=f===null?Cf(n):{baseLanes:f.baseLanes|n,cachePool:null,transitions:f.transitions},l.memoizedState=f,l.childLanes=e.childLanes&~n,t.memoizedState=Ef,i}return l=e.child,e=l.sibling,i=Ui(l,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zh(e,t){return t=cu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hl(e,t,n,i){return i!==null&&Th(i),Po(t,e.child,null,n),e=zh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fE(e,t,n,i,a,l,f){if(n)return t.flags&256?(t.flags&=-257,i=yd(Error(te(422))),Hl(e,t,f,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=i.fallback,a=t.mode,i=cu({mode:"visible",children:i.children},a,0,null),l=vs(l,a,f,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,t.mode&1&&Po(t,e.child,null,f),t.child.memoizedState=Cf(f),t.memoizedState=Ef,l);if(!(t.mode&1))return Hl(e,t,f,null);if(a.data==="$!"){if(i=a.nextSibling&&a.nextSibling.dataset,i)var g=i.dgst;return i=g,l=Error(te(419)),i=yd(l,i,void 0),Hl(e,t,f,i)}if(g=(f&e.childLanes)!==0,In||g){if(i=Ut,i!==null){switch(f&-f){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(i.suspendedLanes|f)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,ei(e,a),wr(i,e,a,-1))}return Xh(),i=yd(Error(te(421))),Hl(e,t,f,i)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=_E.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,Un=Li(a.nextSibling),zn=t,dt=!0,mr=null,e!==null&&(Qn[Jn++]=Kr,Qn[Jn++]=qr,Qn[Jn++]=Cs,Kr=e.id,qr=e.overflow,Cs=t),t=zh(t,i.children),t.flags|=4096,t)}function B1(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),pf(e.return,t,n)}function vd(e,t,n,i,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=i,l.tail=n,l.tailMode=a)}function tx(e,t,n){var i=t.pendingProps,a=i.revealOrder,l=i.tail;if(dn(e,t,i.children,n),i=pt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&B1(e,n,t);else if(e.tag===19)B1(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(rt(pt,i),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Pc(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),vd(t,!1,a,n,l);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Pc(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}vd(t,!0,n,null,l);break;case"together":vd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function uc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ti(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),bs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(te(153));if(t.child!==null){for(e=t.child,n=Ui(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ui(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hE(e,t,n){switch(t.tag){case 3:Jm(t),ko();break;case 5:Tm(t);break;case 1:Rn(t.type)&&Tc(t);break;case 4:Ph(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,a=t.memoizedProps.value;rt(Rc,i._currentValue),i._currentValue=a;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(rt(pt,pt.current&1),t.flags|=128,null):n&t.child.childLanes?ex(e,t,n):(rt(pt,pt.current&1),e=ti(e,t,n),e!==null?e.sibling:null);rt(pt,pt.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return tx(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),rt(pt,pt.current),i)break;return null;case 22:case 23:return t.lanes=0,Zm(e,t,n)}return ti(e,t,n)}var nx,Af,rx,ix;nx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Af=function(){};rx=function(e,t,n,i){var a=e.memoizedProps;if(a!==i){e=t.stateNode,gs(Fr.current);var l=null;switch(n){case"input":a=Wd(e,a),i=Wd(e,i),l=[];break;case"select":a=xt({},a,{value:void 0}),i=xt({},i,{value:void 0}),l=[];break;case"textarea":a=Xd(e,a),i=Xd(e,i),l=[];break;default:typeof a.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=_c)}Kd(n,i);var f;n=null;for(p in a)if(!i.hasOwnProperty(p)&&a.hasOwnProperty(p)&&a[p]!=null)if(p==="style"){var g=a[p];for(f in g)g.hasOwnProperty(f)&&(n||(n={}),n[f]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Ma.hasOwnProperty(p)?l||(l=[]):(l=l||[]).push(p,null));for(p in i){var x=i[p];if(g=a!=null?a[p]:void 0,i.hasOwnProperty(p)&&x!==g&&(x!=null||g!=null))if(p==="style")if(g){for(f in g)!g.hasOwnProperty(f)||x&&x.hasOwnProperty(f)||(n||(n={}),n[f]="");for(f in x)x.hasOwnProperty(f)&&g[f]!==x[f]&&(n||(n={}),n[f]=x[f])}else n||(l||(l=[]),l.push(p,n)),n=x;else p==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,g=g?g.__html:void 0,x!=null&&g!==x&&(l=l||[]).push(p,x)):p==="children"?typeof x!="string"&&typeof x!="number"||(l=l||[]).push(p,""+x):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Ma.hasOwnProperty(p)?(x!=null&&p==="onScroll"&&ot("scroll",e),l||g===x||(l=[])):(l=l||[]).push(p,x))}n&&(l=l||[]).push("style",n);var p=l;(t.updateQueue=p)&&(t.flags|=4)}};ix=function(e,t,n,i){n!==i&&(t.flags|=4)};function fa(e,t){if(!dt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function en(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags&14680064,i|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,i|=a.subtreeFlags,i|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function gE(e,t,n){var i=t.pendingProps;switch(Sh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(t),null;case 1:return Rn(t.type)&&Sc(),en(t),null;case 3:return i=t.stateNode,Do(),lt(Nn),lt(rn),Mh(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(zl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mr!==null&&(Of(mr),mr=null))),Af(e,t),en(t),null;case 5:Dh(t);var a=gs(Xa.current);if(n=t.type,e!==null&&t.stateNode!=null)rx(e,t,n,i,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(te(166));return en(t),null}if(e=gs(Fr.current),zl(t)){i=t.stateNode,n=t.type;var l=t.memoizedProps;switch(i[Lr]=t,i[Ga]=l,e=(t.mode&1)!==0,n){case"dialog":ot("cancel",i),ot("close",i);break;case"iframe":case"object":case"embed":ot("load",i);break;case"video":case"audio":for(a=0;a<va.length;a++)ot(va[a],i);break;case"source":ot("error",i);break;case"img":case"image":case"link":ot("error",i),ot("load",i);break;case"details":ot("toggle",i);break;case"input":$0(i,l),ot("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!l.multiple},ot("invalid",i);break;case"textarea":Y0(i,l),ot("invalid",i)}Kd(n,l),a=null;for(var f in l)if(l.hasOwnProperty(f)){var g=l[f];f==="children"?typeof g=="string"?i.textContent!==g&&(l.suppressHydrationWarning!==!0&&Ul(i.textContent,g,e),a=["children",g]):typeof g=="number"&&i.textContent!==""+g&&(l.suppressHydrationWarning!==!0&&Ul(i.textContent,g,e),a=["children",""+g]):Ma.hasOwnProperty(f)&&g!=null&&f==="onScroll"&&ot("scroll",i)}switch(n){case"input":kl(i),X0(i,l,!0);break;case"textarea":kl(i),K0(i);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(i.onclick=_c)}i=a,t.updateQueue=i,i!==null&&(t.flags|=4)}else{f=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=f.createElement(n,{is:i.is}):(e=f.createElement(n),n==="select"&&(f=e,i.multiple?f.multiple=!0:i.size&&(f.size=i.size))):e=f.createElementNS(e,n),e[Lr]=t,e[Ga]=i,nx(e,t,!1,!1),t.stateNode=e;e:{switch(f=qd(n,i),n){case"dialog":ot("cancel",e),ot("close",e),a=i;break;case"iframe":case"object":case"embed":ot("load",e),a=i;break;case"video":case"audio":for(a=0;a<va.length;a++)ot(va[a],e);a=i;break;case"source":ot("error",e),a=i;break;case"img":case"image":case"link":ot("error",e),ot("load",e),a=i;break;case"details":ot("toggle",e),a=i;break;case"input":$0(e,i),a=Wd(e,i),ot("invalid",e);break;case"option":a=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},a=xt({},i,{value:void 0}),ot("invalid",e);break;case"textarea":Y0(e,i),a=Xd(e,i),ot("invalid",e);break;default:a=i}Kd(n,a),g=a;for(l in g)if(g.hasOwnProperty(l)){var x=g[l];l==="style"?Mp(e,x):l==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&Pp(e,x)):l==="children"?typeof x=="string"?(n!=="textarea"||x!=="")&&La(e,x):typeof x=="number"&&La(e,""+x):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ma.hasOwnProperty(l)?x!=null&&l==="onScroll"&&ot("scroll",e):x!=null&&dh(e,l,x,f))}switch(n){case"input":kl(e),X0(e,i,!1);break;case"textarea":kl(e),K0(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Vi(i.value));break;case"select":e.multiple=!!i.multiple,l=i.value,l!=null?uo(e,!!i.multiple,l,!1):i.defaultValue!=null&&uo(e,!!i.multiple,i.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=_c)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return en(t),null;case 6:if(e&&t.stateNode!=null)ix(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(te(166));if(n=gs(Xa.current),gs(Fr.current),zl(t)){if(i=t.stateNode,n=t.memoizedProps,i[Lr]=t,(l=i.nodeValue!==n)&&(e=zn,e!==null))switch(e.tag){case 3:Ul(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ul(i.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Lr]=t,t.stateNode=i}return en(t),null;case 13:if(lt(pt),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(dt&&Un!==null&&t.mode&1&&!(t.flags&128))Cm(),ko(),t.flags|=98560,l=!1;else if(l=zl(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(te(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(te(317));l[Lr]=t}else ko(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;en(t),l=!1}else mr!==null&&(Of(mr),mr=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||pt.current&1?Dt===0&&(Dt=3):Xh())),t.updateQueue!==null&&(t.flags|=4),en(t),null);case 4:return Do(),Af(e,t),e===null&&Ha(t.stateNode.containerInfo),en(t),null;case 10:return Rh(t.type._context),en(t),null;case 17:return Rn(t.type)&&Sc(),en(t),null;case 19:if(lt(pt),l=t.memoizedState,l===null)return en(t),null;if(i=(t.flags&128)!==0,f=l.rendering,f===null)if(i)fa(l,!1);else{if(Dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(f=Pc(e),f!==null){for(t.flags|=128,fa(l,!1),i=f.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)l=n,e=i,l.flags&=14680066,f=l.alternate,f===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=f.childLanes,l.lanes=f.lanes,l.child=f.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=f.memoizedProps,l.memoizedState=f.memoizedState,l.updateQueue=f.updateQueue,l.type=f.type,e=f.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return rt(pt,pt.current&1|2),t.child}e=e.sibling}l.tail!==null&&St()>Lo&&(t.flags|=128,i=!0,fa(l,!1),t.lanes=4194304)}else{if(!i)if(e=Pc(f),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),fa(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!dt)return en(t),null}else 2*St()-l.renderingStartTime>Lo&&n!==1073741824&&(t.flags|=128,i=!0,fa(l,!1),t.lanes=4194304);l.isBackwards?(f.sibling=t.child,t.child=f):(n=l.last,n!==null?n.sibling=f:t.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=St(),t.sibling=null,n=pt.current,rt(pt,i?n&1|2:n&1),t):(en(t),null);case 22:case 23:return $h(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Fn&1073741824&&(en(t),t.subtreeFlags&6&&(t.flags|=8192)):en(t),null;case 24:return null;case 25:return null}throw Error(te(156,t.tag))}function pE(e,t){switch(Sh(t),t.tag){case 1:return Rn(t.type)&&Sc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Do(),lt(Nn),lt(rn),Mh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Dh(t),null;case 13:if(lt(pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(te(340));ko()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return lt(pt),null;case 4:return Do(),null;case 10:return Rh(t.type._context),null;case 22:case 23:return $h(),null;case 24:return null;default:return null}}var Wl=!1,nn=!1,mE=typeof WeakSet=="function"?WeakSet:Set,we=null;function ao(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){At(e,t,i)}else n.current=null}function bf(e,t,n){try{n()}catch(i){At(e,t,i)}}var F1=!1;function xE(e,t){if(af=Cc,e=cm(),bh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var a=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var f=0,g=-1,x=-1,p=0,y=0,v=e,E=null;t:for(;;){for(var _;v!==n||a!==0&&v.nodeType!==3||(g=f+a),v!==l||i!==0&&v.nodeType!==3||(x=f+i),v.nodeType===3&&(f+=v.nodeValue.length),(_=v.firstChild)!==null;)E=v,v=_;for(;;){if(v===e)break t;if(E===n&&++p===a&&(g=f),E===l&&++y===i&&(x=f),(_=v.nextSibling)!==null)break;v=E,E=v.parentNode}v=_}n=g===-1||x===-1?null:{start:g,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(lf={focusedElem:e,selectionRange:n},Cc=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var O=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var N=O.memoizedProps,D=O.memoizedState,R=t.stateNode,S=R.getSnapshotBeforeUpdate(t.elementType===t.type?N:dr(t.type,N),D);R.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(L){At(t,t.return,L)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return O=F1,F1=!1,O}function Ia(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&bf(t,n,l)}a=a.next}while(a!==i)}}function au(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function _f(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function sx(e){var t=e.alternate;t!==null&&(e.alternate=null,sx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Lr],delete t[Ga],delete t[df],delete t[Jv],delete t[eE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ox(e){return e.tag===5||e.tag===3||e.tag===4}function j1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ox(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_c));else if(i!==4&&(e=e.child,e!==null))for(Sf(e,t,n),e=e.sibling;e!==null;)Sf(e,t,n),e=e.sibling}function Tf(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Tf(e,t,n),e=e.sibling;e!==null;)Tf(e,t,n),e=e.sibling}var $t=null,gr=!1;function di(e,t,n){for(n=n.child;n!==null;)ax(e,t,n),n=n.sibling}function ax(e,t,n){if(Br&&typeof Br.onCommitFiberUnmount=="function")try{Br.onCommitFiberUnmount(Jc,n)}catch{}switch(n.tag){case 5:nn||ao(n,t);case 6:var i=$t,a=gr;$t=null,di(e,t,n),$t=i,gr=a,$t!==null&&(gr?(e=$t,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(gr?(e=$t,n=n.stateNode,e.nodeType===8?hd(e.parentNode,n):e.nodeType===1&&hd(e,n),Ua(e)):hd($t,n.stateNode));break;case 4:i=$t,a=gr,$t=n.stateNode.containerInfo,gr=!0,di(e,t,n),$t=i,gr=a;break;case 0:case 11:case 14:case 15:if(!nn&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){a=i=i.next;do{var l=a,f=l.destroy;l=l.tag,f!==void 0&&(l&2||l&4)&&bf(n,t,f),a=a.next}while(a!==i)}di(e,t,n);break;case 1:if(!nn&&(ao(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(g){At(n,t,g)}di(e,t,n);break;case 21:di(e,t,n);break;case 22:n.mode&1?(nn=(i=nn)||n.memoizedState!==null,di(e,t,n),nn=i):di(e,t,n);break;default:di(e,t,n)}}function U1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new mE),t.forEach(function(i){var a=SE.bind(null,e,i);n.has(i)||(n.add(i),i.then(a,a))})}}function ur(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var a=n[i];try{var l=e,f=t,g=f;e:for(;g!==null;){switch(g.tag){case 5:$t=g.stateNode,gr=!1;break e;case 3:$t=g.stateNode.containerInfo,gr=!0;break e;case 4:$t=g.stateNode.containerInfo,gr=!0;break e}g=g.return}if($t===null)throw Error(te(160));ax(l,f,a),$t=null,gr=!1;var x=a.alternate;x!==null&&(x.return=null),a.return=null}catch(p){At(a,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)lx(t,e),t=t.sibling}function lx(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ur(t,e),Rr(e),i&4){try{Ia(3,e,e.return),au(3,e)}catch(N){At(e,e.return,N)}try{Ia(5,e,e.return)}catch(N){At(e,e.return,N)}}break;case 1:ur(t,e),Rr(e),i&512&&n!==null&&ao(n,n.return);break;case 5:if(ur(t,e),Rr(e),i&512&&n!==null&&ao(n,n.return),e.flags&32){var a=e.stateNode;try{La(a,"")}catch(N){At(e,e.return,N)}}if(i&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,f=n!==null?n.memoizedProps:l,g=e.type,x=e.updateQueue;if(e.updateQueue=null,x!==null)try{g==="input"&&l.type==="radio"&&l.name!=null&&Rp(a,l),qd(g,f);var p=qd(g,l);for(f=0;f<x.length;f+=2){var y=x[f],v=x[f+1];y==="style"?Mp(a,v):y==="dangerouslySetInnerHTML"?Pp(a,v):y==="children"?La(a,v):dh(a,y,v,p)}switch(g){case"input":Gd(a,l);break;case"textarea":Op(a,l);break;case"select":var E=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var _=l.value;_!=null?uo(a,!!l.multiple,_,!1):E!==!!l.multiple&&(l.defaultValue!=null?uo(a,!!l.multiple,l.defaultValue,!0):uo(a,!!l.multiple,l.multiple?[]:"",!1))}a[Ga]=l}catch(N){At(e,e.return,N)}}break;case 6:if(ur(t,e),Rr(e),i&4){if(e.stateNode===null)throw Error(te(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(N){At(e,e.return,N)}}break;case 3:if(ur(t,e),Rr(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Ua(t.containerInfo)}catch(N){At(e,e.return,N)}break;case 4:ur(t,e),Rr(e);break;case 13:ur(t,e),Rr(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Wh=St())),i&4&&U1(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?(nn=(p=nn)||y,ur(t,e),nn=p):ur(t,e),Rr(e),i&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!y&&e.mode&1)for(we=e,y=e.child;y!==null;){for(v=we=y;we!==null;){switch(E=we,_=E.child,E.tag){case 0:case 11:case 14:case 15:Ia(4,E,E.return);break;case 1:ao(E,E.return);var O=E.stateNode;if(typeof O.componentWillUnmount=="function"){i=E,n=E.return;try{t=i,O.props=t.memoizedProps,O.state=t.memoizedState,O.componentWillUnmount()}catch(N){At(i,n,N)}}break;case 5:ao(E,E.return);break;case 22:if(E.memoizedState!==null){V1(v);continue}}_!==null?(_.return=E,we=_):V1(v)}y=y.sibling}e:for(y=null,v=e;;){if(v.tag===5){if(y===null){y=v;try{a=v.stateNode,p?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(g=v.stateNode,x=v.memoizedProps.style,f=x!=null&&x.hasOwnProperty("display")?x.display:null,g.style.display=Dp("display",f))}catch(N){At(e,e.return,N)}}}else if(v.tag===6){if(y===null)try{v.stateNode.nodeValue=p?"":v.memoizedProps}catch(N){At(e,e.return,N)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;y===v&&(y=null),v=v.return}y===v&&(y=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:ur(t,e),Rr(e),i&4&&U1(e);break;case 21:break;default:ur(t,e),Rr(e)}}function Rr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ox(n)){var i=n;break e}n=n.return}throw Error(te(160))}switch(i.tag){case 5:var a=i.stateNode;i.flags&32&&(La(a,""),i.flags&=-33);var l=j1(e);Tf(e,l,a);break;case 3:case 4:var f=i.stateNode.containerInfo,g=j1(e);Sf(e,g,f);break;default:throw Error(te(161))}}catch(x){At(e,e.return,x)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wE(e,t,n){we=e,cx(e)}function cx(e,t,n){for(var i=(e.mode&1)!==0;we!==null;){var a=we,l=a.child;if(a.tag===22&&i){var f=a.memoizedState!==null||Wl;if(!f){var g=a.alternate,x=g!==null&&g.memoizedState!==null||nn;g=Wl;var p=nn;if(Wl=f,(nn=x)&&!p)for(we=a;we!==null;)f=we,x=f.child,f.tag===22&&f.memoizedState!==null?H1(a):x!==null?(x.return=f,we=x):H1(a);for(;l!==null;)we=l,cx(l),l=l.sibling;we=a,Wl=g,nn=p}z1(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,we=l):z1(e)}}function z1(e){for(;we!==null;){var t=we;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nn||au(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!nn)if(n===null)i.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:dr(t.type,n.memoizedProps);i.componentDidUpdate(a,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&_1(t,l,i);break;case 3:var f=t.updateQueue;if(f!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}_1(t,f,n)}break;case 5:var g=t.stateNode;if(n===null&&t.flags&4){n=g;var x=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&n.focus();break;case"img":x.src&&(n.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var y=p.memoizedState;if(y!==null){var v=y.dehydrated;v!==null&&Ua(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}nn||t.flags&512&&_f(t)}catch(E){At(t,t.return,E)}}if(t===e){we=null;break}if(n=t.sibling,n!==null){n.return=t.return,we=n;break}we=t.return}}function V1(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var n=t.sibling;if(n!==null){n.return=t.return,we=n;break}we=t.return}}function H1(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{au(4,t)}catch(x){At(t,n,x)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var a=t.return;try{i.componentDidMount()}catch(x){At(t,a,x)}}var l=t.return;try{_f(t)}catch(x){At(t,l,x)}break;case 5:var f=t.return;try{_f(t)}catch(x){At(t,f,x)}}}catch(x){At(t,t.return,x)}if(t===e){we=null;break}var g=t.sibling;if(g!==null){g.return=t.return,we=g;break}we=t.return}}var yE=Math.ceil,Lc=ii.ReactCurrentDispatcher,Vh=ii.ReactCurrentOwner,tr=ii.ReactCurrentBatchConfig,He=0,Ut=null,It=null,Yt=0,Fn=0,lo=Ki(0),Dt=0,Za=null,bs=0,lu=0,Hh=0,Na=null,Sn=null,Wh=0,Lo=1/0,$r=null,Bc=!1,If=null,Fi=null,Gl=!1,Oi=null,Fc=0,Ra=0,Nf=null,dc=-1,fc=0;function hn(){return He&6?St():dc!==-1?dc:dc=St()}function ji(e){return e.mode&1?He&2&&Yt!==0?Yt&-Yt:nE.transition!==null?(fc===0&&(fc=Xp()),fc):(e=qe,e!==0||(e=window.event,e=e===void 0?16:em(e.type)),e):1}function wr(e,t,n,i){if(50<Ra)throw Ra=0,Nf=null,Error(te(185));cl(e,n,i),(!(He&2)||e!==Ut)&&(e===Ut&&(!(He&2)&&(lu|=n),Dt===4&&Ci(e,Yt)),On(e,i),n===1&&He===0&&!(t.mode&1)&&(Lo=St()+500,iu&&qi()))}function On(e,t){var n=e.callbackNode;nv(e,t);var i=Ec(e,e===Ut?Yt:0);if(i===0)n!==null&&Q0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Q0(n),t===1)e.tag===0?tE(W1.bind(null,e)):ym(W1.bind(null,e)),Zv(function(){!(He&6)&&qi()}),n=null;else{switch(Yp(i)){case 1:n=mh;break;case 4:n=Gp;break;case 16:n=vc;break;case 536870912:n=$p;break;default:n=vc}n=xx(n,ux.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ux(e,t){if(dc=-1,fc=0,He&6)throw Error(te(327));var n=e.callbackNode;if(mo()&&e.callbackNode!==n)return null;var i=Ec(e,e===Ut?Yt:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=jc(e,i);else{t=i;var a=He;He|=2;var l=fx();(Ut!==e||Yt!==t)&&($r=null,Lo=St()+500,ys(e,t));do try{CE();break}catch(g){dx(e,g)}while(!0);Nh(),Lc.current=l,He=a,It!==null?t=0:(Ut=null,Yt=0,t=Dt)}if(t!==0){if(t===2&&(a=tf(e),a!==0&&(i=a,t=Rf(e,a))),t===1)throw n=Za,ys(e,0),Ci(e,i),On(e,St()),n;if(t===6)Ci(e,i);else{if(a=e.current.alternate,!(i&30)&&!vE(a)&&(t=jc(e,i),t===2&&(l=tf(e),l!==0&&(i=l,t=Rf(e,l))),t===1))throw n=Za,ys(e,0),Ci(e,i),On(e,St()),n;switch(e.finishedWork=a,e.finishedLanes=i,t){case 0:case 1:throw Error(te(345));case 2:cs(e,Sn,$r);break;case 3:if(Ci(e,i),(i&130023424)===i&&(t=Wh+500-St(),10<t)){if(Ec(e,0)!==0)break;if(a=e.suspendedLanes,(a&i)!==i){hn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=uf(cs.bind(null,e,Sn,$r),t);break}cs(e,Sn,$r);break;case 4:if(Ci(e,i),(i&4194240)===i)break;for(t=e.eventTimes,a=-1;0<i;){var f=31-xr(i);l=1<<f,f=t[f],f>a&&(a=f),i&=~l}if(i=a,i=St()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*yE(i/1960))-i,10<i){e.timeoutHandle=uf(cs.bind(null,e,Sn,$r),i);break}cs(e,Sn,$r);break;case 5:cs(e,Sn,$r);break;default:throw Error(te(329))}}}return On(e,St()),e.callbackNode===n?ux.bind(null,e):null}function Rf(e,t){var n=Na;return e.current.memoizedState.isDehydrated&&(ys(e,t).flags|=256),e=jc(e,t),e!==2&&(t=Sn,Sn=n,t!==null&&Of(t)),e}function Of(e){Sn===null?Sn=e:Sn.push.apply(Sn,e)}function vE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var a=n[i],l=a.getSnapshot;a=a.value;try{if(!yr(l(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ci(e,t){for(t&=~Hh,t&=~lu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xr(t),i=1<<n;e[n]=-1,t&=~i}}function W1(e){if(He&6)throw Error(te(327));mo();var t=Ec(e,0);if(!(t&1))return On(e,St()),null;var n=jc(e,t);if(e.tag!==0&&n===2){var i=tf(e);i!==0&&(t=i,n=Rf(e,i))}if(n===1)throw n=Za,ys(e,0),Ci(e,t),On(e,St()),n;if(n===6)throw Error(te(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cs(e,Sn,$r),On(e,St()),null}function Gh(e,t){var n=He;He|=1;try{return e(t)}finally{He=n,He===0&&(Lo=St()+500,iu&&qi())}}function _s(e){Oi!==null&&Oi.tag===0&&!(He&6)&&mo();var t=He;He|=1;var n=tr.transition,i=qe;try{if(tr.transition=null,qe=1,e)return e()}finally{qe=i,tr.transition=n,He=t,!(He&6)&&qi()}}function $h(){Fn=lo.current,lt(lo)}function ys(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,qv(n)),It!==null)for(n=It.return;n!==null;){var i=n;switch(Sh(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Sc();break;case 3:Do(),lt(Nn),lt(rn),Mh();break;case 5:Dh(i);break;case 4:Do();break;case 13:lt(pt);break;case 19:lt(pt);break;case 10:Rh(i.type._context);break;case 22:case 23:$h()}n=n.return}if(Ut=e,It=e=Ui(e.current,null),Yt=Fn=t,Dt=0,Za=null,Hh=lu=bs=0,Sn=Na=null,hs!==null){for(t=0;t<hs.length;t++)if(n=hs[t],i=n.interleaved,i!==null){n.interleaved=null;var a=i.next,l=n.pending;if(l!==null){var f=l.next;l.next=a,i.next=f}n.pending=i}hs=null}return e}function dx(e,t){do{var n=It;try{if(Nh(),lc.current=Mc,Dc){for(var i=mt.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Dc=!1}if(As=0,jt=kt=mt=null,Ta=!1,Ya=0,Vh.current=null,n===null||n.return===null){Dt=1,Za=t,It=null;break}e:{var l=e,f=n.return,g=n,x=t;if(t=Yt,g.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var p=x,y=g,v=y.tag;if(!(y.mode&1)&&(v===0||v===11||v===15)){var E=y.alternate;E?(y.updateQueue=E.updateQueue,y.memoizedState=E.memoizedState,y.lanes=E.lanes):(y.updateQueue=null,y.memoizedState=null)}var _=O1(f);if(_!==null){_.flags&=-257,k1(_,f,g,l,t),_.mode&1&&R1(l,p,t),t=_,x=p;var O=t.updateQueue;if(O===null){var N=new Set;N.add(x),t.updateQueue=N}else O.add(x);break e}else{if(!(t&1)){R1(l,p,t),Xh();break e}x=Error(te(426))}}else if(dt&&g.mode&1){var D=O1(f);if(D!==null){!(D.flags&65536)&&(D.flags|=256),k1(D,f,g,l,t),Th(Mo(x,g));break e}}l=x=Mo(x,g),Dt!==4&&(Dt=2),Na===null?Na=[l]:Na.push(l),l=f;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var R=Ym(l,x,t);b1(l,R);break e;case 1:g=x;var S=l.type,I=l.stateNode;if(!(l.flags&128)&&(typeof S.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Fi===null||!Fi.has(I)))){l.flags|=65536,t&=-t,l.lanes|=t;var L=Km(l,g,t);b1(l,L);break e}}l=l.return}while(l!==null)}gx(n)}catch(z){t=z,It===n&&n!==null&&(It=n=n.return);continue}break}while(!0)}function fx(){var e=Lc.current;return Lc.current=Mc,e===null?Mc:e}function Xh(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ut===null||!(bs&268435455)&&!(lu&268435455)||Ci(Ut,Yt)}function jc(e,t){var n=He;He|=2;var i=fx();(Ut!==e||Yt!==t)&&($r=null,ys(e,t));do try{EE();break}catch(a){dx(e,a)}while(!0);if(Nh(),He=n,Lc.current=i,It!==null)throw Error(te(261));return Ut=null,Yt=0,Dt}function EE(){for(;It!==null;)hx(It)}function CE(){for(;It!==null&&!Xy();)hx(It)}function hx(e){var t=mx(e.alternate,e,Fn);e.memoizedProps=e.pendingProps,t===null?gx(e):It=t,Vh.current=null}function gx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=pE(n,t),n!==null){n.flags&=32767,It=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dt=6,It=null;return}}else if(n=gE(n,t,Fn),n!==null){It=n;return}if(t=t.sibling,t!==null){It=t;return}It=t=e}while(t!==null);Dt===0&&(Dt=5)}function cs(e,t,n){var i=qe,a=tr.transition;try{tr.transition=null,qe=1,AE(e,t,n,i)}finally{tr.transition=a,qe=i}return null}function AE(e,t,n,i){do mo();while(Oi!==null);if(He&6)throw Error(te(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(te(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(rv(e,l),e===Ut&&(It=Ut=null,Yt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gl||(Gl=!0,xx(vc,function(){return mo(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=tr.transition,tr.transition=null;var f=qe;qe=1;var g=He;He|=4,Vh.current=null,xE(e,n),lx(n,e),Hv(lf),Cc=!!af,lf=af=null,e.current=n,wE(n),Yy(),He=g,qe=f,tr.transition=l}else e.current=n;if(Gl&&(Gl=!1,Oi=e,Fc=a),l=e.pendingLanes,l===0&&(Fi=null),Zy(n.stateNode),On(e,St()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],i(a.value,{componentStack:a.stack,digest:a.digest});if(Bc)throw Bc=!1,e=If,If=null,e;return Fc&1&&e.tag!==0&&mo(),l=e.pendingLanes,l&1?e===Nf?Ra++:(Ra=0,Nf=e):Ra=0,qi(),null}function mo(){if(Oi!==null){var e=Yp(Fc),t=tr.transition,n=qe;try{if(tr.transition=null,qe=16>e?16:e,Oi===null)var i=!1;else{if(e=Oi,Oi=null,Fc=0,He&6)throw Error(te(331));var a=He;for(He|=4,we=e.current;we!==null;){var l=we,f=l.child;if(we.flags&16){var g=l.deletions;if(g!==null){for(var x=0;x<g.length;x++){var p=g[x];for(we=p;we!==null;){var y=we;switch(y.tag){case 0:case 11:case 15:Ia(8,y,l)}var v=y.child;if(v!==null)v.return=y,we=v;else for(;we!==null;){y=we;var E=y.sibling,_=y.return;if(sx(y),y===p){we=null;break}if(E!==null){E.return=_,we=E;break}we=_}}}var O=l.alternate;if(O!==null){var N=O.child;if(N!==null){O.child=null;do{var D=N.sibling;N.sibling=null,N=D}while(N!==null)}}we=l}}if(l.subtreeFlags&2064&&f!==null)f.return=l,we=f;else e:for(;we!==null;){if(l=we,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Ia(9,l,l.return)}var R=l.sibling;if(R!==null){R.return=l.return,we=R;break e}we=l.return}}var S=e.current;for(we=S;we!==null;){f=we;var I=f.child;if(f.subtreeFlags&2064&&I!==null)I.return=f,we=I;else e:for(f=S;we!==null;){if(g=we,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:au(9,g)}}catch(z){At(g,g.return,z)}if(g===f){we=null;break e}var L=g.sibling;if(L!==null){L.return=g.return,we=L;break e}we=g.return}}if(He=a,qi(),Br&&typeof Br.onPostCommitFiberRoot=="function")try{Br.onPostCommitFiberRoot(Jc,e)}catch{}i=!0}return i}finally{qe=n,tr.transition=t}}return!1}function G1(e,t,n){t=Mo(n,t),t=Ym(e,t,1),e=Bi(e,t,1),t=hn(),e!==null&&(cl(e,1,t),On(e,t))}function At(e,t,n){if(e.tag===3)G1(e,e,n);else for(;t!==null;){if(t.tag===3){G1(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Fi===null||!Fi.has(i))){e=Mo(n,e),e=Km(t,e,1),t=Bi(t,e,1),e=hn(),t!==null&&(cl(t,1,e),On(t,e));break}}t=t.return}}function bE(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=hn(),e.pingedLanes|=e.suspendedLanes&n,Ut===e&&(Yt&n)===n&&(Dt===4||Dt===3&&(Yt&130023424)===Yt&&500>St()-Wh?ys(e,0):Hh|=n),On(e,t)}function px(e,t){t===0&&(e.mode&1?(t=Ml,Ml<<=1,!(Ml&130023424)&&(Ml=4194304)):t=1);var n=hn();e=ei(e,t),e!==null&&(cl(e,t,n),On(e,n))}function _E(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),px(e,n)}function SE(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(te(314))}i!==null&&i.delete(t),px(e,n)}var mx;mx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nn.current)In=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return In=!1,hE(e,t,n);In=!!(e.flags&131072)}else In=!1,dt&&t.flags&1048576&&vm(t,Nc,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;uc(e,t),e=t.pendingProps;var a=Oo(t,rn.current);po(t,n),a=Bh(null,t,i,e,a,n);var l=Fh();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rn(i)?(l=!0,Tc(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,kh(t),a.updater=ou,t.stateNode=a,a._reactInternals=t,xf(t,i,e,n),t=vf(null,t,i,!0,l,n)):(t.tag=0,dt&&l&&_h(t),dn(null,t,a,n),t=t.child),t;case 16:i=t.elementType;e:{switch(uc(e,t),e=t.pendingProps,a=i._init,i=a(i._payload),t.type=i,a=t.tag=IE(i),e=dr(i,e),a){case 0:t=yf(null,t,i,e,n);break e;case 1:t=M1(null,t,i,e,n);break e;case 11:t=P1(null,t,i,e,n);break e;case 14:t=D1(null,t,i,dr(i.type,e),n);break e}throw Error(te(306,i,""))}return t;case 0:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:dr(i,a),yf(e,t,i,a,n);case 1:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:dr(i,a),M1(e,t,i,a,n);case 3:e:{if(Jm(t),e===null)throw Error(te(387));i=t.pendingProps,l=t.memoizedState,a=l.element,Sm(e,t),kc(t,i,null,n);var f=t.memoizedState;if(i=f.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:f.cache,pendingSuspenseBoundaries:f.pendingSuspenseBoundaries,transitions:f.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=Mo(Error(te(423)),t),t=L1(e,t,i,n,a);break e}else if(i!==a){a=Mo(Error(te(424)),t),t=L1(e,t,i,n,a);break e}else for(Un=Li(t.stateNode.containerInfo.firstChild),zn=t,dt=!0,mr=null,n=bm(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ko(),i===a){t=ti(e,t,n);break e}dn(e,t,i,n)}t=t.child}return t;case 5:return Tm(t),e===null&&gf(t),i=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,f=a.children,cf(i,a)?f=null:l!==null&&cf(i,l)&&(t.flags|=32),Qm(e,t),dn(e,t,f,n),t.child;case 6:return e===null&&gf(t),null;case 13:return ex(e,t,n);case 4:return Ph(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Po(t,null,i,n):dn(e,t,i,n),t.child;case 11:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:dr(i,a),P1(e,t,i,a,n);case 7:return dn(e,t,t.pendingProps,n),t.child;case 8:return dn(e,t,t.pendingProps.children,n),t.child;case 12:return dn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,a=t.pendingProps,l=t.memoizedProps,f=a.value,rt(Rc,i._currentValue),i._currentValue=f,l!==null)if(yr(l.value,f)){if(l.children===a.children&&!Nn.current){t=ti(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var g=l.dependencies;if(g!==null){f=l.child;for(var x=g.firstContext;x!==null;){if(x.context===i){if(l.tag===1){x=Zr(-1,n&-n),x.tag=2;var p=l.updateQueue;if(p!==null){p=p.shared;var y=p.pending;y===null?x.next=x:(x.next=y.next,y.next=x),p.pending=x}}l.lanes|=n,x=l.alternate,x!==null&&(x.lanes|=n),pf(l.return,n,t),g.lanes|=n;break}x=x.next}}else if(l.tag===10)f=l.type===t.type?null:l.child;else if(l.tag===18){if(f=l.return,f===null)throw Error(te(341));f.lanes|=n,g=f.alternate,g!==null&&(g.lanes|=n),pf(f,n,t),f=l.sibling}else f=l.child;if(f!==null)f.return=l;else for(f=l;f!==null;){if(f===t){f=null;break}if(l=f.sibling,l!==null){l.return=f.return,f=l;break}f=f.return}l=f}dn(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,i=t.pendingProps.children,po(t,n),a=nr(a),i=i(a),t.flags|=1,dn(e,t,i,n),t.child;case 14:return i=t.type,a=dr(i,t.pendingProps),a=dr(i.type,a),D1(e,t,i,a,n);case 15:return qm(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:dr(i,a),uc(e,t),t.tag=1,Rn(i)?(e=!0,Tc(t)):e=!1,po(t,n),Xm(t,i,a),xf(t,i,a,n),vf(null,t,i,!0,e,n);case 19:return tx(e,t,n);case 22:return Zm(e,t,n)}throw Error(te(156,t.tag))};function xx(e,t){return Wp(e,t)}function TE(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(e,t,n,i){return new TE(e,t,n,i)}function Yh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function IE(e){if(typeof e=="function")return Yh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hh)return 11;if(e===gh)return 14}return 2}function Ui(e,t){var n=e.alternate;return n===null?(n=er(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function hc(e,t,n,i,a,l){var f=2;if(i=e,typeof e=="function")Yh(e)&&(f=1);else if(typeof e=="string")f=5;else e:switch(e){case Qs:return vs(n.children,a,l,t);case fh:f=8,a|=8;break;case Ud:return e=er(12,n,t,a|2),e.elementType=Ud,e.lanes=l,e;case zd:return e=er(13,n,t,a),e.elementType=zd,e.lanes=l,e;case Vd:return e=er(19,n,t,a),e.elementType=Vd,e.lanes=l,e;case Tp:return cu(n,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _p:f=10;break e;case Sp:f=9;break e;case hh:f=11;break e;case gh:f=14;break e;case wi:f=16,i=null;break e}throw Error(te(130,e==null?e:typeof e,""))}return t=er(f,n,t,a),t.elementType=e,t.type=i,t.lanes=l,t}function vs(e,t,n,i){return e=er(7,e,i,t),e.lanes=n,e}function cu(e,t,n,i){return e=er(22,e,i,t),e.elementType=Tp,e.lanes=n,e.stateNode={isHidden:!1},e}function Ed(e,t,n){return e=er(6,e,null,t),e.lanes=n,e}function Cd(e,t,n){return t=er(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function NE(e,t,n,i,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nd(0),this.expirationTimes=nd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nd(0),this.identifierPrefix=i,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Kh(e,t,n,i,a,l,f,g,x){return e=new NE(e,t,n,g,x),t===1?(t=1,l===!0&&(t|=8)):t=0,l=er(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(l),e}function RE(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zs,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function wx(e){if(!e)return Hi;e=e._reactInternals;e:{if(Ns(e)!==e||e.tag!==1)throw Error(te(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(te(171))}if(e.tag===1){var n=e.type;if(Rn(n))return wm(e,n,t)}return t}function yx(e,t,n,i,a,l,f,g,x){return e=Kh(n,i,!0,e,a,l,f,g,x),e.context=wx(null),n=e.current,i=hn(),a=ji(n),l=Zr(i,a),l.callback=t??null,Bi(n,l,a),e.current.lanes=a,cl(e,a,i),On(e,i),e}function uu(e,t,n,i){var a=t.current,l=hn(),f=ji(a);return n=wx(n),t.context===null?t.context=n:t.pendingContext=n,t=Zr(l,f),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Bi(a,t,f),e!==null&&(wr(e,a,f,l),ac(e,a,f)),f}function Uc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function qh(e,t){$1(e,t),(e=e.alternate)&&$1(e,t)}function OE(){return null}var vx=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zh(e){this._internalRoot=e}du.prototype.render=Zh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(te(409));uu(e,t,null,null)};du.prototype.unmount=Zh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_s(function(){uu(null,e,null,null)}),t[Jr]=null}};function du(e){this._internalRoot=e}du.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ei.length&&t!==0&&t<Ei[n].priority;n++);Ei.splice(n,0,e),n===0&&Jp(e)}};function Qh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function X1(){}function kE(e,t,n,i,a){if(a){if(typeof i=="function"){var l=i;i=function(){var p=Uc(f);l.call(p)}}var f=yx(t,i,e,0,null,!1,!1,"",X1);return e._reactRootContainer=f,e[Jr]=f.current,Ha(e.nodeType===8?e.parentNode:e),_s(),f}for(;a=e.lastChild;)e.removeChild(a);if(typeof i=="function"){var g=i;i=function(){var p=Uc(x);g.call(p)}}var x=Kh(e,0,!1,null,null,!1,!1,"",X1);return e._reactRootContainer=x,e[Jr]=x.current,Ha(e.nodeType===8?e.parentNode:e),_s(function(){uu(t,x,n,i)}),x}function hu(e,t,n,i,a){var l=n._reactRootContainer;if(l){var f=l;if(typeof a=="function"){var g=a;a=function(){var x=Uc(f);g.call(x)}}uu(t,f,e,a)}else f=kE(n,t,e,a,i);return Uc(f)}Kp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ya(t.pendingLanes);n!==0&&(xh(t,n|1),On(t,St()),!(He&6)&&(Lo=St()+500,qi()))}break;case 13:_s(function(){var i=ei(e,1);if(i!==null){var a=hn();wr(i,e,1,a)}}),qh(e,1)}};wh=function(e){if(e.tag===13){var t=ei(e,134217728);if(t!==null){var n=hn();wr(t,e,134217728,n)}qh(e,134217728)}};qp=function(e){if(e.tag===13){var t=ji(e),n=ei(e,t);if(n!==null){var i=hn();wr(n,e,t,i)}qh(e,t)}};Zp=function(){return qe};Qp=function(e,t){var n=qe;try{return qe=e,t()}finally{qe=n}};Qd=function(e,t,n){switch(t){case"input":if(Gd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var a=ru(i);if(!a)throw Error(te(90));Np(i),Gd(i,a)}}}break;case"textarea":Op(e,n);break;case"select":t=n.value,t!=null&&uo(e,!!n.multiple,t,!1)}};Fp=Gh;jp=_s;var PE={usingClientEntryPoint:!1,Events:[dl,no,ru,Lp,Bp,Gh]},ha={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DE={bundleType:ha.bundleType,version:ha.version,rendererPackageName:ha.rendererPackageName,rendererConfig:ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Vp(e),e===null?null:e.stateNode},findFiberByHostInstance:ha.findFiberByHostInstance||OE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$l.isDisabled&&$l.supportsFiber)try{Jc=$l.inject(DE),Br=$l}catch{}}Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PE;Wn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qh(t))throw Error(te(200));return RE(e,t,null,n)};Wn.createRoot=function(e,t){if(!Qh(e))throw Error(te(299));var n=!1,i="",a=vx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Kh(e,1,!1,null,null,n,!1,i,a),e[Jr]=t.current,Ha(e.nodeType===8?e.parentNode:e),new Zh(t)};Wn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(te(188)):(e=Object.keys(e).join(","),Error(te(268,e)));return e=Vp(t),e=e===null?null:e.stateNode,e};Wn.flushSync=function(e){return _s(e)};Wn.hydrate=function(e,t,n){if(!fu(t))throw Error(te(200));return hu(null,e,t,!0,n)};Wn.hydrateRoot=function(e,t,n){if(!Qh(e))throw Error(te(405));var i=n!=null&&n.hydratedSources||null,a=!1,l="",f=vx;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(f=n.onRecoverableError)),t=yx(t,null,e,1,n??null,a,!1,l,f),e[Jr]=t.current,Ha(e),i)for(e=0;e<i.length;e++)n=i[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new du(t)};Wn.render=function(e,t,n){if(!fu(t))throw Error(te(200));return hu(null,e,t,!1,n)};Wn.unmountComponentAtNode=function(e){if(!fu(e))throw Error(te(40));return e._reactRootContainer?(_s(function(){hu(null,null,e,!1,function(){e._reactRootContainer=null,e[Jr]=null})}),!0):!1};Wn.unstable_batchedUpdates=Gh;Wn.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!fu(n))throw Error(te(200));if(e==null||e._reactInternals===void 0)throw Error(te(38));return hu(e,t,n,!1,i)};Wn.version="18.3.1-next-f1338f8080-20240426";function Ex(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ex)}catch(e){console.error(e)}}Ex(),Ep.exports=Wn;var hl=Ep.exports;const Cx=ih(hl);var Ax,Y1=hl;Ax=Y1.createRoot,Y1.hydrateRoot;const ME=1,LE=1e6;let Ad=0;function BE(){return Ad=(Ad+1)%Number.MAX_SAFE_INTEGER,Ad.toString()}const bd=new Map,K1=e=>{if(bd.has(e))return;const t=setTimeout(()=>{bd.delete(e),Oa({type:"REMOVE_TOAST",toastId:e})},LE);bd.set(e,t)},FE=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,ME)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?K1(n):e.toasts.forEach(i=>{K1(i.id)}),{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},gc=[];let pc={toasts:[]};function Oa(e){pc=FE(pc,e),gc.forEach(t=>{t(pc)})}function jE({...e}){const t=BE(),n=a=>Oa({type:"UPDATE_TOAST",toast:{...a,id:t}}),i=()=>Oa({type:"DISMISS_TOAST",toastId:t});return Oa({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||i()}}}),{id:t,dismiss:i,update:n}}function UE(){const[e,t]=M.useState(pc);return M.useEffect(()=>(gc.push(t),()=>{const n=gc.indexOf(t);n>-1&&gc.splice(n,1)}),[e]),{...e,toast:jE,dismiss:n=>Oa({type:"DISMISS_TOAST",toastId:n})}}function Pt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function zE(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function bx(...e){return t=>e.forEach(n=>zE(n,t))}function vr(...e){return M.useCallback(bx(...e),e)}function VE(e,t=[]){let n=[];function i(l,f){const g=M.createContext(f),x=n.length;n=[...n,f];function p(v){const{scope:E,children:_,...O}=v,N=(E==null?void 0:E[e][x])||g,D=M.useMemo(()=>O,Object.values(O));return B.jsx(N.Provider,{value:D,children:_})}function y(v,E){const _=(E==null?void 0:E[e][x])||g,O=M.useContext(_);if(O)return O;if(f!==void 0)return f;throw new Error(`\`${v}\` must be used within \`${l}\``)}return p.displayName=l+"Provider",[p,y]}const a=()=>{const l=n.map(f=>M.createContext(f));return function(g){const x=(g==null?void 0:g[e])||l;return M.useMemo(()=>({[`__scope${e}`]:{...g,[e]:x}}),[g,x])}};return a.scopeName=e,[i,HE(a,...t)]}function HE(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const f=i.reduce((g,{useScope:x,scopeName:p})=>{const v=x(l)[`__scope${p}`];return{...g,...v}},{});return M.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return n.scopeName=t.scopeName,n}var Qa=M.forwardRef((e,t)=>{const{children:n,...i}=e,a=M.Children.toArray(n),l=a.find(WE);if(l){const f=l.props.children,g=a.map(x=>x===l?M.Children.count(f)>1?M.Children.only(null):M.isValidElement(f)?f.props.children:null:x);return B.jsx(kf,{...i,ref:t,children:M.isValidElement(f)?M.cloneElement(f,void 0,g):null})}return B.jsx(kf,{...i,ref:t,children:n})});Qa.displayName="Slot";var kf=M.forwardRef((e,t)=>{const{children:n,...i}=e;if(M.isValidElement(n)){const a=$E(n);return M.cloneElement(n,{...GE(i,n.props),ref:t?bx(t,a):a})}return M.Children.count(n)>1?M.Children.only(null):null});kf.displayName="SlotClone";var _x=({children:e})=>B.jsx(B.Fragment,{children:e});function WE(e){return M.isValidElement(e)&&e.type===_x}function GE(e,t){const n={...t};for(const i in t){const a=e[i],l=t[i];/^on[A-Z]/.test(i)?a&&l?n[i]=(...g)=>{l(...g),a(...g)}:a&&(n[i]=a):i==="style"?n[i]={...a,...l}:i==="className"&&(n[i]=[a,l].filter(Boolean).join(" "))}return{...e,...n}}function $E(e){var i,a;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function XE(e){const t=e+"CollectionProvider",[n,i]=VE(t),[a,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),f=_=>{const{scope:O,children:N}=_,D=ae.useRef(null),R=ae.useRef(new Map).current;return B.jsx(a,{scope:O,itemMap:R,collectionRef:D,children:N})};f.displayName=t;const g=e+"CollectionSlot",x=ae.forwardRef((_,O)=>{const{scope:N,children:D}=_,R=l(g,N),S=vr(O,R.collectionRef);return B.jsx(Qa,{ref:S,children:D})});x.displayName=g;const p=e+"CollectionItemSlot",y="data-radix-collection-item",v=ae.forwardRef((_,O)=>{const{scope:N,children:D,...R}=_,S=ae.useRef(null),I=vr(O,S),L=l(p,N);return ae.useEffect(()=>(L.itemMap.set(S,{ref:S,...R}),()=>void L.itemMap.delete(S))),B.jsx(Qa,{[y]:"",ref:I,children:D})});v.displayName=p;function E(_){const O=l(e+"CollectionConsumer",_);return ae.useCallback(()=>{const D=O.collectionRef.current;if(!D)return[];const R=Array.from(D.querySelectorAll(`[${y}]`));return Array.from(O.itemMap.values()).sort((L,z)=>R.indexOf(L.ref.current)-R.indexOf(z.ref.current))},[O.collectionRef,O.itemMap])}return[{Provider:f,Slot:x,ItemSlot:v},E,i]}function Sx(e,t=[]){let n=[];function i(l,f){const g=M.createContext(f),x=n.length;n=[...n,f];const p=v=>{var R;const{scope:E,children:_,...O}=v,N=((R=E==null?void 0:E[e])==null?void 0:R[x])||g,D=M.useMemo(()=>O,Object.values(O));return B.jsx(N.Provider,{value:D,children:_})};p.displayName=l+"Provider";function y(v,E){var N;const _=((N=E==null?void 0:E[e])==null?void 0:N[x])||g,O=M.useContext(_);if(O)return O;if(f!==void 0)return f;throw new Error(`\`${v}\` must be used within \`${l}\``)}return[p,y]}const a=()=>{const l=n.map(f=>M.createContext(f));return function(g){const x=(g==null?void 0:g[e])||l;return M.useMemo(()=>({[`__scope${e}`]:{...g,[e]:x}}),[g,x])}};return a.scopeName=e,[i,YE(a,...t)]}function YE(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const f=i.reduce((g,{useScope:x,scopeName:p})=>{const v=x(l)[`__scope${p}`];return{...g,...v}},{});return M.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return n.scopeName=t.scopeName,n}var KE=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],kn=KE.reduce((e,t)=>{const n=M.forwardRef((i,a)=>{const{asChild:l,...f}=i,g=l?Qa:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),B.jsx(g,{...f,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Tx(e,t){e&&hl.flushSync(()=>e.dispatchEvent(t))}function jr(e){const t=M.useRef(e);return M.useEffect(()=>{t.current=e}),M.useMemo(()=>(...n)=>{var i;return(i=t.current)==null?void 0:i.call(t,...n)},[])}function qE(e,t=globalThis==null?void 0:globalThis.document){const n=jr(e);M.useEffect(()=>{const i=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[n,t])}var ZE="DismissableLayer",Pf="dismissableLayer.update",QE="dismissableLayer.pointerDownOutside",JE="dismissableLayer.focusOutside",q1,Ix=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Jh=M.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:f,onDismiss:g,...x}=e,p=M.useContext(Ix),[y,v]=M.useState(null),E=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=M.useState({}),O=vr(t,U=>v(U)),N=Array.from(p.layers),[D]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),R=N.indexOf(D),S=y?N.indexOf(y):-1,I=p.layersWithOutsidePointerEventsDisabled.size>0,L=S>=R,z=t3(U=>{const q=U.target,$=[...p.branches].some(ue=>ue.contains(q));!L||$||(a==null||a(U),f==null||f(U),U.defaultPrevented||g==null||g())},E),G=n3(U=>{const q=U.target;[...p.branches].some(ue=>ue.contains(q))||(l==null||l(U),f==null||f(U),U.defaultPrevented||g==null||g())},E);return qE(U=>{S===p.layers.size-1&&(i==null||i(U),!U.defaultPrevented&&g&&(U.preventDefault(),g()))},E),M.useEffect(()=>{if(y)return n&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(q1=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(y)),p.layers.add(y),Z1(),()=>{n&&p.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=q1)}},[y,E,n,p]),M.useEffect(()=>()=>{y&&(p.layers.delete(y),p.layersWithOutsidePointerEventsDisabled.delete(y),Z1())},[y,p]),M.useEffect(()=>{const U=()=>_({});return document.addEventListener(Pf,U),()=>document.removeEventListener(Pf,U)},[]),B.jsx(kn.div,{...x,ref:O,style:{pointerEvents:I?L?"auto":"none":void 0,...e.style},onFocusCapture:Pt(e.onFocusCapture,G.onFocusCapture),onBlurCapture:Pt(e.onBlurCapture,G.onBlurCapture),onPointerDownCapture:Pt(e.onPointerDownCapture,z.onPointerDownCapture)})});Jh.displayName=ZE;var e3="DismissableLayerBranch",Nx=M.forwardRef((e,t)=>{const n=M.useContext(Ix),i=M.useRef(null),a=vr(t,i);return M.useEffect(()=>{const l=i.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),B.jsx(kn.div,{...e,ref:a})});Nx.displayName=e3;function t3(e,t=globalThis==null?void 0:globalThis.document){const n=jr(e),i=M.useRef(!1),a=M.useRef(()=>{});return M.useEffect(()=>{const l=g=>{if(g.target&&!i.current){let x=function(){Rx(QE,n,p,{discrete:!0})};const p={originalEvent:g};g.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=x,t.addEventListener("click",a.current,{once:!0})):x()}else t.removeEventListener("click",a.current);i.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",l),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function n3(e,t=globalThis==null?void 0:globalThis.document){const n=jr(e),i=M.useRef(!1);return M.useEffect(()=>{const a=l=>{l.target&&!i.current&&Rx(JE,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Z1(){const e=new CustomEvent(Pf);document.dispatchEvent(e)}function Rx(e,t,n,{discrete:i}){const a=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),i?Tx(a,l):a.dispatchEvent(l)}var r3=Jh,i3=Nx,Ss=globalThis!=null&&globalThis.document?M.useLayoutEffect:()=>{},s3="Portal",Ox=M.forwardRef((e,t)=>{var g;const{container:n,...i}=e,[a,l]=M.useState(!1);Ss(()=>l(!0),[]);const f=n||a&&((g=globalThis==null?void 0:globalThis.document)==null?void 0:g.body);return f?Cx.createPortal(B.jsx(kn.div,{...i,ref:t}),f):null});Ox.displayName=s3;function o3(e,t){return M.useReducer((n,i)=>t[n][i]??n,e)}var e0=e=>{const{present:t,children:n}=e,i=a3(t),a=typeof n=="function"?n({present:i.isPresent}):M.Children.only(n),l=vr(i.ref,l3(a));return typeof n=="function"||i.isPresent?M.cloneElement(a,{ref:l}):null};e0.displayName="Presence";function a3(e){const[t,n]=M.useState(),i=M.useRef({}),a=M.useRef(e),l=M.useRef("none"),f=e?"mounted":"unmounted",[g,x]=o3(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const p=Xl(i.current);l.current=g==="mounted"?p:"none"},[g]),Ss(()=>{const p=i.current,y=a.current;if(y!==e){const E=l.current,_=Xl(p);e?x("MOUNT"):_==="none"||(p==null?void 0:p.display)==="none"?x("UNMOUNT"):x(y&&E!==_?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,x]),Ss(()=>{if(t){let p;const y=t.ownerDocument.defaultView??window,v=_=>{const N=Xl(i.current).includes(_.animationName);if(_.target===t&&N&&(x("ANIMATION_END"),!a.current)){const D=t.style.animationFillMode;t.style.animationFillMode="forwards",p=y.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=D)})}},E=_=>{_.target===t&&(l.current=Xl(i.current))};return t.addEventListener("animationstart",E),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{y.clearTimeout(p),t.removeEventListener("animationstart",E),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else x("ANIMATION_END")},[t,x]),{isPresent:["mounted","unmountSuspended"].includes(g),ref:M.useCallback(p=>{p&&(i.current=getComputedStyle(p)),n(p)},[])}}function Xl(e){return(e==null?void 0:e.animationName)||"none"}function l3(e){var i,a;let t=(i=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function c3({prop:e,defaultProp:t,onChange:n=()=>{}}){const[i,a]=u3({defaultProp:t,onChange:n}),l=e!==void 0,f=l?e:i,g=jr(n),x=M.useCallback(p=>{if(l){const v=typeof p=="function"?p(e):p;v!==e&&g(v)}else a(p)},[l,e,a,g]);return[f,x]}function u3({defaultProp:e,onChange:t}){const n=M.useState(e),[i]=n,a=M.useRef(i),l=jr(t);return M.useEffect(()=>{a.current!==i&&(l(i),a.current=i)},[i,a,l]),n}var d3="VisuallyHidden",gu=M.forwardRef((e,t)=>B.jsx(kn.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));gu.displayName=d3;var f3=gu,t0="ToastProvider",[n0,h3,g3]=XE("Toast"),[kx,dT]=Sx("Toast",[g3]),[p3,pu]=kx(t0),Px=e=>{const{__scopeToast:t,label:n="Notification",duration:i=5e3,swipeDirection:a="right",swipeThreshold:l=50,children:f}=e,[g,x]=M.useState(null),[p,y]=M.useState(0),v=M.useRef(!1),E=M.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${t0}\`. Expected non-empty \`string\`.`),B.jsx(n0.Provider,{scope:t,children:B.jsx(p3,{scope:t,label:n,duration:i,swipeDirection:a,swipeThreshold:l,toastCount:p,viewport:g,onViewportChange:x,onToastAdd:M.useCallback(()=>y(_=>_+1),[]),onToastRemove:M.useCallback(()=>y(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:E,children:f})})};Px.displayName=t0;var Dx="ToastViewport",m3=["F8"],Df="toast.viewportPause",Mf="toast.viewportResume",Mx=M.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:i=m3,label:a="Notifications ({hotkey})",...l}=e,f=pu(Dx,n),g=h3(n),x=M.useRef(null),p=M.useRef(null),y=M.useRef(null),v=M.useRef(null),E=vr(t,v,f.onViewportChange),_=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),O=f.toastCount>0;M.useEffect(()=>{const D=R=>{var I;i.length!==0&&i.every(L=>R[L]||R.code===L)&&((I=v.current)==null||I.focus())};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[i]),M.useEffect(()=>{const D=x.current,R=v.current;if(O&&D&&R){const S=()=>{if(!f.isClosePausedRef.current){const G=new CustomEvent(Df);R.dispatchEvent(G),f.isClosePausedRef.current=!0}},I=()=>{if(f.isClosePausedRef.current){const G=new CustomEvent(Mf);R.dispatchEvent(G),f.isClosePausedRef.current=!1}},L=G=>{!D.contains(G.relatedTarget)&&I()},z=()=>{D.contains(document.activeElement)||I()};return D.addEventListener("focusin",S),D.addEventListener("focusout",L),D.addEventListener("pointermove",S),D.addEventListener("pointerleave",z),window.addEventListener("blur",S),window.addEventListener("focus",I),()=>{D.removeEventListener("focusin",S),D.removeEventListener("focusout",L),D.removeEventListener("pointermove",S),D.removeEventListener("pointerleave",z),window.removeEventListener("blur",S),window.removeEventListener("focus",I)}}},[O,f.isClosePausedRef]);const N=M.useCallback(({tabbingDirection:D})=>{const S=g().map(I=>{const L=I.ref.current,z=[L,...N3(L)];return D==="forwards"?z:z.reverse()});return(D==="forwards"?S.reverse():S).flat()},[g]);return M.useEffect(()=>{const D=v.current;if(D){const R=S=>{var z,G,U;const I=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!I){const q=document.activeElement,$=S.shiftKey;if(S.target===D&&$){(z=p.current)==null||z.focus();return}const Q=N({tabbingDirection:$?"backwards":"forwards"}),de=Q.findIndex(se=>se===q);_d(Q.slice(de+1))?S.preventDefault():$?(G=p.current)==null||G.focus():(U=y.current)==null||U.focus()}};return D.addEventListener("keydown",R),()=>D.removeEventListener("keydown",R)}},[g,N]),B.jsxs(i3,{ref:x,role:"region","aria-label":a.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:O?void 0:"none"},children:[O&&B.jsx(Lf,{ref:p,onFocusFromOutsideViewport:()=>{const D=N({tabbingDirection:"forwards"});_d(D)}}),B.jsx(n0.Slot,{scope:n,children:B.jsx(kn.ol,{tabIndex:-1,...l,ref:E})}),O&&B.jsx(Lf,{ref:y,onFocusFromOutsideViewport:()=>{const D=N({tabbingDirection:"backwards"});_d(D)}})]})});Mx.displayName=Dx;var Lx="ToastFocusProxy",Lf=M.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:i,...a}=e,l=pu(Lx,n);return B.jsx(gu,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:f=>{var p;const g=f.relatedTarget;!((p=l.viewport)!=null&&p.contains(g))&&i()}})});Lf.displayName=Lx;var mu="Toast",x3="toast.swipeStart",w3="toast.swipeMove",y3="toast.swipeCancel",v3="toast.swipeEnd",Bx=M.forwardRef((e,t)=>{const{forceMount:n,open:i,defaultOpen:a,onOpenChange:l,...f}=e,[g=!0,x]=c3({prop:i,defaultProp:a,onChange:l});return B.jsx(e0,{present:n||g,children:B.jsx(A3,{open:g,...f,ref:t,onClose:()=>x(!1),onPause:jr(e.onPause),onResume:jr(e.onResume),onSwipeStart:Pt(e.onSwipeStart,p=>{p.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pt(e.onSwipeMove,p=>{const{x:y,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","move"),p.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:Pt(e.onSwipeCancel,p=>{p.currentTarget.setAttribute("data-swipe","cancel"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pt(e.onSwipeEnd,p=>{const{x:y,y:v}=p.detail.delta;p.currentTarget.setAttribute("data-swipe","end"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),p.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),p.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),p.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),x(!1)})})})});Bx.displayName=mu;var[E3,C3]=kx(mu,{onClose(){}}),A3=M.forwardRef((e,t)=>{const{__scopeToast:n,type:i="foreground",duration:a,open:l,onClose:f,onEscapeKeyDown:g,onPause:x,onResume:p,onSwipeStart:y,onSwipeMove:v,onSwipeCancel:E,onSwipeEnd:_,...O}=e,N=pu(mu,n),[D,R]=M.useState(null),S=vr(t,se=>R(se)),I=M.useRef(null),L=M.useRef(null),z=a||N.duration,G=M.useRef(0),U=M.useRef(z),q=M.useRef(0),{onToastAdd:$,onToastRemove:ue}=N,ve=jr(()=>{var H;(D==null?void 0:D.contains(document.activeElement))&&((H=N.viewport)==null||H.focus()),f()}),Q=M.useCallback(se=>{!se||se===1/0||(window.clearTimeout(q.current),G.current=new Date().getTime(),q.current=window.setTimeout(ve,se))},[ve]);M.useEffect(()=>{const se=N.viewport;if(se){const H=()=>{Q(U.current),p==null||p()},me=()=>{const ce=new Date().getTime()-G.current;U.current=U.current-ce,window.clearTimeout(q.current),x==null||x()};return se.addEventListener(Df,me),se.addEventListener(Mf,H),()=>{se.removeEventListener(Df,me),se.removeEventListener(Mf,H)}}},[N.viewport,z,x,p,Q]),M.useEffect(()=>{l&&!N.isClosePausedRef.current&&Q(z)},[l,z,N.isClosePausedRef,Q]),M.useEffect(()=>($(),()=>ue()),[$,ue]);const de=M.useMemo(()=>D?Wx(D):null,[D]);return N.viewport?B.jsxs(B.Fragment,{children:[de&&B.jsx(b3,{__scopeToast:n,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:de}),B.jsx(E3,{scope:n,onClose:ve,children:hl.createPortal(B.jsx(n0.ItemSlot,{scope:n,children:B.jsx(r3,{asChild:!0,onEscapeKeyDown:Pt(g,()=>{N.isFocusedToastEscapeKeyDownRef.current||ve(),N.isFocusedToastEscapeKeyDownRef.current=!1}),children:B.jsx(kn.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":N.swipeDirection,...O,ref:S,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Pt(e.onKeyDown,se=>{se.key==="Escape"&&(g==null||g(se.nativeEvent),se.nativeEvent.defaultPrevented||(N.isFocusedToastEscapeKeyDownRef.current=!0,ve()))}),onPointerDown:Pt(e.onPointerDown,se=>{se.button===0&&(I.current={x:se.clientX,y:se.clientY})}),onPointerMove:Pt(e.onPointerMove,se=>{if(!I.current)return;const H=se.clientX-I.current.x,me=se.clientY-I.current.y,ce=!!L.current,K=["left","right"].includes(N.swipeDirection),re=["left","up"].includes(N.swipeDirection)?Math.min:Math.max,he=K?re(0,H):0,fe=K?0:re(0,me),xe=se.pointerType==="touch"?10:2,Te={x:he,y:fe},De={originalEvent:se,delta:Te};ce?(L.current=Te,Yl(w3,v,De,{discrete:!1})):Q1(Te,N.swipeDirection,xe)?(L.current=Te,Yl(x3,y,De,{discrete:!1}),se.target.setPointerCapture(se.pointerId)):(Math.abs(H)>xe||Math.abs(me)>xe)&&(I.current=null)}),onPointerUp:Pt(e.onPointerUp,se=>{const H=L.current,me=se.target;if(me.hasPointerCapture(se.pointerId)&&me.releasePointerCapture(se.pointerId),L.current=null,I.current=null,H){const ce=se.currentTarget,K={originalEvent:se,delta:H};Q1(H,N.swipeDirection,N.swipeThreshold)?Yl(v3,_,K,{discrete:!0}):Yl(y3,E,K,{discrete:!0}),ce.addEventListener("click",re=>re.preventDefault(),{once:!0})}})})})}),N.viewport)})]}):null}),b3=e=>{const{__scopeToast:t,children:n,...i}=e,a=pu(mu,t),[l,f]=M.useState(!1),[g,x]=M.useState(!1);return T3(()=>f(!0)),M.useEffect(()=>{const p=window.setTimeout(()=>x(!0),1e3);return()=>window.clearTimeout(p)},[]),g?null:B.jsx(Ox,{asChild:!0,children:B.jsx(gu,{...i,children:l&&B.jsxs(B.Fragment,{children:[a.label," ",n]})})})},_3="ToastTitle",Fx=M.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e;return B.jsx(kn.div,{...i,ref:t})});Fx.displayName=_3;var S3="ToastDescription",jx=M.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e;return B.jsx(kn.div,{...i,ref:t})});jx.displayName=S3;var Ux="ToastAction",zx=M.forwardRef((e,t)=>{const{altText:n,...i}=e;return n.trim()?B.jsx(Hx,{altText:n,asChild:!0,children:B.jsx(r0,{...i,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ux}\`. Expected non-empty \`string\`.`),null)});zx.displayName=Ux;var Vx="ToastClose",r0=M.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e,a=C3(Vx,n);return B.jsx(Hx,{asChild:!0,children:B.jsx(kn.button,{type:"button",...i,ref:t,onClick:Pt(e.onClick,a.onClose)})})});r0.displayName=Vx;var Hx=M.forwardRef((e,t)=>{const{__scopeToast:n,altText:i,...a}=e;return B.jsx(kn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...a,ref:t})});function Wx(e){const t=[];return Array.from(e.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&t.push(i.textContent),I3(i)){const a=i.ariaHidden||i.hidden||i.style.display==="none",l=i.dataset.radixToastAnnounceExclude==="";if(!a)if(l){const f=i.dataset.radixToastAnnounceAlt;f&&t.push(f)}else t.push(...Wx(i))}}),t}function Yl(e,t,n,{discrete:i}){const a=n.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),i?Tx(a,l):a.dispatchEvent(l)}var Q1=(e,t,n=0)=>{const i=Math.abs(e.x),a=Math.abs(e.y),l=i>a;return t==="left"||t==="right"?l&&i>n:!l&&a>n};function T3(e=()=>{}){const t=jr(e);Ss(()=>{let n=0,i=0;return n=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(i)}},[t])}function I3(e){return e.nodeType===e.ELEMENT_NODE}function N3(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const a=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||a?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function _d(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var R3=Px,Gx=Mx,$x=Bx,Xx=Fx,Yx=jx,Kx=zx,qx=r0;function Zx(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=Zx(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function Qx(){for(var e,t,n=0,i="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=Zx(e))&&(i&&(i+=" "),i+=t);return i}const J1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,eg=Qx,Jx=(e,t)=>n=>{var i;if((t==null?void 0:t.variants)==null)return eg(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:l}=t,f=Object.keys(a).map(p=>{const y=n==null?void 0:n[p],v=l==null?void 0:l[p];if(y===null)return null;const E=J1(y)||J1(v);return a[p][E]}),g=n&&Object.entries(n).reduce((p,y)=>{let[v,E]=y;return E===void 0||(p[v]=E),p},{}),x=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((p,y)=>{let{class:v,className:E,..._}=y;return Object.entries(_).every(O=>{let[N,D]=O;return Array.isArray(D)?D.includes({...l,...g}[N]):{...l,...g}[N]===D})?[...p,v,E]:p},[]);return eg(e,f,x,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),e2=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var k3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=M.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:f,...g},x)=>M.createElement("svg",{ref:x,...k3,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:e2("lucide",a),...g},[...f.map(([p,y])=>M.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=(e,t)=>{const n=M.forwardRef(({className:i,...a},l)=>M.createElement(P3,{ref:l,iconNode:t,className:e2(`lucide-${O3(e)}`,i),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=Rs("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=Rs("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=Rs("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=Rs("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=Rs("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=Rs("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=Rs("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),i0="-",z3=e=>{const t=H3(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:f=>{const g=f.split(i0);return g[0]===""&&g.length!==1&&g.shift(),t2(g,t)||V3(f)},getConflictingClassGroupIds:(f,g)=>{const x=n[f]||[];return g&&i[f]?[...x,...i[f]]:x}}},t2=(e,t)=>{var f;if(e.length===0)return t.classGroupId;const n=e[0],i=t.nextPart.get(n),a=i?t2(e.slice(1),i):void 0;if(a)return a;if(t.validators.length===0)return;const l=e.join(i0);return(f=t.validators.find(({validator:g})=>g(l)))==null?void 0:f.classGroupId},tg=/^\[(.+)\]$/,V3=e=>{if(tg.test(e)){const t=tg.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},H3=e=>{const{theme:t,prefix:n}=e,i={nextPart:new Map,validators:[]};return G3(Object.entries(e.classGroups),n).forEach(([l,f])=>{Bf(f,i,l,t)}),i},Bf=(e,t,n,i)=>{e.forEach(a=>{if(typeof a=="string"){const l=a===""?t:ng(t,a);l.classGroupId=n;return}if(typeof a=="function"){if(W3(a)){Bf(a(i),t,n,i);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([l,f])=>{Bf(f,ng(t,l),n,i)})})},ng=(e,t)=>{let n=e;return t.split(i0).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},W3=e=>e.isThemeGetter,G3=(e,t)=>t?e.map(([n,i])=>{const a=i.map(l=>typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([f,g])=>[t+f,g])):l);return[n,a]}):e,$3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,i=new Map;const a=(l,f)=>{n.set(l,f),t++,t>e&&(t=0,i=n,n=new Map)};return{get(l){let f=n.get(l);if(f!==void 0)return f;if((f=i.get(l))!==void 0)return a(l,f),f},set(l,f){n.has(l)?n.set(l,f):a(l,f)}}},n2="!",X3=e=>{const{separator:t,experimentalParseClassName:n}=e,i=t.length===1,a=t[0],l=t.length,f=g=>{const x=[];let p=0,y=0,v;for(let D=0;D<g.length;D++){let R=g[D];if(p===0){if(R===a&&(i||g.slice(D,D+l)===t)){x.push(g.slice(y,D)),y=D+l;continue}if(R==="/"){v=D;continue}}R==="["?p++:R==="]"&&p--}const E=x.length===0?g:g.substring(y),_=E.startsWith(n2),O=_?E.substring(1):E,N=v&&v>y?v-y:void 0;return{modifiers:x,hasImportantModifier:_,baseClassName:O,maybePostfixModifierPosition:N}};return n?g=>n({className:g,parseClassName:f}):f},Y3=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(i=>{i[0]==="["?(t.push(...n.sort(),i),n=[]):n.push(i)}),t.push(...n.sort()),t},K3=e=>({cache:$3(e.cacheSize),parseClassName:X3(e),...z3(e)}),q3=/\s+/,Z3=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:a}=t,l=[],f=e.trim().split(q3);let g="";for(let x=f.length-1;x>=0;x-=1){const p=f[x],{modifiers:y,hasImportantModifier:v,baseClassName:E,maybePostfixModifierPosition:_}=n(p);let O=!!_,N=i(O?E.substring(0,_):E);if(!N){if(!O){g=p+(g.length>0?" "+g:g);continue}if(N=i(E),!N){g=p+(g.length>0?" "+g:g);continue}O=!1}const D=Y3(y).join(":"),R=v?D+n2:D,S=R+N;if(l.includes(S))continue;l.push(S);const I=a(N,O);for(let L=0;L<I.length;++L){const z=I[L];l.push(R+z)}g=p+(g.length>0?" "+g:g)}return g};function Q3(){let e=0,t,n,i="";for(;e<arguments.length;)(t=arguments[e++])&&(n=r2(t))&&(i&&(i+=" "),i+=n);return i}const r2=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=r2(e[i]))&&(n&&(n+=" "),n+=t);return n};function J3(e,...t){let n,i,a,l=f;function f(x){const p=t.reduce((y,v)=>v(y),e());return n=K3(p),i=n.cache.get,a=n.cache.set,l=g,g(x)}function g(x){const p=i(x);if(p)return p;const y=Z3(x,n);return a(x,y),y}return function(){return l(Q3.apply(null,arguments))}}const st=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},i2=/^\[(?:([a-z-]+):)?(.+)\]$/i,eC=/^\d+\/\d+$/,tC=new Set(["px","full","screen"]),nC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,iC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hr=e=>xo(e)||tC.has(e)||eC.test(e),fi=e=>Wo(e,"length",gC),xo=e=>!!e&&!Number.isNaN(Number(e)),Sd=e=>Wo(e,"number",xo),ga=e=>!!e&&Number.isInteger(Number(e)),aC=e=>e.endsWith("%")&&xo(e.slice(0,-1)),Re=e=>i2.test(e),hi=e=>nC.test(e),lC=new Set(["length","size","percentage"]),cC=e=>Wo(e,lC,s2),uC=e=>Wo(e,"position",s2),dC=new Set(["image","url"]),fC=e=>Wo(e,dC,mC),hC=e=>Wo(e,"",pC),pa=()=>!0,Wo=(e,t,n)=>{const i=i2.exec(e);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):n(i[2]):!1},gC=e=>rC.test(e)&&!iC.test(e),s2=()=>!1,pC=e=>sC.test(e),mC=e=>oC.test(e),xC=()=>{const e=st("colors"),t=st("spacing"),n=st("blur"),i=st("brightness"),a=st("borderColor"),l=st("borderRadius"),f=st("borderSpacing"),g=st("borderWidth"),x=st("contrast"),p=st("grayscale"),y=st("hueRotate"),v=st("invert"),E=st("gap"),_=st("gradientColorStops"),O=st("gradientColorStopPositions"),N=st("inset"),D=st("margin"),R=st("opacity"),S=st("padding"),I=st("saturate"),L=st("scale"),z=st("sepia"),G=st("skew"),U=st("space"),q=st("translate"),$=()=>["auto","contain","none"],ue=()=>["auto","hidden","clip","visible","scroll"],ve=()=>["auto",Re,t],Q=()=>[Re,t],de=()=>["",Hr,fi],se=()=>["auto",xo,Re],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],me=()=>["solid","dashed","dotted","double","none"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],re=()=>["","0",Re],he=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>[xo,Re];return{cacheSize:500,separator:":",theme:{colors:[pa],spacing:[Hr,fi],blur:["none","",hi,Re],brightness:fe(),borderColor:[e],borderRadius:["none","","full",hi,Re],borderSpacing:Q(),borderWidth:de(),contrast:fe(),grayscale:re(),hueRotate:fe(),invert:re(),gap:Q(),gradientColorStops:[e],gradientColorStopPositions:[aC,fi],inset:ve(),margin:ve(),opacity:fe(),padding:Q(),saturate:fe(),scale:fe(),sepia:re(),skew:fe(),space:Q(),translate:Q()},classGroups:{aspect:[{aspect:["auto","square","video",Re]}],container:["container"],columns:[{columns:[hi]}],"break-after":[{"break-after":he()}],"break-before":[{"break-before":he()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),Re]}],overflow:[{overflow:ue()}],"overflow-x":[{"overflow-x":ue()}],"overflow-y":[{"overflow-y":ue()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ga,Re]}],basis:[{basis:ve()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Re]}],grow:[{grow:re()}],shrink:[{shrink:re()}],order:[{order:["first","last","none",ga,Re]}],"grid-cols":[{"grid-cols":[pa]}],"col-start-end":[{col:["auto",{span:["full",ga,Re]},Re]}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":[pa]}],"row-start-end":[{row:["auto",{span:[ga,Re]},Re]}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Re]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[D]}],mx:[{mx:[D]}],my:[{my:[D]}],ms:[{ms:[D]}],me:[{me:[D]}],mt:[{mt:[D]}],mr:[{mr:[D]}],mb:[{mb:[D]}],ml:[{ml:[D]}],"space-x":[{"space-x":[U]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[U]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Re,t]}],"min-w":[{"min-w":[Re,t,"min","max","fit"]}],"max-w":[{"max-w":[Re,t,"none","full","min","max","fit","prose",{screen:[hi]},hi]}],h:[{h:[Re,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Re,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Re,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Re,t,"auto","min","max","fit"]}],"font-size":[{text:["base",hi,fi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Sd]}],"font-family":[{font:[pa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Re]}],"line-clamp":[{"line-clamp":["none",xo,Sd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Hr,Re]}],"list-image":[{"list-image":["none",Re]}],"list-style-type":[{list:["none","disc","decimal",Re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Hr,fi]}],"underline-offset":[{"underline-offset":["auto",Hr,Re]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),uC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",cC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fC]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[O]}],"gradient-via-pos":[{via:[O]}],"gradient-to-pos":[{to:[O]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[g]}],"border-w-x":[{"border-x":[g]}],"border-w-y":[{"border-y":[g]}],"border-w-s":[{"border-s":[g]}],"border-w-e":[{"border-e":[g]}],"border-w-t":[{"border-t":[g]}],"border-w-r":[{"border-r":[g]}],"border-w-b":[{"border-b":[g]}],"border-w-l":[{"border-l":[g]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...me(),"hidden"]}],"divide-x":[{"divide-x":[g]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[g]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:me()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...me()]}],"outline-offset":[{"outline-offset":[Hr,Re]}],"outline-w":[{outline:[Hr,fi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[Hr,fi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",hi,hC]}],"shadow-color":[{shadow:[pa]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...ce(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ce()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[x]}],"drop-shadow":[{"drop-shadow":["","none",hi,Re]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[v]}],saturate:[{saturate:[I]}],sepia:[{sepia:[z]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[x]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[z]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[f]}],"border-spacing-x":[{"border-spacing-x":[f]}],"border-spacing-y":[{"border-spacing-y":[f]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Re]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",Re]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[L]}],"scale-x":[{"scale-x":[L]}],"scale-y":[{"scale-y":[L]}],rotate:[{rotate:[ga,Re]}],"translate-x":[{"translate-x":[q]}],"translate-y":[{"translate-y":[q]}],"skew-x":[{"skew-x":[G]}],"skew-y":[{"skew-y":[G]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Re]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Hr,fi,Sd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},wC=J3(xC);function sn(...e){return wC(Qx(e))}function wo(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}const yC=R3,o2=M.forwardRef(({className:e,...t},n)=>B.jsx(Gx,{ref:n,className:sn("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));o2.displayName=Gx.displayName;const vC=Jx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),a2=M.forwardRef(({className:e,variant:t,...n},i)=>B.jsx($x,{ref:i,className:sn(vC({variant:t}),e),...n}));a2.displayName=$x.displayName;const EC=M.forwardRef(({className:e,...t},n)=>B.jsx(Kx,{ref:n,className:sn("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));EC.displayName=Kx.displayName;const l2=M.forwardRef(({className:e,...t},n)=>B.jsx(qx,{ref:n,className:sn("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:B.jsx(U3,{className:"h-4 w-4"})}));l2.displayName=qx.displayName;const c2=M.forwardRef(({className:e,...t},n)=>B.jsx(Xx,{ref:n,className:sn("text-sm font-semibold",e),...t}));c2.displayName=Xx.displayName;const u2=M.forwardRef(({className:e,...t},n)=>B.jsx(Yx,{ref:n,className:sn("text-sm opacity-90",e),...t}));u2.displayName=Yx.displayName;function CC(){const{toasts:e}=UE();return B.jsxs(yC,{children:[e.map(function({id:t,title:n,description:i,action:a,...l}){return B.jsxs(a2,{...l,children:[B.jsxs("div",{className:"grid gap-1",children:[n&&B.jsx(c2,{children:n}),i&&B.jsx(u2,{children:i})]}),a,B.jsx(l2,{})]},t)}),B.jsx(o2,{})]})}var rg=["light","dark"],AC="(prefers-color-scheme: dark)",bC=M.createContext(void 0),_C={setTheme:e=>{},themes:[]},SC=()=>{var e;return(e=M.useContext(bC))!=null?e:_C};M.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:i,enableColorScheme:a,defaultTheme:l,value:f,attrs:g,nonce:x})=>{let p=l==="system",y=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${g.map(O=>`'${O}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,v=a?rg.includes(l)&&l?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${l}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",E=(O,N=!1,D=!0)=>{let R=f?f[O]:O,S=N?O+"|| ''":`'${R}'`,I="";return a&&D&&!N&&rg.includes(O)&&(I+=`d.style.colorScheme = '${O}';`),n==="class"?N||R?I+=`c.add(${S})`:I+="null":R&&(I+=`d[s](n,${S})`),I},_=e?`!function(){${y}${E(e)}}()`:i?`!function(){try{${y}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${p})){var t='${AC}',m=window.matchMedia(t);if(m.media!==t||m.matches){${E("dark")}}else{${E("light")}}}else if(e){${f?`var x=${JSON.stringify(f)};`:""}${E(f?"x[e]":"e",!0)}}${p?"":"else{"+E(l,!1,!1)+"}"}${v}}catch(e){}}()`:`!function(){try{${y}var e=localStorage.getItem('${t}');if(e){${f?`var x=${JSON.stringify(f)};`:""}${E(f?"x[e]":"e",!0)}}else{${E(l,!1,!1)};}${v}}catch(t){}}();`;return M.createElement("script",{nonce:x,dangerouslySetInnerHTML:{__html:_}})});var TC=e=>{switch(e){case"success":return RC;case"info":return kC;case"warning":return OC;case"error":return PC;default:return null}},IC=Array(12).fill(0),NC=({visible:e})=>ae.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},ae.createElement("div",{className:"sonner-spinner"},IC.map((t,n)=>ae.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),RC=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),OC=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),kC=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),PC=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),DC=()=>{let[e,t]=ae.useState(document.hidden);return ae.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Ff=1,MC=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...i}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ff++,l=this.toasts.find(g=>g.id===a),f=e.dismissible===void 0?!0:e.dismissible;return l?this.toasts=this.toasts.map(g=>g.id===a?(this.publish({...g,...e,id:a,title:n}),{...g,...e,id:a,dismissible:f,title:n}):g):this.addToast({title:n,...i,dismissible:f,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let i=e instanceof Promise?e:e(),a=n!==void 0;return i.then(async l=>{if(BC(l)&&!l.ok){a=!1;let f=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,g=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:n,type:"error",message:f,description:g})}else if(t.success!==void 0){a=!1;let f=typeof t.success=="function"?await t.success(l):t.success,g=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"success",message:f,description:g})}}).catch(async l=>{if(t.error!==void 0){a=!1;let f=typeof t.error=="function"?await t.error(l):t.error,g=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"error",message:f,description:g})}}).finally(()=>{var l;a&&(this.dismiss(n),n=void 0),(l=t.finally)==null||l.call(t)}),n},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Ff++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},Bn=new MC,LC=(e,t)=>{let n=(t==null?void 0:t.id)||Ff++;return Bn.addToast({title:e,...t,id:n}),n},BC=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",FC=LC,jC=()=>Bn.toasts,_n=Object.assign(FC,{success:Bn.success,info:Bn.info,warning:Bn.warning,error:Bn.error,custom:Bn.custom,message:Bn.message,promise:Bn.promise,dismiss:Bn.dismiss,loading:Bn.loading},{getHistory:jC});function UC(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}UC(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Kl(e){return e.label!==void 0}var zC=3,VC="32px",HC=4e3,WC=356,GC=14,$C=20,XC=200;function YC(...e){return e.filter(Boolean).join(" ")}var KC=e=>{var t,n,i,a,l,f,g,x,p,y;let{invert:v,toast:E,unstyled:_,interacting:O,setHeights:N,visibleToasts:D,heights:R,index:S,toasts:I,expanded:L,removeToast:z,defaultRichColors:G,closeButton:U,style:q,cancelButtonStyle:$,actionButtonStyle:ue,className:ve="",descriptionClassName:Q="",duration:de,position:se,gap:H,loadingIcon:me,expandByDefault:ce,classNames:K,icons:re,closeButtonAriaLabel:he="Close toast",pauseWhenPageIsHidden:fe,cn:xe}=e,[Te,De]=ae.useState(!1),[zt,le]=ae.useState(!1),[on,Qe]=ae.useState(!1),[mn,xn]=ae.useState(!1),[Nt,ir]=ae.useState(0),[Me,$n]=ae.useState(0),an=ae.useRef(null),wn=ae.useRef(null),bt=S===0,Ge=S+1<=D,Ae=E.type,sr=E.dismissible!==!1,ye=E.className||"",Ds=E.descriptionClassName||"",es=ae.useMemo(()=>R.findIndex(Se=>Se.toastId===E.id)||0,[R,E.id]),or=ae.useMemo(()=>{var Se;return(Se=E.closeButton)!=null?Se:U},[E.closeButton,U]),Ms=ae.useMemo(()=>E.duration||de||HC,[E.duration,de]),ln=ae.useRef(0),Vr=ae.useRef(0),ar=ae.useRef(0),wt=ae.useRef(null),[Zo,Ls]=se.split("-"),wl=ae.useMemo(()=>R.reduce((Se,Ye,Ke)=>Ke>=es?Se:Se+Ye.height,0),[R,es]),ft=DC(),oe=E.invert||v,ht=Ae==="loading";Vr.current=ae.useMemo(()=>es*H+wl,[es,wl]),ae.useEffect(()=>{De(!0)},[]),ae.useLayoutEffect(()=>{if(!Te)return;let Se=wn.current,Ye=Se.style.height;Se.style.height="auto";let Ke=Se.getBoundingClientRect().height;Se.style.height=Ye,$n(Ke),N(Ie=>Ie.find(Mt=>Mt.toastId===E.id)?Ie.map(Mt=>Mt.toastId===E.id?{...Mt,height:Ke}:Mt):[{toastId:E.id,height:Ke,position:E.position},...Ie])},[Te,E.title,E.description,N,E.id]);let Fe=ae.useCallback(()=>{le(!0),ir(Vr.current),N(Se=>Se.filter(Ye=>Ye.toastId!==E.id)),setTimeout(()=>{z(E)},XC)},[E,z,N,Vr]);ae.useEffect(()=>{if(E.promise&&Ae==="loading"||E.duration===1/0||E.type==="loading")return;let Se,Ye=Ms;return L||O||fe&&ft?(()=>{if(ar.current<ln.current){let Ke=new Date().getTime()-ln.current;Ye=Ye-Ke}ar.current=new Date().getTime()})():Ye!==1/0&&(ln.current=new Date().getTime(),Se=setTimeout(()=>{var Ke;(Ke=E.onAutoClose)==null||Ke.call(E,E),Fe()},Ye)),()=>clearTimeout(Se)},[L,O,ce,E,Ms,Fe,E.promise,Ae,fe,ft]),ae.useEffect(()=>{let Se=wn.current;if(Se){let Ye=Se.getBoundingClientRect().height;return $n(Ye),N(Ke=>[{toastId:E.id,height:Ye,position:E.position},...Ke]),()=>N(Ke=>Ke.filter(Ie=>Ie.toastId!==E.id))}},[N,E.id]),ae.useEffect(()=>{E.delete&&Fe()},[Fe,E.delete]);function ct(){return re!=null&&re.loading?ae.createElement("div",{className:"sonner-loader","data-visible":Ae==="loading"},re.loading):me?ae.createElement("div",{className:"sonner-loader","data-visible":Ae==="loading"},me):ae.createElement(NC,{visible:Ae==="loading"})}return ae.createElement("li",{"aria-live":E.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:wn,className:xe(ve,ye,K==null?void 0:K.toast,(t=E==null?void 0:E.classNames)==null?void 0:t.toast,K==null?void 0:K.default,K==null?void 0:K[Ae],(n=E==null?void 0:E.classNames)==null?void 0:n[Ae]),"data-sonner-toast":"","data-rich-colors":(i=E.richColors)!=null?i:G,"data-styled":!(E.jsx||E.unstyled||_),"data-mounted":Te,"data-promise":!!E.promise,"data-removed":zt,"data-visible":Ge,"data-y-position":Zo,"data-x-position":Ls,"data-index":S,"data-front":bt,"data-swiping":on,"data-dismissible":sr,"data-type":Ae,"data-invert":oe,"data-swipe-out":mn,"data-expanded":!!(L||ce&&Te),style:{"--index":S,"--toasts-before":S,"--z-index":I.length-S,"--offset":`${zt?Nt:Vr.current}px`,"--initial-height":ce?"auto":`${Me}px`,...q,...E.style},onPointerDown:Se=>{ht||!sr||(an.current=new Date,ir(Vr.current),Se.target.setPointerCapture(Se.pointerId),Se.target.tagName!=="BUTTON"&&(Qe(!0),wt.current={x:Se.clientX,y:Se.clientY}))},onPointerUp:()=>{var Se,Ye,Ke,Ie;if(mn||!sr)return;wt.current=null;let Mt=Number(((Se=wn.current)==null?void 0:Se.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ts=new Date().getTime()-((Ye=an.current)==null?void 0:Ye.getTime()),yl=Math.abs(Mt)/ts;if(Math.abs(Mt)>=$C||yl>.11){ir(Vr.current),(Ke=E.onDismiss)==null||Ke.call(E,E),Fe(),xn(!0);return}(Ie=wn.current)==null||Ie.style.setProperty("--swipe-amount","0px"),Qe(!1)},onPointerMove:Se=>{var Ye;if(!wt.current||!sr)return;let Ke=Se.clientY-wt.current.y,Ie=Se.clientX-wt.current.x,Mt=(Zo==="top"?Math.min:Math.max)(0,Ke),ts=Se.pointerType==="touch"?10:2;Math.abs(Mt)>ts?(Ye=wn.current)==null||Ye.style.setProperty("--swipe-amount",`${Ke}px`):Math.abs(Ie)>ts&&(wt.current=null)}},or&&!E.jsx?ae.createElement("button",{"aria-label":he,"data-disabled":ht,"data-close-button":!0,onClick:ht||!sr?()=>{}:()=>{var Se;Fe(),(Se=E.onDismiss)==null||Se.call(E,E)},className:xe(K==null?void 0:K.closeButton,(a=E==null?void 0:E.classNames)==null?void 0:a.closeButton)},ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ae.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ae.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,E.jsx||ae.isValidElement(E.title)?E.jsx||E.title:ae.createElement(ae.Fragment,null,Ae||E.icon||E.promise?ae.createElement("div",{"data-icon":"",className:xe(K==null?void 0:K.icon,(l=E==null?void 0:E.classNames)==null?void 0:l.icon)},E.promise||E.type==="loading"&&!E.icon?E.icon||ct():null,E.type!=="loading"?E.icon||(re==null?void 0:re[Ae])||TC(Ae):null):null,ae.createElement("div",{"data-content":"",className:xe(K==null?void 0:K.content,(f=E==null?void 0:E.classNames)==null?void 0:f.content)},ae.createElement("div",{"data-title":"",className:xe(K==null?void 0:K.title,(g=E==null?void 0:E.classNames)==null?void 0:g.title)},E.title),E.description?ae.createElement("div",{"data-description":"",className:xe(Q,Ds,K==null?void 0:K.description,(x=E==null?void 0:E.classNames)==null?void 0:x.description)},E.description):null),ae.isValidElement(E.cancel)?E.cancel:E.cancel&&Kl(E.cancel)?ae.createElement("button",{"data-button":!0,"data-cancel":!0,style:E.cancelButtonStyle||$,onClick:Se=>{var Ye,Ke;Kl(E.cancel)&&sr&&((Ke=(Ye=E.cancel).onClick)==null||Ke.call(Ye,Se),Fe())},className:xe(K==null?void 0:K.cancelButton,(p=E==null?void 0:E.classNames)==null?void 0:p.cancelButton)},E.cancel.label):null,ae.isValidElement(E.action)?E.action:E.action&&Kl(E.action)?ae.createElement("button",{"data-button":!0,"data-action":!0,style:E.actionButtonStyle||ue,onClick:Se=>{var Ye,Ke;Kl(E.action)&&(Se.defaultPrevented||((Ke=(Ye=E.action).onClick)==null||Ke.call(Ye,Se),Fe()))},className:xe(K==null?void 0:K.actionButton,(y=E==null?void 0:E.classNames)==null?void 0:y.actionButton)},E.action.label):null))};function ig(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var qC=e=>{let{invert:t,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:l,className:f,offset:g,theme:x="light",richColors:p,duration:y,style:v,visibleToasts:E=zC,toastOptions:_,dir:O=ig(),gap:N=GC,loadingIcon:D,icons:R,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:I,cn:L=YC}=e,[z,G]=ae.useState([]),U=ae.useMemo(()=>Array.from(new Set([n].concat(z.filter(fe=>fe.position).map(fe=>fe.position)))),[z,n]),[q,$]=ae.useState([]),[ue,ve]=ae.useState(!1),[Q,de]=ae.useState(!1),[se,H]=ae.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),me=ae.useRef(null),ce=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),K=ae.useRef(null),re=ae.useRef(!1),he=ae.useCallback(fe=>{var xe;(xe=z.find(Te=>Te.id===fe.id))!=null&&xe.delete||Bn.dismiss(fe.id),G(Te=>Te.filter(({id:De})=>De!==fe.id))},[z]);return ae.useEffect(()=>Bn.subscribe(fe=>{if(fe.dismiss){G(xe=>xe.map(Te=>Te.id===fe.id?{...Te,delete:!0}:Te));return}setTimeout(()=>{Cx.flushSync(()=>{G(xe=>{let Te=xe.findIndex(De=>De.id===fe.id);return Te!==-1?[...xe.slice(0,Te),{...xe[Te],...fe},...xe.slice(Te+1)]:[fe,...xe]})})})}),[]),ae.useEffect(()=>{if(x!=="system"){H(x);return}x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:fe})=>{H(fe?"dark":"light")})},[x]),ae.useEffect(()=>{z.length<=1&&ve(!1)},[z]),ae.useEffect(()=>{let fe=xe=>{var Te,De;i.every(zt=>xe[zt]||xe.code===zt)&&(ve(!0),(Te=me.current)==null||Te.focus()),xe.code==="Escape"&&(document.activeElement===me.current||(De=me.current)!=null&&De.contains(document.activeElement))&&ve(!1)};return document.addEventListener("keydown",fe),()=>document.removeEventListener("keydown",fe)},[i]),ae.useEffect(()=>{if(me.current)return()=>{K.current&&(K.current.focus({preventScroll:!0}),K.current=null,re.current=!1)}},[me.current]),z.length?ae.createElement("section",{"aria-label":`${S} ${ce}`,tabIndex:-1},U.map((fe,xe)=>{var Te;let[De,zt]=fe.split("-");return ae.createElement("ol",{key:fe,dir:O==="auto"?ig():O,tabIndex:-1,ref:me,className:f,"data-sonner-toaster":!0,"data-theme":se,"data-y-position":De,"data-x-position":zt,style:{"--front-toast-height":`${((Te=q[0])==null?void 0:Te.height)||0}px`,"--offset":typeof g=="number"?`${g}px`:g||VC,"--width":`${WC}px`,"--gap":`${N}px`,...v},onBlur:le=>{re.current&&!le.currentTarget.contains(le.relatedTarget)&&(re.current=!1,K.current&&(K.current.focus({preventScroll:!0}),K.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||re.current||(re.current=!0,K.current=le.relatedTarget)},onMouseEnter:()=>ve(!0),onMouseMove:()=>ve(!0),onMouseLeave:()=>{Q||ve(!1)},onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||de(!0)},onPointerUp:()=>de(!1)},z.filter(le=>!le.position&&xe===0||le.position===fe).map((le,on)=>{var Qe,mn;return ae.createElement(KC,{key:le.id,icons:R,index:on,toast:le,defaultRichColors:p,duration:(Qe=_==null?void 0:_.duration)!=null?Qe:y,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:t,visibleToasts:E,closeButton:(mn=_==null?void 0:_.closeButton)!=null?mn:l,interacting:Q,position:fe,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,removeToast:he,toasts:z.filter(xn=>xn.position==le.position),heights:q.filter(xn=>xn.position==le.position),setHeights:$,expandByDefault:a,gap:N,loadingIcon:D,expanded:ue,pauseWhenPageIsHidden:I,cn:L})}))})):null};const ZC=({...e})=>{const{theme:t="system"}=SC();return B.jsx(qC,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},QC=["top","right","bottom","left"],Wi=Math.min,jn=Math.max,zc=Math.round,ql=Math.floor,Gi=e=>({x:e,y:e}),JC={left:"right",right:"left",bottom:"top",top:"bottom"},eA={start:"end",end:"start"};function jf(e,t,n){return jn(e,Wi(t,n))}function ni(e,t){return typeof e=="function"?e(t):e}function ri(e){return e.split("-")[0]}function Go(e){return e.split("-")[1]}function s0(e){return e==="x"?"y":"x"}function o0(e){return e==="y"?"height":"width"}function $i(e){return["top","bottom"].includes(ri(e))?"y":"x"}function a0(e){return s0($i(e))}function tA(e,t,n){n===void 0&&(n=!1);const i=Go(e),a=a0(e),l=o0(a);let f=a==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(f=Vc(f)),[f,Vc(f)]}function nA(e){const t=Vc(e);return[Uf(e),t,Uf(t)]}function Uf(e){return e.replace(/start|end/g,t=>eA[t])}function rA(e,t,n){const i=["left","right"],a=["right","left"],l=["top","bottom"],f=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:i:t?i:a;case"left":case"right":return t?l:f;default:return[]}}function iA(e,t,n,i){const a=Go(e);let l=rA(ri(e),n==="start",i);return a&&(l=l.map(f=>f+"-"+a),t&&(l=l.concat(l.map(Uf)))),l}function Vc(e){return e.replace(/left|right|bottom|top/g,t=>JC[t])}function sA(e){return{top:0,right:0,bottom:0,left:0,...e}}function d2(e){return typeof e!="number"?sA(e):{top:e,right:e,bottom:e,left:e}}function Hc(e){const{x:t,y:n,width:i,height:a}=e;return{width:i,height:a,top:n,left:t,right:t+i,bottom:n+a,x:t,y:n}}function sg(e,t,n){let{reference:i,floating:a}=e;const l=$i(t),f=a0(t),g=o0(f),x=ri(t),p=l==="y",y=i.x+i.width/2-a.width/2,v=i.y+i.height/2-a.height/2,E=i[g]/2-a[g]/2;let _;switch(x){case"top":_={x:y,y:i.y-a.height};break;case"bottom":_={x:y,y:i.y+i.height};break;case"right":_={x:i.x+i.width,y:v};break;case"left":_={x:i.x-a.width,y:v};break;default:_={x:i.x,y:i.y}}switch(Go(t)){case"start":_[f]-=E*(n&&p?-1:1);break;case"end":_[f]+=E*(n&&p?-1:1);break}return _}const oA=async(e,t,n)=>{const{placement:i="bottom",strategy:a="absolute",middleware:l=[],platform:f}=n,g=l.filter(Boolean),x=await(f.isRTL==null?void 0:f.isRTL(t));let p=await f.getElementRects({reference:e,floating:t,strategy:a}),{x:y,y:v}=sg(p,i,x),E=i,_={},O=0;for(let N=0;N<g.length;N++){const{name:D,fn:R}=g[N],{x:S,y:I,data:L,reset:z}=await R({x:y,y:v,initialPlacement:i,placement:E,strategy:a,middlewareData:_,rects:p,platform:f,elements:{reference:e,floating:t}});y=S??y,v=I??v,_={..._,[D]:{..._[D],...L}},z&&O<=50&&(O++,typeof z=="object"&&(z.placement&&(E=z.placement),z.rects&&(p=z.rects===!0?await f.getElementRects({reference:e,floating:t,strategy:a}):z.rects),{x:y,y:v}=sg(p,E,x)),N=-1)}return{x:y,y:v,placement:E,strategy:a,middlewareData:_}};async function Ja(e,t){var n;t===void 0&&(t={});const{x:i,y:a,platform:l,rects:f,elements:g,strategy:x}=e,{boundary:p="clippingAncestors",rootBoundary:y="viewport",elementContext:v="floating",altBoundary:E=!1,padding:_=0}=ni(t,e),O=d2(_),D=g[E?v==="floating"?"reference":"floating":v],R=Hc(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(D)))==null||n?D:D.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(g.floating)),boundary:p,rootBoundary:y,strategy:x})),S=v==="floating"?{x:i,y:a,width:f.floating.width,height:f.floating.height}:f.reference,I=await(l.getOffsetParent==null?void 0:l.getOffsetParent(g.floating)),L=await(l.isElement==null?void 0:l.isElement(I))?await(l.getScale==null?void 0:l.getScale(I))||{x:1,y:1}:{x:1,y:1},z=Hc(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:g,rect:S,offsetParent:I,strategy:x}):S);return{top:(R.top-z.top+O.top)/L.y,bottom:(z.bottom-R.bottom+O.bottom)/L.y,left:(R.left-z.left+O.left)/L.x,right:(z.right-R.right+O.right)/L.x}}const aA=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:a,rects:l,platform:f,elements:g,middlewareData:x}=t,{element:p,padding:y=0}=ni(e,t)||{};if(p==null)return{};const v=d2(y),E={x:n,y:i},_=a0(a),O=o0(_),N=await f.getDimensions(p),D=_==="y",R=D?"top":"left",S=D?"bottom":"right",I=D?"clientHeight":"clientWidth",L=l.reference[O]+l.reference[_]-E[_]-l.floating[O],z=E[_]-l.reference[_],G=await(f.getOffsetParent==null?void 0:f.getOffsetParent(p));let U=G?G[I]:0;(!U||!await(f.isElement==null?void 0:f.isElement(G)))&&(U=g.floating[I]||l.floating[O]);const q=L/2-z/2,$=U/2-N[O]/2-1,ue=Wi(v[R],$),ve=Wi(v[S],$),Q=ue,de=U-N[O]-ve,se=U/2-N[O]/2+q,H=jf(Q,se,de),me=!x.arrow&&Go(a)!=null&&se!==H&&l.reference[O]/2-(se<Q?ue:ve)-N[O]/2<0,ce=me?se<Q?se-Q:se-de:0;return{[_]:E[_]+ce,data:{[_]:H,centerOffset:se-H-ce,...me&&{alignmentOffset:ce}},reset:me}}}),lA=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:a,middlewareData:l,rects:f,initialPlacement:g,platform:x,elements:p}=t,{mainAxis:y=!0,crossAxis:v=!0,fallbackPlacements:E,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:O="none",flipAlignment:N=!0,...D}=ni(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const R=ri(a),S=$i(g),I=ri(g)===g,L=await(x.isRTL==null?void 0:x.isRTL(p.floating)),z=E||(I||!N?[Vc(g)]:nA(g)),G=O!=="none";!E&&G&&z.push(...iA(g,N,O,L));const U=[g,...z],q=await Ja(t,D),$=[];let ue=((i=l.flip)==null?void 0:i.overflows)||[];if(y&&$.push(q[R]),v){const se=tA(a,f,L);$.push(q[se[0]],q[se[1]])}if(ue=[...ue,{placement:a,overflows:$}],!$.every(se=>se<=0)){var ve,Q;const se=(((ve=l.flip)==null?void 0:ve.index)||0)+1,H=U[se];if(H)return{data:{index:se,overflows:ue},reset:{placement:H}};let me=(Q=ue.filter(ce=>ce.overflows[0]<=0).sort((ce,K)=>ce.overflows[1]-K.overflows[1])[0])==null?void 0:Q.placement;if(!me)switch(_){case"bestFit":{var de;const ce=(de=ue.filter(K=>{if(G){const re=$i(K.placement);return re===S||re==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(re=>re>0).reduce((re,he)=>re+he,0)]).sort((K,re)=>K[1]-re[1])[0])==null?void 0:de[0];ce&&(me=ce);break}case"initialPlacement":me=g;break}if(a!==me)return{reset:{placement:me}}}return{}}}};function og(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ag(e){return QC.some(t=>e[t]>=0)}const cA=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:i="referenceHidden",...a}=ni(e,t);switch(i){case"referenceHidden":{const l=await Ja(t,{...a,elementContext:"reference"}),f=og(l,n.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:ag(f)}}}case"escaped":{const l=await Ja(t,{...a,altBoundary:!0}),f=og(l,n.floating);return{data:{escapedOffsets:f,escaped:ag(f)}}}default:return{}}}}};async function uA(e,t){const{placement:n,platform:i,elements:a}=e,l=await(i.isRTL==null?void 0:i.isRTL(a.floating)),f=ri(n),g=Go(n),x=$i(n)==="y",p=["left","top"].includes(f)?-1:1,y=l&&x?-1:1,v=ni(t,e);let{mainAxis:E,crossAxis:_,alignmentAxis:O}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return g&&typeof O=="number"&&(_=g==="end"?O*-1:O),x?{x:_*y,y:E*p}:{x:E*p,y:_*y}}const dA=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:a,y:l,placement:f,middlewareData:g}=t,x=await uA(t,e);return f===((n=g.offset)==null?void 0:n.placement)&&(i=g.arrow)!=null&&i.alignmentOffset?{}:{x:a+x.x,y:l+x.y,data:{...x,placement:f}}}}},fA=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:a}=t,{mainAxis:l=!0,crossAxis:f=!1,limiter:g={fn:D=>{let{x:R,y:S}=D;return{x:R,y:S}}},...x}=ni(e,t),p={x:n,y:i},y=await Ja(t,x),v=$i(ri(a)),E=s0(v);let _=p[E],O=p[v];if(l){const D=E==="y"?"top":"left",R=E==="y"?"bottom":"right",S=_+y[D],I=_-y[R];_=jf(S,_,I)}if(f){const D=v==="y"?"top":"left",R=v==="y"?"bottom":"right",S=O+y[D],I=O-y[R];O=jf(S,O,I)}const N=g.fn({...t,[E]:_,[v]:O});return{...N,data:{x:N.x-n,y:N.y-i,enabled:{[E]:l,[v]:f}}}}}},hA=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:a,rects:l,middlewareData:f}=t,{offset:g=0,mainAxis:x=!0,crossAxis:p=!0}=ni(e,t),y={x:n,y:i},v=$i(a),E=s0(v);let _=y[E],O=y[v];const N=ni(g,t),D=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(x){const I=E==="y"?"height":"width",L=l.reference[E]-l.floating[I]+D.mainAxis,z=l.reference[E]+l.reference[I]-D.mainAxis;_<L?_=L:_>z&&(_=z)}if(p){var R,S;const I=E==="y"?"width":"height",L=["top","left"].includes(ri(a)),z=l.reference[v]-l.floating[I]+(L&&((R=f.offset)==null?void 0:R[v])||0)+(L?0:D.crossAxis),G=l.reference[v]+l.reference[I]+(L?0:((S=f.offset)==null?void 0:S[v])||0)-(L?D.crossAxis:0);O<z?O=z:O>G&&(O=G)}return{[E]:_,[v]:O}}}},gA=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:a,rects:l,platform:f,elements:g}=t,{apply:x=()=>{},...p}=ni(e,t),y=await Ja(t,p),v=ri(a),E=Go(a),_=$i(a)==="y",{width:O,height:N}=l.floating;let D,R;v==="top"||v==="bottom"?(D=v,R=E===(await(f.isRTL==null?void 0:f.isRTL(g.floating))?"start":"end")?"left":"right"):(R=v,D=E==="end"?"top":"bottom");const S=N-y.top-y.bottom,I=O-y.left-y.right,L=Wi(N-y[D],S),z=Wi(O-y[R],I),G=!t.middlewareData.shift;let U=L,q=z;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(q=I),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(U=S),G&&!E){const ue=jn(y.left,0),ve=jn(y.right,0),Q=jn(y.top,0),de=jn(y.bottom,0);_?q=O-2*(ue!==0||ve!==0?ue+ve:jn(y.left,y.right)):U=N-2*(Q!==0||de!==0?Q+de:jn(y.top,y.bottom))}await x({...t,availableWidth:q,availableHeight:U});const $=await f.getDimensions(g.floating);return O!==$.width||N!==$.height?{reset:{rects:!0}}:{}}}};function xu(){return typeof window<"u"}function $o(e){return f2(e)?(e.nodeName||"").toLowerCase():"#document"}function Vn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function zr(e){var t;return(t=(f2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function f2(e){return xu()?e instanceof Node||e instanceof Vn(e).Node:!1}function Er(e){return xu()?e instanceof Element||e instanceof Vn(e).Element:!1}function Ur(e){return xu()?e instanceof HTMLElement||e instanceof Vn(e).HTMLElement:!1}function lg(e){return!xu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Vn(e).ShadowRoot}function gl(e){const{overflow:t,overflowX:n,overflowY:i,display:a}=Cr(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(a)}function pA(e){return["table","td","th"].includes($o(e))}function wu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function l0(e){const t=c0(),n=Er(e)?Cr(e):e;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function mA(e){let t=Xi(e);for(;Ur(t)&&!Bo(t);){if(l0(t))return t;if(wu(t))return null;t=Xi(t)}return null}function c0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bo(e){return["html","body","#document"].includes($o(e))}function Cr(e){return Vn(e).getComputedStyle(e)}function yu(e){return Er(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xi(e){if($o(e)==="html")return e;const t=e.assignedSlot||e.parentNode||lg(e)&&e.host||zr(e);return lg(t)?t.host:t}function h2(e){const t=Xi(e);return Bo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ur(t)&&gl(t)?t:h2(t)}function el(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=h2(e),l=a===((i=e.ownerDocument)==null?void 0:i.body),f=Vn(a);if(l){const g=zf(f);return t.concat(f,f.visualViewport||[],gl(a)?a:[],g&&n?el(g):[])}return t.concat(a,el(a,[],n))}function zf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function g2(e){const t=Cr(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const a=Ur(e),l=a?e.offsetWidth:n,f=a?e.offsetHeight:i,g=zc(n)!==l||zc(i)!==f;return g&&(n=l,i=f),{width:n,height:i,$:g}}function u0(e){return Er(e)?e:e.contextElement}function yo(e){const t=u0(e);if(!Ur(t))return Gi(1);const n=t.getBoundingClientRect(),{width:i,height:a,$:l}=g2(t);let f=(l?zc(n.width):n.width)/i,g=(l?zc(n.height):n.height)/a;return(!f||!Number.isFinite(f))&&(f=1),(!g||!Number.isFinite(g))&&(g=1),{x:f,y:g}}const xA=Gi(0);function p2(e){const t=Vn(e);return!c0()||!t.visualViewport?xA:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wA(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Vn(e)?!1:t}function Ts(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),l=u0(e);let f=Gi(1);t&&(i?Er(i)&&(f=yo(i)):f=yo(e));const g=wA(l,n,i)?p2(l):Gi(0);let x=(a.left+g.x)/f.x,p=(a.top+g.y)/f.y,y=a.width/f.x,v=a.height/f.y;if(l){const E=Vn(l),_=i&&Er(i)?Vn(i):i;let O=E,N=zf(O);for(;N&&i&&_!==O;){const D=yo(N),R=N.getBoundingClientRect(),S=Cr(N),I=R.left+(N.clientLeft+parseFloat(S.paddingLeft))*D.x,L=R.top+(N.clientTop+parseFloat(S.paddingTop))*D.y;x*=D.x,p*=D.y,y*=D.x,v*=D.y,x+=I,p+=L,O=Vn(N),N=zf(O)}}return Hc({width:y,height:v,x,y:p})}function yA(e){let{elements:t,rect:n,offsetParent:i,strategy:a}=e;const l=a==="fixed",f=zr(i),g=t?wu(t.floating):!1;if(i===f||g&&l)return n;let x={scrollLeft:0,scrollTop:0},p=Gi(1);const y=Gi(0),v=Ur(i);if((v||!v&&!l)&&(($o(i)!=="body"||gl(f))&&(x=yu(i)),Ur(i))){const E=Ts(i);p=yo(i),y.x=E.x+i.clientLeft,y.y=E.y+i.clientTop}return{width:n.width*p.x,height:n.height*p.y,x:n.x*p.x-x.scrollLeft*p.x+y.x,y:n.y*p.y-x.scrollTop*p.y+y.y}}function vA(e){return Array.from(e.getClientRects())}function Vf(e,t){const n=yu(e).scrollLeft;return t?t.left+n:Ts(zr(e)).left+n}function EA(e){const t=zr(e),n=yu(e),i=e.ownerDocument.body,a=jn(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),l=jn(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let f=-n.scrollLeft+Vf(e);const g=-n.scrollTop;return Cr(i).direction==="rtl"&&(f+=jn(t.clientWidth,i.clientWidth)-a),{width:a,height:l,x:f,y:g}}function CA(e,t){const n=Vn(e),i=zr(e),a=n.visualViewport;let l=i.clientWidth,f=i.clientHeight,g=0,x=0;if(a){l=a.width,f=a.height;const p=c0();(!p||p&&t==="fixed")&&(g=a.offsetLeft,x=a.offsetTop)}return{width:l,height:f,x:g,y:x}}function AA(e,t){const n=Ts(e,!0,t==="fixed"),i=n.top+e.clientTop,a=n.left+e.clientLeft,l=Ur(e)?yo(e):Gi(1),f=e.clientWidth*l.x,g=e.clientHeight*l.y,x=a*l.x,p=i*l.y;return{width:f,height:g,x,y:p}}function cg(e,t,n){let i;if(t==="viewport")i=CA(e,n);else if(t==="document")i=EA(zr(e));else if(Er(t))i=AA(t,n);else{const a=p2(e);i={...t,x:t.x-a.x,y:t.y-a.y}}return Hc(i)}function m2(e,t){const n=Xi(e);return n===t||!Er(n)||Bo(n)?!1:Cr(n).position==="fixed"||m2(n,t)}function bA(e,t){const n=t.get(e);if(n)return n;let i=el(e,[],!1).filter(g=>Er(g)&&$o(g)!=="body"),a=null;const l=Cr(e).position==="fixed";let f=l?Xi(e):e;for(;Er(f)&&!Bo(f);){const g=Cr(f),x=l0(f);!x&&g.position==="fixed"&&(a=null),(l?!x&&!a:!x&&g.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||gl(f)&&!x&&m2(e,f))?i=i.filter(y=>y!==f):a=g,f=Xi(f)}return t.set(e,i),i}function _A(e){let{element:t,boundary:n,rootBoundary:i,strategy:a}=e;const f=[...n==="clippingAncestors"?wu(t)?[]:bA(t,this._c):[].concat(n),i],g=f[0],x=f.reduce((p,y)=>{const v=cg(t,y,a);return p.top=jn(v.top,p.top),p.right=Wi(v.right,p.right),p.bottom=Wi(v.bottom,p.bottom),p.left=jn(v.left,p.left),p},cg(t,g,a));return{width:x.right-x.left,height:x.bottom-x.top,x:x.left,y:x.top}}function SA(e){const{width:t,height:n}=g2(e);return{width:t,height:n}}function TA(e,t,n){const i=Ur(t),a=zr(t),l=n==="fixed",f=Ts(e,!0,l,t);let g={scrollLeft:0,scrollTop:0};const x=Gi(0);if(i||!i&&!l)if(($o(t)!=="body"||gl(a))&&(g=yu(t)),i){const _=Ts(t,!0,l,t);x.x=_.x+t.clientLeft,x.y=_.y+t.clientTop}else a&&(x.x=Vf(a));let p=0,y=0;if(a&&!i&&!l){const _=a.getBoundingClientRect();y=_.top+g.scrollTop,p=_.left+g.scrollLeft-Vf(a,_)}const v=f.left+g.scrollLeft-x.x-p,E=f.top+g.scrollTop-x.y-y;return{x:v,y:E,width:f.width,height:f.height}}function Td(e){return Cr(e).position==="static"}function ug(e,t){if(!Ur(e)||Cr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return zr(e)===n&&(n=n.ownerDocument.body),n}function x2(e,t){const n=Vn(e);if(wu(e))return n;if(!Ur(e)){let a=Xi(e);for(;a&&!Bo(a);){if(Er(a)&&!Td(a))return a;a=Xi(a)}return n}let i=ug(e,t);for(;i&&pA(i)&&Td(i);)i=ug(i,t);return i&&Bo(i)&&Td(i)&&!l0(i)?n:i||mA(e)||n}const IA=async function(e){const t=this.getOffsetParent||x2,n=this.getDimensions,i=await n(e.floating);return{reference:TA(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function NA(e){return Cr(e).direction==="rtl"}const RA={convertOffsetParentRelativeRectToViewportRelativeRect:yA,getDocumentElement:zr,getClippingRect:_A,getOffsetParent:x2,getElementRects:IA,getClientRects:vA,getDimensions:SA,getScale:yo,isElement:Er,isRTL:NA};function OA(e,t){let n=null,i;const a=zr(e);function l(){var g;clearTimeout(i),(g=n)==null||g.disconnect(),n=null}function f(g,x){g===void 0&&(g=!1),x===void 0&&(x=1),l();const{left:p,top:y,width:v,height:E}=e.getBoundingClientRect();if(g||t(),!v||!E)return;const _=ql(y),O=ql(a.clientWidth-(p+v)),N=ql(a.clientHeight-(y+E)),D=ql(p),S={rootMargin:-_+"px "+-O+"px "+-N+"px "+-D+"px",threshold:jn(0,Wi(1,x))||1};let I=!0;function L(z){const G=z[0].intersectionRatio;if(G!==x){if(!I)return f();G?f(!1,G):i=setTimeout(()=>{f(!1,1e-7)},1e3)}I=!1}try{n=new IntersectionObserver(L,{...S,root:a.ownerDocument})}catch{n=new IntersectionObserver(L,S)}n.observe(e)}return f(!0),l}function kA(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:g=typeof IntersectionObserver=="function",animationFrame:x=!1}=i,p=u0(e),y=a||l?[...p?el(p):[],...el(t)]:[];y.forEach(R=>{a&&R.addEventListener("scroll",n,{passive:!0}),l&&R.addEventListener("resize",n)});const v=p&&g?OA(p,n):null;let E=-1,_=null;f&&(_=new ResizeObserver(R=>{let[S]=R;S&&S.target===p&&_&&(_.unobserve(t),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var I;(I=_)==null||I.observe(t)})),n()}),p&&!x&&_.observe(p),_.observe(t));let O,N=x?Ts(e):null;x&&D();function D(){const R=Ts(e);N&&(R.x!==N.x||R.y!==N.y||R.width!==N.width||R.height!==N.height)&&n(),N=R,O=requestAnimationFrame(D)}return n(),()=>{var R;y.forEach(S=>{a&&S.removeEventListener("scroll",n),l&&S.removeEventListener("resize",n)}),v==null||v(),(R=_)==null||R.disconnect(),_=null,x&&cancelAnimationFrame(O)}}const PA=dA,DA=fA,MA=lA,LA=gA,BA=cA,dg=aA,FA=hA,jA=(e,t,n)=>{const i=new Map,a={platform:RA,...n},l={...a.platform,_c:i};return oA(e,t,{...a,platform:l})};var mc=typeof document<"u"?M.useLayoutEffect:M.useEffect;function Wc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!Wc(e[i],t[i]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,a[i]))return!1;for(i=n;i--!==0;){const l=a[i];if(!(l==="_owner"&&e.$$typeof)&&!Wc(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function w2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function fg(e,t){const n=w2(e);return Math.round(t*n)/n}function Id(e){const t=M.useRef(e);return mc(()=>{t.current=e}),t}function UA(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:a,elements:{reference:l,floating:f}={},transform:g=!0,whileElementsMounted:x,open:p}=e,[y,v]=M.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[E,_]=M.useState(i);Wc(E,i)||_(i);const[O,N]=M.useState(null),[D,R]=M.useState(null),S=M.useCallback(K=>{K!==G.current&&(G.current=K,N(K))},[]),I=M.useCallback(K=>{K!==U.current&&(U.current=K,R(K))},[]),L=l||O,z=f||D,G=M.useRef(null),U=M.useRef(null),q=M.useRef(y),$=x!=null,ue=Id(x),ve=Id(a),Q=Id(p),de=M.useCallback(()=>{if(!G.current||!U.current)return;const K={placement:t,strategy:n,middleware:E};ve.current&&(K.platform=ve.current),jA(G.current,U.current,K).then(re=>{const he={...re,isPositioned:Q.current!==!1};se.current&&!Wc(q.current,he)&&(q.current=he,hl.flushSync(()=>{v(he)}))})},[E,t,n,ve,Q]);mc(()=>{p===!1&&q.current.isPositioned&&(q.current.isPositioned=!1,v(K=>({...K,isPositioned:!1})))},[p]);const se=M.useRef(!1);mc(()=>(se.current=!0,()=>{se.current=!1}),[]),mc(()=>{if(L&&(G.current=L),z&&(U.current=z),L&&z){if(ue.current)return ue.current(L,z,de);de()}},[L,z,de,ue,$]);const H=M.useMemo(()=>({reference:G,floating:U,setReference:S,setFloating:I}),[S,I]),me=M.useMemo(()=>({reference:L,floating:z}),[L,z]),ce=M.useMemo(()=>{const K={position:n,left:0,top:0};if(!me.floating)return K;const re=fg(me.floating,y.x),he=fg(me.floating,y.y);return g?{...K,transform:"translate("+re+"px, "+he+"px)",...w2(me.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:re,top:he}},[n,g,me.floating,y.x,y.y]);return M.useMemo(()=>({...y,update:de,refs:H,elements:me,floatingStyles:ce}),[y,de,H,me,ce])}const zA=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:a}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?dg({element:i.current,padding:a}).fn(n):{}:i?dg({element:i,padding:a}).fn(n):{}}}},VA=(e,t)=>({...PA(e),options:[e,t]}),HA=(e,t)=>({...DA(e),options:[e,t]}),WA=(e,t)=>({...FA(e),options:[e,t]}),GA=(e,t)=>({...MA(e),options:[e,t]}),$A=(e,t)=>({...LA(e),options:[e,t]}),XA=(e,t)=>({...BA(e),options:[e,t]}),YA=(e,t)=>({...zA(e),options:[e,t]});var KA="Arrow",y2=M.forwardRef((e,t)=>{const{children:n,width:i=10,height:a=5,...l}=e;return B.jsx(kn.svg,{...l,ref:t,width:i,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:B.jsx("polygon",{points:"0,0 30,0 15,10"})})});y2.displayName=KA;var qA=y2;function ZA(e,t=[]){let n=[];function i(l,f){const g=M.createContext(f),x=n.length;n=[...n,f];function p(v){const{scope:E,children:_,...O}=v,N=(E==null?void 0:E[e][x])||g,D=M.useMemo(()=>O,Object.values(O));return B.jsx(N.Provider,{value:D,children:_})}function y(v,E){const _=(E==null?void 0:E[e][x])||g,O=M.useContext(_);if(O)return O;if(f!==void 0)return f;throw new Error(`\`${v}\` must be used within \`${l}\``)}return p.displayName=l+"Provider",[p,y]}const a=()=>{const l=n.map(f=>M.createContext(f));return function(g){const x=(g==null?void 0:g[e])||l;return M.useMemo(()=>({[`__scope${e}`]:{...g,[e]:x}}),[g,x])}};return a.scopeName=e,[i,QA(a,...t)]}function QA(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const f=i.reduce((g,{useScope:x,scopeName:p})=>{const v=x(l)[`__scope${p}`];return{...g,...v}},{});return M.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return n.scopeName=t.scopeName,n}function JA(e){const[t,n]=M.useState(void 0);return Ss(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let f,g;if("borderBoxSize"in l){const x=l.borderBoxSize,p=Array.isArray(x)?x[0]:x;f=p.inlineSize,g=p.blockSize}else f=e.offsetWidth,g=e.offsetHeight;n({width:f,height:g})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else n(void 0)},[e]),t}var v2="Popper",[E2,C2]=ZA(v2),[fT,A2]=E2(v2),b2="PopperAnchor",_2=M.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:i,...a}=e,l=A2(b2,n),f=M.useRef(null),g=vr(t,f);return M.useEffect(()=>{l.onAnchorChange((i==null?void 0:i.current)||f.current)}),i?null:B.jsx(kn.div,{...a,ref:g})});_2.displayName=b2;var d0="PopperContent",[eb,tb]=E2(d0),S2=M.forwardRef((e,t)=>{var on,Qe,mn,xn,Nt,ir;const{__scopePopper:n,side:i="bottom",sideOffset:a=0,align:l="center",alignOffset:f=0,arrowPadding:g=0,avoidCollisions:x=!0,collisionBoundary:p=[],collisionPadding:y=0,sticky:v="partial",hideWhenDetached:E=!1,updatePositionStrategy:_="optimized",onPlaced:O,...N}=e,D=A2(d0,n),[R,S]=M.useState(null),I=vr(t,Me=>S(Me)),[L,z]=M.useState(null),G=JA(L),U=(G==null?void 0:G.width)??0,q=(G==null?void 0:G.height)??0,$=i+(l!=="center"?"-"+l:""),ue=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},ve=Array.isArray(p)?p:[p],Q=ve.length>0,de={padding:ue,boundary:ve.filter(rb),altBoundary:Q},{refs:se,floatingStyles:H,placement:me,isPositioned:ce,middlewareData:K}=UA({strategy:"fixed",placement:$,whileElementsMounted:(...Me)=>kA(...Me,{animationFrame:_==="always"}),elements:{reference:D.anchor},middleware:[VA({mainAxis:a+q,alignmentAxis:f}),x&&HA({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?WA():void 0,...de}),x&&GA({...de}),$A({...de,apply:({elements:Me,rects:$n,availableWidth:an,availableHeight:wn})=>{const{width:bt,height:Ge}=$n.reference,Ae=Me.floating.style;Ae.setProperty("--radix-popper-available-width",`${an}px`),Ae.setProperty("--radix-popper-available-height",`${wn}px`),Ae.setProperty("--radix-popper-anchor-width",`${bt}px`),Ae.setProperty("--radix-popper-anchor-height",`${Ge}px`)}}),L&&YA({element:L,padding:g}),ib({arrowWidth:U,arrowHeight:q}),E&&XA({strategy:"referenceHidden",...de})]}),[re,he]=N2(me),fe=jr(O);Ss(()=>{ce&&(fe==null||fe())},[ce,fe]);const xe=(on=K.arrow)==null?void 0:on.x,Te=(Qe=K.arrow)==null?void 0:Qe.y,De=((mn=K.arrow)==null?void 0:mn.centerOffset)!==0,[zt,le]=M.useState();return Ss(()=>{R&&le(window.getComputedStyle(R).zIndex)},[R]),B.jsx("div",{ref:se.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:ce?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:zt,"--radix-popper-transform-origin":[(xn=K.transformOrigin)==null?void 0:xn.x,(Nt=K.transformOrigin)==null?void 0:Nt.y].join(" "),...((ir=K.hide)==null?void 0:ir.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:B.jsx(eb,{scope:n,placedSide:re,onArrowChange:z,arrowX:xe,arrowY:Te,shouldHideArrow:De,children:B.jsx(kn.div,{"data-side":re,"data-align":he,...N,ref:I,style:{...N.style,animation:ce?void 0:"none"}})})})});S2.displayName=d0;var T2="PopperArrow",nb={top:"bottom",right:"left",bottom:"top",left:"right"},I2=M.forwardRef(function(t,n){const{__scopePopper:i,...a}=t,l=tb(T2,i),f=nb[l.placedSide];return B.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[f]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:B.jsx(qA,{...a,ref:n,style:{...a.style,display:"block"}})})});I2.displayName=T2;function rb(e){return e!==null}var ib=e=>({name:"transformOrigin",options:e,fn(t){var D,R,S;const{placement:n,rects:i,middlewareData:a}=t,f=((D=a.arrow)==null?void 0:D.centerOffset)!==0,g=f?0:e.arrowWidth,x=f?0:e.arrowHeight,[p,y]=N2(n),v={start:"0%",center:"50%",end:"100%"}[y],E=(((R=a.arrow)==null?void 0:R.x)??0)+g/2,_=(((S=a.arrow)==null?void 0:S.y)??0)+x/2;let O="",N="";return p==="bottom"?(O=f?v:`${E}px`,N=`${-x}px`):p==="top"?(O=f?v:`${E}px`,N=`${i.floating.height+x}px`):p==="right"?(O=`${-x}px`,N=f?v:`${_}px`):p==="left"&&(O=`${i.floating.width+x}px`,N=f?v:`${_}px`),{data:{x:O,y:N}}}});function N2(e){const[t,n="center"]=e.split("-");return[t,n]}var sb=_2,ob=S2,ab=I2,[vu,hT]=Sx("Tooltip",[C2]),f0=C2(),R2="TooltipProvider",lb=700,hg="tooltip.open",[cb,O2]=vu(R2),k2=e=>{const{__scopeTooltip:t,delayDuration:n=lb,skipDelayDuration:i=300,disableHoverableContent:a=!1,children:l}=e,[f,g]=M.useState(!0),x=M.useRef(!1),p=M.useRef(0);return M.useEffect(()=>{const y=p.current;return()=>window.clearTimeout(y)},[]),B.jsx(cb,{scope:t,isOpenDelayed:f,delayDuration:n,onOpen:M.useCallback(()=>{window.clearTimeout(p.current),g(!1)},[]),onClose:M.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>g(!0),i)},[i]),isPointerInTransitRef:x,onPointerInTransitChange:M.useCallback(y=>{x.current=y},[]),disableHoverableContent:a,children:l})};k2.displayName=R2;var P2="Tooltip",[gT,Eu]=vu(P2),Hf="TooltipTrigger",ub=M.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,a=Eu(Hf,n),l=O2(Hf,n),f=f0(n),g=M.useRef(null),x=vr(t,g,a.onTriggerChange),p=M.useRef(!1),y=M.useRef(!1),v=M.useCallback(()=>p.current=!1,[]);return M.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),B.jsx(sb,{asChild:!0,...f,children:B.jsx(kn.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...i,ref:x,onPointerMove:Pt(e.onPointerMove,E=>{E.pointerType!=="touch"&&!y.current&&!l.isPointerInTransitRef.current&&(a.onTriggerEnter(),y.current=!0)}),onPointerLeave:Pt(e.onPointerLeave,()=>{a.onTriggerLeave(),y.current=!1}),onPointerDown:Pt(e.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:Pt(e.onFocus,()=>{p.current||a.onOpen()}),onBlur:Pt(e.onBlur,a.onClose),onClick:Pt(e.onClick,a.onClose)})})});ub.displayName=Hf;var db="TooltipPortal",[pT,fb]=vu(db,{forceMount:void 0}),Fo="TooltipContent",D2=M.forwardRef((e,t)=>{const n=fb(Fo,e.__scopeTooltip),{forceMount:i=n.forceMount,side:a="top",...l}=e,f=Eu(Fo,e.__scopeTooltip);return B.jsx(e0,{present:i||f.open,children:f.disableHoverableContent?B.jsx(M2,{side:a,...l,ref:t}):B.jsx(hb,{side:a,...l,ref:t})})}),hb=M.forwardRef((e,t)=>{const n=Eu(Fo,e.__scopeTooltip),i=O2(Fo,e.__scopeTooltip),a=M.useRef(null),l=vr(t,a),[f,g]=M.useState(null),{trigger:x,onClose:p}=n,y=a.current,{onPointerInTransitChange:v}=i,E=M.useCallback(()=>{g(null),v(!1)},[v]),_=M.useCallback((O,N)=>{const D=O.currentTarget,R={x:O.clientX,y:O.clientY},S=xb(R,D.getBoundingClientRect()),I=wb(R,S),L=yb(N.getBoundingClientRect()),z=Eb([...I,...L]);g(z),v(!0)},[v]);return M.useEffect(()=>()=>E(),[E]),M.useEffect(()=>{if(x&&y){const O=D=>_(D,y),N=D=>_(D,x);return x.addEventListener("pointerleave",O),y.addEventListener("pointerleave",N),()=>{x.removeEventListener("pointerleave",O),y.removeEventListener("pointerleave",N)}}},[x,y,_,E]),M.useEffect(()=>{if(f){const O=N=>{const D=N.target,R={x:N.clientX,y:N.clientY},S=(x==null?void 0:x.contains(D))||(y==null?void 0:y.contains(D)),I=!vb(R,f);S?E():I&&(E(),p())};return document.addEventListener("pointermove",O),()=>document.removeEventListener("pointermove",O)}},[x,y,f,p,E]),B.jsx(M2,{...e,ref:l})}),[gb,pb]=vu(P2,{isInside:!1}),M2=M.forwardRef((e,t)=>{const{__scopeTooltip:n,children:i,"aria-label":a,onEscapeKeyDown:l,onPointerDownOutside:f,...g}=e,x=Eu(Fo,n),p=f0(n),{onClose:y}=x;return M.useEffect(()=>(document.addEventListener(hg,y),()=>document.removeEventListener(hg,y)),[y]),M.useEffect(()=>{if(x.trigger){const v=E=>{const _=E.target;_!=null&&_.contains(x.trigger)&&y()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[x.trigger,y]),B.jsx(Jh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:f,onFocusOutside:v=>v.preventDefault(),onDismiss:y,children:B.jsxs(ob,{"data-state":x.stateAttribute,...p,...g,ref:t,style:{...g.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[B.jsx(_x,{children:i}),B.jsx(gb,{scope:n,isInside:!0,children:B.jsx(f3,{id:x.contentId,role:"tooltip",children:a||i})})]})})});D2.displayName=Fo;var L2="TooltipArrow",mb=M.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,a=f0(n);return pb(L2,n).isInside?null:B.jsx(ab,{...a,...i,ref:t})});mb.displayName=L2;function xb(e,t){const n=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(n,i,a,l)){case l:return"left";case a:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function wb(e,t,n=5){const i=[];switch(t){case"top":i.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":i.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":i.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":i.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return i}function yb(e){const{top:t,right:n,bottom:i,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:i},{x:a,y:i}]}function vb(e,t){const{x:n,y:i}=e;let a=!1;for(let l=0,f=t.length-1;l<t.length;f=l++){const g=t[l].x,x=t[l].y,p=t[f].x,y=t[f].y;x>i!=y>i&&n<(p-g)*(i-x)/(y-x)+g&&(a=!a)}return a}function Eb(e){const t=e.slice();return t.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),Cb(t)}function Cb(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const a=e[i];for(;t.length>=2;){const l=t[t.length-1],f=t[t.length-2];if((l.x-f.x)*(a.y-f.y)>=(l.y-f.y)*(a.x-f.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let i=e.length-1;i>=0;i--){const a=e[i];for(;n.length>=2;){const l=n[n.length-1],f=n[n.length-2];if((l.x-f.x)*(a.y-f.y)>=(l.y-f.y)*(a.x-f.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Ab=k2,B2=D2;const bb=Ab,_b=M.forwardRef(({className:e,sideOffset:t=4,...n},i)=>B.jsx(B2,{ref:i,sideOffset:t,className:sn("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));_b.displayName=B2.displayName;var Cu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Au=typeof window>"u"||"Deno"in globalThis;function fr(){}function Sb(e,t){return typeof e=="function"?e(t):e}function Tb(e){return typeof e=="number"&&e>=0&&e!==1/0}function Ib(e,t){return Math.max(e+(t||0)-Date.now(),0)}function gg(e,t){return typeof e=="function"?e(t):e}function Nb(e,t){return typeof e=="function"?e(t):e}function pg(e,t){const{type:n="all",exact:i,fetchStatus:a,predicate:l,queryKey:f,stale:g}=e;if(f){if(i){if(t.queryHash!==h0(f,t.options))return!1}else if(!nl(t.queryKey,f))return!1}if(n!=="all"){const x=t.isActive();if(n==="active"&&!x||n==="inactive"&&x)return!1}return!(typeof g=="boolean"&&t.isStale()!==g||a&&a!==t.state.fetchStatus||l&&!l(t))}function mg(e,t){const{exact:n,status:i,predicate:a,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(n){if(tl(t.options.mutationKey)!==tl(l))return!1}else if(!nl(t.options.mutationKey,l))return!1}return!(i&&t.state.status!==i||a&&!a(t))}function h0(e,t){return((t==null?void 0:t.queryKeyHashFn)||tl)(e)}function tl(e){return JSON.stringify(e,(t,n)=>Wf(n)?Object.keys(n).sort().reduce((i,a)=>(i[a]=n[a],i),{}):n)}function nl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!nl(e[n],t[n])):!1}function F2(e,t){if(e===t)return e;const n=xg(e)&&xg(t);if(n||Wf(e)&&Wf(t)){const i=n?e:Object.keys(e),a=i.length,l=n?t:Object.keys(t),f=l.length,g=n?[]:{};let x=0;for(let p=0;p<f;p++){const y=n?p:l[p];(!n&&i.includes(y)||n)&&e[y]===void 0&&t[y]===void 0?(g[y]=void 0,x++):(g[y]=F2(e[y],t[y]),g[y]===e[y]&&e[y]!==void 0&&x++)}return a===f&&x===a?e:g}return t}function xg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Wf(e){if(!wg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!wg(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function wg(e){return Object.prototype.toString.call(e)==="[object Object]"}function Rb(e){return new Promise(t=>{setTimeout(t,e)})}function Ob(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?F2(e,t):t}function kb(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function Pb(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var g0=Symbol();function j2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===g0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ps,_i,Eo,tp,Db=(tp=class extends Cu{constructor(){super();Xe(this,ps);Xe(this,_i);Xe(this,Eo);Pe(this,Eo,t=>{if(!Au&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Z(this,_i)||this.setEventListener(Z(this,Eo))}onUnsubscribe(){var t;this.hasListeners()||((t=Z(this,_i))==null||t.call(this),Pe(this,_i,void 0))}setEventListener(t){var n;Pe(this,Eo,t),(n=Z(this,_i))==null||n.call(this),Pe(this,_i,t(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(t){Z(this,ps)!==t&&(Pe(this,ps,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Z(this,ps)=="boolean"?Z(this,ps):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ps=new WeakMap,_i=new WeakMap,Eo=new WeakMap,tp),U2=new Db,Co,Si,Ao,np,Mb=(np=class extends Cu{constructor(){super();Xe(this,Co,!0);Xe(this,Si);Xe(this,Ao);Pe(this,Ao,t=>{if(!Au&&window.addEventListener){const n=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){Z(this,Si)||this.setEventListener(Z(this,Ao))}onUnsubscribe(){var t;this.hasListeners()||((t=Z(this,Si))==null||t.call(this),Pe(this,Si,void 0))}setEventListener(t){var n;Pe(this,Ao,t),(n=Z(this,Si))==null||n.call(this),Pe(this,Si,t(this.setOnline.bind(this)))}setOnline(t){Z(this,Co)!==t&&(Pe(this,Co,t),this.listeners.forEach(i=>{i(t)}))}isOnline(){return Z(this,Co)}},Co=new WeakMap,Si=new WeakMap,Ao=new WeakMap,np),Gc=new Mb;function Lb(){let e,t;const n=new Promise((a,l)=>{e=a,t=l});n.status="pending",n.catch(()=>{});function i(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{i({status:"fulfilled",value:a}),e(a)},n.reject=a=>{i({status:"rejected",reason:a}),t(a)},n}function Bb(e){return Math.min(1e3*2**e,3e4)}function z2(e){return(e??"online")==="online"?Gc.isOnline():!0}var V2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Nd(e){return e instanceof V2}function H2(e){let t=!1,n=0,i=!1,a;const l=Lb(),f=N=>{var D;i||(E(new V2(N)),(D=e.abort)==null||D.call(e))},g=()=>{t=!0},x=()=>{t=!1},p=()=>U2.isFocused()&&(e.networkMode==="always"||Gc.isOnline())&&e.canRun(),y=()=>z2(e.networkMode)&&e.canRun(),v=N=>{var D;i||(i=!0,(D=e.onSuccess)==null||D.call(e,N),a==null||a(),l.resolve(N))},E=N=>{var D;i||(i=!0,(D=e.onError)==null||D.call(e,N),a==null||a(),l.reject(N))},_=()=>new Promise(N=>{var D;a=R=>{(i||p())&&N(R)},(D=e.onPause)==null||D.call(e)}).then(()=>{var N;a=void 0,i||(N=e.onContinue)==null||N.call(e)}),O=()=>{if(i)return;let N;const D=n===0?e.initialPromise:void 0;try{N=D??e.fn()}catch(R){N=Promise.reject(R)}Promise.resolve(N).then(v).catch(R=>{var G;if(i)return;const S=e.retry??(Au?0:3),I=e.retryDelay??Bb,L=typeof I=="function"?I(n,R):I,z=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,R);if(t||!z){E(R);return}n++,(G=e.onFail)==null||G.call(e,n,R),Rb(L).then(()=>p()?void 0:_()).then(()=>{t?E(R):O()})})};return{promise:l,cancel:f,continue:()=>(a==null||a(),l),cancelRetry:g,continueRetry:x,canStart:y,start:()=>(y()?O():_().then(O),l)}}function Fb(){let e=[],t=0,n=g=>{g()},i=g=>{g()},a=g=>setTimeout(g,0);const l=g=>{t?e.push(g):a(()=>{n(g)})},f=()=>{const g=e;e=[],g.length&&a(()=>{i(()=>{g.forEach(x=>{n(x)})})})};return{batch:g=>{let x;t++;try{x=g()}finally{t--,t||f()}return x},batchCalls:g=>(...x)=>{l(()=>{g(...x)})},schedule:l,setNotifyFunction:g=>{n=g},setBatchNotifyFunction:g=>{i=g},setScheduler:g=>{a=g}}}var fn=Fb(),ms,rp,W2=(rp=class{constructor(){Xe(this,ms)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Tb(this.gcTime)&&Pe(this,ms,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Au?1/0:5*60*1e3))}clearGcTimeout(){Z(this,ms)&&(clearTimeout(Z(this,ms)),Pe(this,ms,void 0))}},ms=new WeakMap,rp),bo,_o,Zn,tn,ol,xs,hr,Wr,ip,jb=(ip=class extends W2{constructor(t){super();Xe(this,hr);Xe(this,bo);Xe(this,_o);Xe(this,Zn);Xe(this,tn);Xe(this,ol);Xe(this,xs);Pe(this,xs,!1),Pe(this,ol,t.defaultOptions),this.setOptions(t.options),this.observers=[],Pe(this,Zn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Pe(this,bo,zb(this.options)),this.state=t.state??Z(this,bo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Z(this,tn))==null?void 0:t.promise}setOptions(t){this.options={...Z(this,ol),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Z(this,Zn).remove(this)}setData(t,n){const i=Ob(this.state.data,t,this.options);return Qt(this,hr,Wr).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(t,n){Qt(this,hr,Wr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var i,a;const n=(i=Z(this,tn))==null?void 0:i.promise;return(a=Z(this,tn))==null||a.cancel(t),n?n.then(fr).catch(fr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Z(this,bo))}isActive(){return this.observers.some(t=>Nb(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===g0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Ib(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(i=>i.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Z(this,tn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(i=>i.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Z(this,tn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Z(this,Zn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Z(this,tn)&&(Z(this,xs)?Z(this,tn).cancel({revert:!0}):Z(this,tn).cancelRetry()),this.scheduleGc()),Z(this,Zn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Qt(this,hr,Wr).call(this,{type:"invalidate"})}fetch(t,n){var x,p,y;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Z(this,tn))return Z(this,tn).continueRetry(),Z(this,tn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const v=this.observers.find(E=>E.options.queryFn);v&&this.setOptions(v.options)}const i=new AbortController,a=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(Pe(this,xs,!0),i.signal)})},l=()=>{const v=j2(this.options,n),E={queryKey:this.queryKey,meta:this.meta};return a(E),Pe(this,xs,!1),this.options.persister?this.options.persister(v,E,this):v(E)},f={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:l};a(f),(x=this.options.behavior)==null||x.onFetch(f,this),Pe(this,_o,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=f.fetchOptions)==null?void 0:p.meta))&&Qt(this,hr,Wr).call(this,{type:"fetch",meta:(y=f.fetchOptions)==null?void 0:y.meta});const g=v=>{var E,_,O,N;Nd(v)&&v.silent||Qt(this,hr,Wr).call(this,{type:"error",error:v}),Nd(v)||((_=(E=Z(this,Zn).config).onError)==null||_.call(E,v,this),(N=(O=Z(this,Zn).config).onSettled)==null||N.call(O,this.state.data,v,this)),this.scheduleGc()};return Pe(this,tn,H2({initialPromise:n==null?void 0:n.initialPromise,fn:f.fetchFn,abort:i.abort.bind(i),onSuccess:v=>{var E,_,O,N;if(v===void 0){g(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(D){g(D);return}(_=(E=Z(this,Zn).config).onSuccess)==null||_.call(E,v,this),(N=(O=Z(this,Zn).config).onSettled)==null||N.call(O,v,this.state.error,this),this.scheduleGc()},onError:g,onFail:(v,E)=>{Qt(this,hr,Wr).call(this,{type:"failed",failureCount:v,error:E})},onPause:()=>{Qt(this,hr,Wr).call(this,{type:"pause"})},onContinue:()=>{Qt(this,hr,Wr).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0})),Z(this,tn).start()}},bo=new WeakMap,_o=new WeakMap,Zn=new WeakMap,tn=new WeakMap,ol=new WeakMap,xs=new WeakMap,hr=new WeakSet,Wr=function(t){const n=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Ub(i.data,this.options),fetchMeta:t.meta??null};case"success":return{...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return Nd(a)&&a.revert&&Z(this,_o)?{...Z(this,_o),fetchStatus:"idle"}:{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=n(this.state),fn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),Z(this,Zn).notify({query:this,type:"updated",action:t})})},ip);function Ub(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:z2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function zb(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Pr,sp,Vb=(sp=class extends Cu{constructor(t={}){super();Xe(this,Pr);this.config=t,Pe(this,Pr,new Map)}build(t,n,i){const a=n.queryKey,l=n.queryHash??h0(a,n);let f=this.get(l);return f||(f=new jb({cache:this,queryKey:a,queryHash:l,options:t.defaultQueryOptions(n),state:i,defaultOptions:t.getQueryDefaults(a)}),this.add(f)),f}add(t){Z(this,Pr).has(t.queryHash)||(Z(this,Pr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Z(this,Pr).get(t.queryHash);n&&(t.destroy(),n===t&&Z(this,Pr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){fn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Z(this,Pr).get(t)}getAll(){return[...Z(this,Pr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(i=>pg(n,i))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(i=>pg(t,i)):n}notify(t){fn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){fn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){fn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Pr=new WeakMap,sp),Dr,un,ws,Mr,gi,op,Hb=(op=class extends W2{constructor(t){super();Xe(this,Mr);Xe(this,Dr);Xe(this,un);Xe(this,ws);this.mutationId=t.mutationId,Pe(this,un,t.mutationCache),Pe(this,Dr,[]),this.state=t.state||Wb(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Z(this,Dr).includes(t)||(Z(this,Dr).push(t),this.clearGcTimeout(),Z(this,un).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Pe(this,Dr,Z(this,Dr).filter(n=>n!==t)),this.scheduleGc(),Z(this,un).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Z(this,Dr).length||(this.state.status==="pending"?this.scheduleGc():Z(this,un).remove(this))}continue(){var t;return((t=Z(this,ws))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,l,f,g,x,p,y,v,E,_,O,N,D,R,S,I,L,z,G,U;Pe(this,ws,H2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(q,$)=>{Qt(this,Mr,gi).call(this,{type:"failed",failureCount:q,error:$})},onPause:()=>{Qt(this,Mr,gi).call(this,{type:"pause"})},onContinue:()=>{Qt(this,Mr,gi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Z(this,un).canRun(this)}));const n=this.state.status==="pending",i=!Z(this,ws).canStart();try{if(!n){Qt(this,Mr,gi).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(a=Z(this,un).config).onMutate)==null?void 0:l.call(a,t,this));const $=await((g=(f=this.options).onMutate)==null?void 0:g.call(f,t));$!==this.state.context&&Qt(this,Mr,gi).call(this,{type:"pending",context:$,variables:t,isPaused:i})}const q=await Z(this,ws).start();return await((p=(x=Z(this,un).config).onSuccess)==null?void 0:p.call(x,q,t,this.state.context,this)),await((v=(y=this.options).onSuccess)==null?void 0:v.call(y,q,t,this.state.context)),await((_=(E=Z(this,un).config).onSettled)==null?void 0:_.call(E,q,null,this.state.variables,this.state.context,this)),await((N=(O=this.options).onSettled)==null?void 0:N.call(O,q,null,t,this.state.context)),Qt(this,Mr,gi).call(this,{type:"success",data:q}),q}catch(q){try{throw await((R=(D=Z(this,un).config).onError)==null?void 0:R.call(D,q,t,this.state.context,this)),await((I=(S=this.options).onError)==null?void 0:I.call(S,q,t,this.state.context)),await((z=(L=Z(this,un).config).onSettled)==null?void 0:z.call(L,void 0,q,this.state.variables,this.state.context,this)),await((U=(G=this.options).onSettled)==null?void 0:U.call(G,void 0,q,t,this.state.context)),q}finally{Qt(this,Mr,gi).call(this,{type:"error",error:q})}}finally{Z(this,un).runNext(this)}}},Dr=new WeakMap,un=new WeakMap,ws=new WeakMap,Mr=new WeakSet,gi=function(t){const n=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),fn.batch(()=>{Z(this,Dr).forEach(i=>{i.onMutationUpdate(t)}),Z(this,un).notify({mutation:this,type:"updated",action:t})})},op);function Wb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ln,al,ap,Gb=(ap=class extends Cu{constructor(t={}){super();Xe(this,Ln);Xe(this,al);this.config=t,Pe(this,Ln,new Map),Pe(this,al,Date.now())}build(t,n,i){const a=new Hb({mutationCache:this,mutationId:++Nl(this,al)._,options:t.defaultMutationOptions(n),state:i});return this.add(a),a}add(t){const n=Zl(t),i=Z(this,Ln).get(n)??[];i.push(t),Z(this,Ln).set(n,i),this.notify({type:"added",mutation:t})}remove(t){var i;const n=Zl(t);if(Z(this,Ln).has(n)){const a=(i=Z(this,Ln).get(n))==null?void 0:i.filter(l=>l!==t);a&&(a.length===0?Z(this,Ln).delete(n):Z(this,Ln).set(n,a))}this.notify({type:"removed",mutation:t})}canRun(t){var i;const n=(i=Z(this,Ln).get(Zl(t)))==null?void 0:i.find(a=>a.state.status==="pending");return!n||n===t}runNext(t){var i;const n=(i=Z(this,Ln).get(Zl(t)))==null?void 0:i.find(a=>a!==t&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){fn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Z(this,Ln).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(i=>mg(n,i))}findAll(t={}){return this.getAll().filter(n=>mg(t,n))}notify(t){fn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return fn.batch(()=>Promise.all(t.map(n=>n.continue().catch(fr))))}},Ln=new WeakMap,al=new WeakMap,ap);function Zl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function yg(e){return{onFetch:(t,n)=>{var y,v,E,_,O;const i=t.options,a=(E=(v=(y=t.fetchOptions)==null?void 0:y.meta)==null?void 0:v.fetchMore)==null?void 0:E.direction,l=((_=t.state.data)==null?void 0:_.pages)||[],f=((O=t.state.data)==null?void 0:O.pageParams)||[];let g={pages:[],pageParams:[]},x=0;const p=async()=>{let N=!1;const D=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(t.signal.aborted?N=!0:t.signal.addEventListener("abort",()=>{N=!0}),t.signal)})},R=j2(t.options,t.fetchOptions),S=async(I,L,z)=>{if(N)return Promise.reject();if(L==null&&I.pages.length)return Promise.resolve(I);const G={queryKey:t.queryKey,pageParam:L,direction:z?"backward":"forward",meta:t.options.meta};D(G);const U=await R(G),{maxPages:q}=t.options,$=z?Pb:kb;return{pages:$(I.pages,U,q),pageParams:$(I.pageParams,L,q)}};if(a&&l.length){const I=a==="backward",L=I?$b:vg,z={pages:l,pageParams:f},G=L(i,z);g=await S(z,G,I)}else{const I=e??l.length;do{const L=x===0?f[0]??i.initialPageParam:vg(i,g);if(x>0&&L==null)break;g=await S(g,L),x++}while(x<I)}return g};t.options.persister?t.fetchFn=()=>{var N,D;return(D=(N=t.options).persister)==null?void 0:D.call(N,p,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=p}}}function vg(e,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function $b(e,{pages:t,pageParams:n}){var i;return t.length>0?(i=e.getPreviousPageParam)==null?void 0:i.call(e,t[0],t,n[0],n):void 0}var Et,Ti,Ii,So,To,Ni,Io,No,lp,Xb=(lp=class{constructor(e={}){Xe(this,Et);Xe(this,Ti);Xe(this,Ii);Xe(this,So);Xe(this,To);Xe(this,Ni);Xe(this,Io);Xe(this,No);Pe(this,Et,e.queryCache||new Vb),Pe(this,Ti,e.mutationCache||new Gb),Pe(this,Ii,e.defaultOptions||{}),Pe(this,So,new Map),Pe(this,To,new Map),Pe(this,Ni,0)}mount(){Nl(this,Ni)._++,Z(this,Ni)===1&&(Pe(this,Io,U2.subscribe(async e=>{e&&(await this.resumePausedMutations(),Z(this,Et).onFocus())})),Pe(this,No,Gc.subscribe(async e=>{e&&(await this.resumePausedMutations(),Z(this,Et).onOnline())})))}unmount(){var e,t;Nl(this,Ni)._--,Z(this,Ni)===0&&((e=Z(this,Io))==null||e.call(this),Pe(this,Io,void 0),(t=Z(this,No))==null||t.call(this),Pe(this,No,void 0))}isFetching(e){return Z(this,Et).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Z(this,Ti).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Z(this,Et).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),i=Z(this,Et).build(this,n);return e.revalidateIfStale&&i.isStaleByTime(gg(n.staleTime,i))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return Z(this,Et).findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),a=Z(this,Et).get(i.queryHash),l=a==null?void 0:a.state.data,f=Sb(t,l);if(f!==void 0)return Z(this,Et).build(this,i).setData(f,{...n,manual:!0})}setQueriesData(e,t,n){return fn.batch(()=>Z(this,Et).findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Z(this,Et).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Z(this,Et);fn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Z(this,Et),i={type:"active",...e};return fn.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(i,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},i=fn.batch(()=>Z(this,Et).findAll(e).map(a=>a.cancel(n)));return Promise.all(i).then(fr).catch(fr)}invalidateQueries(e={},t={}){return fn.batch(()=>{if(Z(this,Et).findAll(e).forEach(i=>{i.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},i=fn.batch(()=>Z(this,Et).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let l=a.fetch(void 0,n);return n.throwOnError||(l=l.catch(fr)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(fr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Z(this,Et).build(this,t);return n.isStaleByTime(gg(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(fr).catch(fr)}fetchInfiniteQuery(e){return e.behavior=yg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(fr).catch(fr)}ensureInfiniteQueryData(e){return e.behavior=yg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Gc.isOnline()?Z(this,Ti).resumePausedMutations():Promise.resolve()}getQueryCache(){return Z(this,Et)}getMutationCache(){return Z(this,Ti)}getDefaultOptions(){return Z(this,Ii)}setDefaultOptions(e){Pe(this,Ii,e)}setQueryDefaults(e,t){Z(this,So).set(tl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Z(this,So).values()];let n={};return t.forEach(i=>{nl(e,i.queryKey)&&(n={...n,...i.defaultOptions})}),n}setMutationDefaults(e,t){Z(this,To).set(tl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Z(this,To).values()];let n={};return t.forEach(i=>{nl(e,i.mutationKey)&&(n={...n,...i.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Z(this,Ii).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=h0(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===g0&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Z(this,Ii).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Z(this,Et).clear(),Z(this,Ti).clear()}},Et=new WeakMap,Ti=new WeakMap,Ii=new WeakMap,So=new WeakMap,To=new WeakMap,Ni=new WeakMap,Io=new WeakMap,No=new WeakMap,lp),Yb=M.createContext(void 0),Kb=({client:e,children:t})=>(M.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),B.jsx(Yb.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rl(){return rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},rl.apply(this,arguments)}var ki;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ki||(ki={}));const Eg="popstate";function qb(e){e===void 0&&(e={});function t(i,a){let{pathname:l,search:f,hash:g}=i.location;return Gf("",{pathname:l,search:f,hash:g},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:$c(a)}return Qb(t,n,null,e)}function Tt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function G2(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Zb(){return Math.random().toString(36).substr(2,8)}function Cg(e,t){return{usr:e.state,key:e.key,idx:t}}function Gf(e,t,n,i){return n===void 0&&(n=null),rl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xo(t):t,{state:n,key:t&&t.key||i||Zb()})}function $c(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Xo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function Qb(e,t,n,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:l=!1}=i,f=a.history,g=ki.Pop,x=null,p=y();p==null&&(p=0,f.replaceState(rl({},f.state,{idx:p}),""));function y(){return(f.state||{idx:null}).idx}function v(){g=ki.Pop;let D=y(),R=D==null?null:D-p;p=D,x&&x({action:g,location:N.location,delta:R})}function E(D,R){g=ki.Push;let S=Gf(N.location,D,R);p=y()+1;let I=Cg(S,p),L=N.createHref(S);try{f.pushState(I,"",L)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;a.location.assign(L)}l&&x&&x({action:g,location:N.location,delta:1})}function _(D,R){g=ki.Replace;let S=Gf(N.location,D,R);p=y();let I=Cg(S,p),L=N.createHref(S);f.replaceState(I,"",L),l&&x&&x({action:g,location:N.location,delta:0})}function O(D){let R=a.location.origin!=="null"?a.location.origin:a.location.href,S=typeof D=="string"?D:$c(D);return S=S.replace(/ $/,"%20"),Tt(R,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,R)}let N={get action(){return g},get location(){return e(a,f)},listen(D){if(x)throw new Error("A history only accepts one active listener");return a.addEventListener(Eg,v),x=D,()=>{a.removeEventListener(Eg,v),x=null}},createHref(D){return t(a,D)},createURL:O,encodeLocation(D){let R=O(D);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:E,replace:_,go(D){return f.go(D)}};return N}var Ag;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ag||(Ag={}));function Jb(e,t,n){return n===void 0&&(n="/"),e_(e,t,n,!1)}function e_(e,t,n,i){let a=typeof t=="string"?Xo(t):t,l=p0(a.pathname||"/",n);if(l==null)return null;let f=$2(e);t_(f);let g=null;for(let x=0;g==null&&x<f.length;++x){let p=f_(l);g=u_(f[x],p,i)}return g}function $2(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let a=(l,f,g)=>{let x={relativePath:g===void 0?l.path||"":g,caseSensitive:l.caseSensitive===!0,childrenIndex:f,route:l};x.relativePath.startsWith("/")&&(Tt(x.relativePath.startsWith(i),'Absolute route path "'+x.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),x.relativePath=x.relativePath.slice(i.length));let p=zi([i,x.relativePath]),y=n.concat(x);l.children&&l.children.length>0&&(Tt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),$2(l.children,t,y,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:l_(p,l.index),routesMeta:y})};return e.forEach((l,f)=>{var g;if(l.path===""||!((g=l.path)!=null&&g.includes("?")))a(l,f);else for(let x of X2(l.path))a(l,f,x)}),t}function X2(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let f=X2(i.join("/")),g=[];return g.push(...f.map(x=>x===""?l:[l,x].join("/"))),a&&g.push(...f),g.map(x=>e.startsWith("/")&&x===""?"/":x)}function t_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:c_(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const n_=/^:[\w-]+$/,r_=3,i_=2,s_=1,o_=10,a_=-2,bg=e=>e==="*";function l_(e,t){let n=e.split("/"),i=n.length;return n.some(bg)&&(i+=a_),t&&(i+=i_),n.filter(a=>!bg(a)).reduce((a,l)=>a+(n_.test(l)?r_:l===""?s_:o_),i)}function c_(e,t){return e.length===t.length&&e.slice(0,-1).every((i,a)=>i===t[a])?e[e.length-1]-t[t.length-1]:0}function u_(e,t,n){let{routesMeta:i}=e,a={},l="/",f=[];for(let g=0;g<i.length;++g){let x=i[g],p=g===i.length-1,y=l==="/"?t:t.slice(l.length)||"/",v=_g({path:x.relativePath,caseSensitive:x.caseSensitive,end:p},y),E=x.route;if(!v&&p&&n&&!i[i.length-1].route.index&&(v=_g({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},y)),!v)return null;Object.assign(a,v.params),f.push({params:a,pathname:zi([l,v.pathname]),pathnameBase:m_(zi([l,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(l=zi([l,v.pathnameBase]))}return f}function _g(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=d_(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],f=l.replace(/(.)\/+$/,"$1"),g=a.slice(1);return{params:i.reduce((p,y,v)=>{let{paramName:E,isOptional:_}=y;if(E==="*"){let N=g[v]||"";f=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const O=g[v];return _&&!O?p[E]=void 0:p[E]=(O||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:f,pattern:e}}function d_(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),G2(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,x)=>(i.push({paramName:g,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function f_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return G2(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function p0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function h_(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:a=""}=typeof e=="string"?Xo(e):e;return{pathname:n?n.startsWith("/")?n:g_(n,t):t,search:x_(i),hash:w_(a)}}function g_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Rd(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function p_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function m0(e,t){let n=p_(e);return t?n.map((i,a)=>a===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function x0(e,t,n,i){i===void 0&&(i=!1);let a;typeof e=="string"?a=Xo(e):(a=rl({},e),Tt(!a.pathname||!a.pathname.includes("?"),Rd("?","pathname","search",a)),Tt(!a.pathname||!a.pathname.includes("#"),Rd("#","pathname","hash",a)),Tt(!a.search||!a.search.includes("#"),Rd("#","search","hash",a)));let l=e===""||a.pathname==="",f=l?"/":a.pathname,g;if(f==null)g=n;else{let v=t.length-1;if(!i&&f.startsWith("..")){let E=f.split("/");for(;E[0]==="..";)E.shift(),v-=1;a.pathname=E.join("/")}g=v>=0?t[v]:"/"}let x=h_(a,g),p=f&&f!=="/"&&f.endsWith("/"),y=(l||f===".")&&n.endsWith("/");return!x.pathname.endsWith("/")&&(p||y)&&(x.pathname+="/"),x}const zi=e=>e.join("/").replace(/\/\/+/g,"/"),m_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),x_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,w_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function y_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Y2=["post","put","patch","delete"];new Set(Y2);const v_=["get",...Y2];new Set(v_);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function il(){return il=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},il.apply(this,arguments)}const w0=M.createContext(null),E_=M.createContext(null),Zi=M.createContext(null),bu=M.createContext(null),Qi=M.createContext({outlet:null,matches:[],isDataRoute:!1}),K2=M.createContext(null);function C_(e,t){let{relative:n}=t===void 0?{}:t;Yo()||Tt(!1);let{basename:i,navigator:a}=M.useContext(Zi),{hash:l,pathname:f,search:g}=Z2(e,{relative:n}),x=f;return i!=="/"&&(x=f==="/"?i:zi([i,f])),a.createHref({pathname:x,search:g,hash:l})}function Yo(){return M.useContext(bu)!=null}function Os(){return Yo()||Tt(!1),M.useContext(bu).location}function q2(e){M.useContext(Zi).static||M.useLayoutEffect(e)}function pl(){let{isDataRoute:e}=M.useContext(Qi);return e?M_():A_()}function A_(){Yo()||Tt(!1);let e=M.useContext(w0),{basename:t,future:n,navigator:i}=M.useContext(Zi),{matches:a}=M.useContext(Qi),{pathname:l}=Os(),f=JSON.stringify(m0(a,n.v7_relativeSplatPath)),g=M.useRef(!1);return q2(()=>{g.current=!0}),M.useCallback(function(p,y){if(y===void 0&&(y={}),!g.current)return;if(typeof p=="number"){i.go(p);return}let v=x0(p,JSON.parse(f),l,y.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:zi([t,v.pathname])),(y.replace?i.replace:i.push)(v,y.state,y)},[t,i,f,l,e])}function Z2(e,t){let{relative:n}=t===void 0?{}:t,{future:i}=M.useContext(Zi),{matches:a}=M.useContext(Qi),{pathname:l}=Os(),f=JSON.stringify(m0(a,i.v7_relativeSplatPath));return M.useMemo(()=>x0(e,JSON.parse(f),l,n==="path"),[e,f,l,n])}function b_(e,t){return __(e,t)}function __(e,t,n,i){Yo()||Tt(!1);let{navigator:a}=M.useContext(Zi),{matches:l}=M.useContext(Qi),f=l[l.length-1],g=f?f.params:{};f&&f.pathname;let x=f?f.pathnameBase:"/";f&&f.route;let p=Os(),y;if(t){var v;let D=typeof t=="string"?Xo(t):t;x==="/"||(v=D.pathname)!=null&&v.startsWith(x)||Tt(!1),y=D}else y=p;let E=y.pathname||"/",_=E;if(x!=="/"){let D=x.replace(/^\//,"").split("/");_="/"+E.replace(/^\//,"").split("/").slice(D.length).join("/")}let O=Jb(e,{pathname:_}),N=R_(O&&O.map(D=>Object.assign({},D,{params:Object.assign({},g,D.params),pathname:zi([x,a.encodeLocation?a.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?x:zi([x,a.encodeLocation?a.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),l,n,i);return t&&N?M.createElement(bu.Provider,{value:{location:il({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:ki.Pop}},N):N}function S_(){let e=D_(),t=y_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},t),n?M.createElement("pre",{style:a},n):null,null)}const T_=M.createElement(S_,null);class I_ extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?M.createElement(Qi.Provider,{value:this.props.routeContext},M.createElement(K2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function N_(e){let{routeContext:t,match:n,children:i}=e,a=M.useContext(w0);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Qi.Provider,{value:t},i)}function R_(e,t,n,i){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),i===void 0&&(i=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=i)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let f=e,g=(a=n)==null?void 0:a.errors;if(g!=null){let y=f.findIndex(v=>v.route.id&&(g==null?void 0:g[v.route.id])!==void 0);y>=0||Tt(!1),f=f.slice(0,Math.min(f.length,y+1))}let x=!1,p=-1;if(n&&i&&i.v7_partialHydration)for(let y=0;y<f.length;y++){let v=f[y];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=y),v.route.id){let{loaderData:E,errors:_}=n,O=v.route.loader&&E[v.route.id]===void 0&&(!_||_[v.route.id]===void 0);if(v.route.lazy||O){x=!0,p>=0?f=f.slice(0,p+1):f=[f[0]];break}}}return f.reduceRight((y,v,E)=>{let _,O=!1,N=null,D=null;n&&(_=g&&v.route.id?g[v.route.id]:void 0,N=v.route.errorElement||T_,x&&(p<0&&E===0?(O=!0,D=null):p===E&&(O=!0,D=v.route.hydrateFallbackElement||null)));let R=t.concat(f.slice(0,E+1)),S=()=>{let I;return _?I=N:O?I=D:v.route.Component?I=M.createElement(v.route.Component,null):v.route.element?I=v.route.element:I=y,M.createElement(N_,{match:v,routeContext:{outlet:y,matches:R,isDataRoute:n!=null},children:I})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?M.createElement(I_,{location:n.location,revalidation:n.revalidation,component:N,error:_,children:S(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):S()},null)}var Q2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Q2||{}),Xc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Xc||{});function O_(e){let t=M.useContext(w0);return t||Tt(!1),t}function k_(e){let t=M.useContext(E_);return t||Tt(!1),t}function P_(e){let t=M.useContext(Qi);return t||Tt(!1),t}function J2(e){let t=P_(),n=t.matches[t.matches.length-1];return n.route.id||Tt(!1),n.route.id}function D_(){var e;let t=M.useContext(K2),n=k_(Xc.UseRouteError),i=J2(Xc.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[i]}function M_(){let{router:e}=O_(Q2.UseNavigateStable),t=J2(Xc.UseNavigateStable),n=M.useRef(!1);return q2(()=>{n.current=!0}),M.useCallback(function(a,l){l===void 0&&(l={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,il({fromRouteId:t},l)))},[e,t])}function L_(e){let{to:t,replace:n,state:i,relative:a}=e;Yo()||Tt(!1);let{future:l,static:f}=M.useContext(Zi),{matches:g}=M.useContext(Qi),{pathname:x}=Os(),p=pl(),y=x0(t,m0(g,l.v7_relativeSplatPath),x,a==="path"),v=JSON.stringify(y);return M.useEffect(()=>p(JSON.parse(v),{replace:n,state:i,relative:a}),[p,v,a,n,i]),null}function pi(e){Tt(!1)}function B_(e){let{basename:t="/",children:n=null,location:i,navigationType:a=ki.Pop,navigator:l,static:f=!1,future:g}=e;Yo()&&Tt(!1);let x=t.replace(/^\/*/,"/"),p=M.useMemo(()=>({basename:x,navigator:l,static:f,future:il({v7_relativeSplatPath:!1},g)}),[x,g,l,f]);typeof i=="string"&&(i=Xo(i));let{pathname:y="/",search:v="",hash:E="",state:_=null,key:O="default"}=i,N=M.useMemo(()=>{let D=p0(y,x);return D==null?null:{location:{pathname:D,search:v,hash:E,state:_,key:O},navigationType:a}},[x,y,v,E,_,O,a]);return N==null?null:M.createElement(Zi.Provider,{value:p},M.createElement(bu.Provider,{children:n,value:N}))}function F_(e){let{children:t,location:n}=e;return b_($f(t),n)}new Promise(()=>{});function $f(e,t){t===void 0&&(t=[]);let n=[];return M.Children.forEach(e,(i,a)=>{if(!M.isValidElement(i))return;let l=[...t,a];if(i.type===M.Fragment){n.push.apply(n,$f(i.props.children,l));return}i.type!==pi&&Tt(!1),!i.props.index||!i.props.children||Tt(!1);let f={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=$f(i.props.children,l)),n.push(f)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xf(){return Xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Xf.apply(this,arguments)}function j_(e,t){if(e==null)return{};var n={},i=Object.keys(e),a,l;for(l=0;l<i.length;l++)a=i[l],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function U_(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function z_(e,t){return e.button===0&&(!t||t==="_self")&&!U_(e)}const V_=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],H_="6";try{window.__reactRouterVersion=H_}catch{}const W_="startTransition",Sg=by[W_];function G_(e){let{basename:t,children:n,future:i,window:a}=e,l=M.useRef();l.current==null&&(l.current=qb({window:a,v5Compat:!0}));let f=l.current,[g,x]=M.useState({action:f.action,location:f.location}),{v7_startTransition:p}=i||{},y=M.useCallback(v=>{p&&Sg?Sg(()=>x(v)):x(v)},[x,p]);return M.useLayoutEffect(()=>f.listen(y),[f,y]),M.createElement(B_,{basename:t,children:n,location:g.location,navigationType:g.action,navigator:f,future:i})}const $_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",X_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y_=M.forwardRef(function(t,n){let{onClick:i,relative:a,reloadDocument:l,replace:f,state:g,target:x,to:p,preventScrollReset:y,viewTransition:v}=t,E=j_(t,V_),{basename:_}=M.useContext(Zi),O,N=!1;if(typeof p=="string"&&X_.test(p)&&(O=p,$_))try{let I=new URL(window.location.href),L=p.startsWith("//")?new URL(I.protocol+p):new URL(p),z=p0(L.pathname,_);L.origin===I.origin&&z!=null?p=z+L.search+L.hash:N=!0}catch{}let D=C_(p,{relative:a}),R=K_(p,{replace:f,state:g,target:x,preventScrollReset:y,relative:a,viewTransition:v});function S(I){i&&i(I),I.defaultPrevented||R(I)}return M.createElement("a",Xf({},E,{href:O||D,onClick:N||l?i:S,ref:n,target:x}))});var Tg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Tg||(Tg={}));var Ig;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ig||(Ig={}));function K_(e,t){let{target:n,replace:i,state:a,preventScrollReset:l,relative:f,viewTransition:g}=t===void 0?{}:t,x=pl(),p=Os(),y=Z2(e,{relative:f});return M.useCallback(v=>{if(z_(v,n)){v.preventDefault();let E=i!==void 0?i:$c(p)===$c(y);x(e,{replace:E,state:a,preventScrollReset:l,relative:f,viewTransition:g})}},[p,x,y,i,a,n,e,l,f,g])}const q_="modulepreload",Z_=function(e){return"/"+e},Ng={},jo=function(t,n,i){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),g=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));a=Promise.allSettled(n.map(x=>{if(x=Z_(x),x in Ng)return;Ng[x]=!0;const p=x.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${y}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":q_,p||(v.as="script"),v.crossOrigin="",v.href=x,g&&v.setAttribute("nonce",g),document.head.appendChild(v),p)return new Promise((E,_)=>{v.addEventListener("load",E),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${x}`)))})}))}function l(f){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=f,window.dispatchEvent(g),!g.defaultPrevented)throw f}return a.then(f=>{for(const g of f||[])g.status==="rejected"&&l(g.reason);return t().catch(l)})},Q_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>jo(async()=>{const{default:i}=await Promise.resolve().then(()=>Ko);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)};class y0 extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class J_ extends y0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class e8 extends y0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class t8 extends y0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Yf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Yf||(Yf={}));var n8=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(y){try{p(i.next(y))}catch(v){f(v)}}function x(y){try{p(i.throw(y))}catch(v){f(v)}}function p(y){y.done?l(y.value):a(y.value).then(g,x)}p((i=i.apply(e,t||[])).next())})};class r8{constructor(t,{headers:n={},customFetch:i,region:a=Yf.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=Q_(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var i;return n8(this,void 0,void 0,function*(){try{const{headers:a,method:l,body:f}=n;let g={},{region:x}=n;x||(x=this.region),x&&x!=="any"&&(g["x-region"]=x);let p;f&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",p=f):typeof f=="string"?(g["Content-Type"]="text/plain",p=f):typeof FormData<"u"&&f instanceof FormData?p=f:(g["Content-Type"]="application/json",p=JSON.stringify(f)));const y=yield this.fetch(`${this.url}/${t}`,{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),a),body:p}).catch(O=>{throw new J_(O)}),v=y.headers.get("x-relay-error");if(v&&v==="true")throw new e8(y);if(!y.ok)throw new t8(y);let E=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return E==="application/json"?_=yield y.json():E==="application/octet-stream"?_=yield y.blob():E==="text/event-stream"?_=y:E==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null}}catch(a){return{data:null,error:a}}})}}var Tn={},v0={},_u={},ml={},Su={},Tu={},i8=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Uo=i8();const s8=Uo.fetch,ew=Uo.fetch.bind(Uo),tw=Uo.Headers,o8=Uo.Request,a8=Uo.Response,Ko=Object.freeze(Object.defineProperty({__proto__:null,Headers:tw,Request:o8,Response:a8,default:ew,fetch:s8},Symbol.toStringTag,{value:"Module"})),l8=ly(Ko);var Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});let c8=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Iu.default=c8;var nw=Xt&&Xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tu,"__esModule",{value:!0});const u8=nw(l8),d8=nw(Iu);let f8=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=u8.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const i=this.fetch;let a=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var f,g,x;let p=null,y=null,v=null,E=l.status,_=l.statusText;if(l.ok){if(this.method!=="HEAD"){const R=await l.text();R===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=R:y=JSON.parse(R))}const N=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),D=(g=l.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");N&&D&&D.length>1&&(v=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(p={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,v=null,E=406,_="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const N=await l.text();try{p=JSON.parse(N),Array.isArray(p)&&l.status===404&&(y=[],p=null,E=200,_="OK")}catch{l.status===404&&N===""?(E=204,_="No Content"):p={message:N}}if(p&&this.isMaybeSingle&&(!((x=p==null?void 0:p.details)===null||x===void 0)&&x.includes("0 rows"))&&(p=null,E=200,_="OK"),p&&this.shouldThrowOnError)throw new d8.default(p)}return{error:p,data:y,count:v,status:E,statusText:_}});return this.shouldThrowOnError||(a=a.catch(l=>{var f,g,x;return{error:{message:`${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(g=l==null?void 0:l.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(x=l==null?void 0:l.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,n)}returns(){return this}overrideTypes(){return this}};Tu.default=f8;var h8=Xt&&Xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Su,"__esModule",{value:!0});const g8=h8(Tu);let p8=class extends g8.default{select(t){let n=!1;const i=(t??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:i,foreignTable:a,referencedTable:l=a}={}){const f=l?`${l}.order`:"order",g=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${g?`${g},`:""}${t}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:i=n}={}){const a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,n,{foreignTable:i,referencedTable:a=i}={}){const l=typeof a>"u"?"offset":`${a}.offset`,f=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${t}`),this.url.searchParams.set(f,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:i=!1,buffers:a=!1,wal:l=!1,format:f="text"}={}){var g;const x=[t?"analyze":null,n?"verbose":null,i?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${p}"; options=${x};`,f==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Su.default=p8;var m8=Xt&&Xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ml,"__esModule",{value:!0});const x8=m8(Su);let w8=class extends x8.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const i=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${i})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:i,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const f=i===void 0?"":`(${i})`;return this.url.searchParams.append(t,`${l}fts${f}.${n}`),this}match(t){return Object.entries(t).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(t,n,i){return this.url.searchParams.append(t,`not.${n}.${i}`),this}or(t,{foreignTable:n,referencedTable:i=n}={}){const a=i?`${i}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,n,i){return this.url.searchParams.append(t,`${n}.${i}`),this}};ml.default=w8;var y8=Xt&&Xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_u,"__esModule",{value:!0});const ma=y8(ml);let v8=class{constructor(t,{headers:n={},schema:i,fetch:a}){this.url=t,this.headers=n,this.schema=i,this.fetch=a}select(t,{head:n=!1,count:i}={}){const a=n?"HEAD":"GET";let l=!1;const f=(t??"*").split("").map(g=>/\s/.test(g)&&!l?"":(g==='"'&&(l=!l),g)).join("");return this.url.searchParams.set("select",f),i&&(this.headers.Prefer=`count=${i}`),new ma.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:i=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),n&&l.push(`count=${n}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const f=t.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(f.length>0){const g=[...new Set(f)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new ma.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:i=!1,count:a,defaultToNull:l=!0}={}){const f="POST",g=[`resolution=${i?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&g.push(this.headers.Prefer),a&&g.push(`count=${a}`),l||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(t)){const x=t.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(x.length>0){const p=[...new Set(x)].map(y=>`"${y}"`);this.url.searchParams.set("columns",p.join(","))}}return new ma.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const i="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),this.headers.Prefer=a.join(","),new ma.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",i=[];return t&&i.push(`count=${t}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new ma.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};_u.default=v8;var Nu={},Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.version=void 0;Ru.version="0.0.0-automated";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.DEFAULT_HEADERS=void 0;const E8=Ru;Nu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${E8.version}`};var rw=Xt&&Xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(v0,"__esModule",{value:!0});const C8=rw(_u),A8=rw(ml),b8=Nu;let _8=class iw{constructor(t,{headers:n={},schema:i,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},b8.DEFAULT_HEADERS),n),this.schemaName=i,this.fetch=a}from(t){const n=new URL(`${this.url}/${t}`);return new C8.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new iw(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:i=!1,get:a=!1,count:l}={}){let f;const g=new URL(`${this.url}/rpc/${t}`);let x;i||a?(f=i?"HEAD":"GET",Object.entries(n).filter(([y,v])=>v!==void 0).map(([y,v])=>[y,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([y,v])=>{g.searchParams.append(y,v)})):(f="POST",x=n);const p=Object.assign({},this.headers);return l&&(p.Prefer=`count=${l}`),new A8.default({method:f,url:g,headers:p,schema:this.schemaName,body:x,fetch:this.fetch,allowEmpty:!1})}};v0.default=_8;var qo=Xt&&Xt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.PostgrestError=Tn.PostgrestBuilder=Tn.PostgrestTransformBuilder=Tn.PostgrestFilterBuilder=Tn.PostgrestQueryBuilder=Tn.PostgrestClient=void 0;const sw=qo(v0);Tn.PostgrestClient=sw.default;const ow=qo(_u);Tn.PostgrestQueryBuilder=ow.default;const aw=qo(ml);Tn.PostgrestFilterBuilder=aw.default;const lw=qo(Su);Tn.PostgrestTransformBuilder=lw.default;const cw=qo(Tu);Tn.PostgrestBuilder=cw.default;const uw=qo(Iu);Tn.PostgrestError=uw.default;var S8=Tn.default={PostgrestClient:sw.default,PostgrestQueryBuilder:ow.default,PostgrestFilterBuilder:aw.default,PostgrestTransformBuilder:lw.default,PostgrestBuilder:cw.default,PostgrestError:uw.default};const{PostgrestClient:T8,PostgrestQueryBuilder:ET,PostgrestFilterBuilder:CT,PostgrestTransformBuilder:AT,PostgrestBuilder:bT,PostgrestError:_T}=S8,I8="2.11.2",N8={"X-Client-Info":`realtime-js/${I8}`},R8="1.0.0",dw=1e4,O8=1e3;var vo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(vo||(vo={}));var Dn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Dn||(Dn={}));var pr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pr||(pr={}));var Kf;(function(e){e.websocket="websocket"})(Kf||(Kf={}));var ds;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ds||(ds={}));class k8{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,n,i)}_decodeBroadcast(t,n,i){const a=n.getUint8(1),l=n.getUint8(2);let f=this.HEADER_LENGTH+2;const g=i.decode(t.slice(f,f+a));f=f+a;const x=i.decode(t.slice(f,f+l));f=f+l;const p=JSON.parse(i.decode(t.slice(f,t.byteLength)));return{ref:null,topic:g,event:x,payload:p}}}class fw{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var nt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(nt||(nt={}));const Rg=(e,t,n={})=>{var i;const a=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(t).reduce((l,f)=>(l[f]=P8(f,e,t,a),l),{})},P8=(e,t,n,i)=>{const a=t.find(g=>g.name===e),l=a==null?void 0:a.type,f=n[e];return l&&!i.includes(l)?hw(l,f):qf(f)},hw=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return B8(t,n)}switch(e){case nt.bool:return D8(t);case nt.float4:case nt.float8:case nt.int2:case nt.int4:case nt.int8:case nt.numeric:case nt.oid:return M8(t);case nt.json:case nt.jsonb:return L8(t);case nt.timestamp:return F8(t);case nt.abstime:case nt.date:case nt.daterange:case nt.int4range:case nt.int8range:case nt.money:case nt.reltime:case nt.text:case nt.time:case nt.timestamptz:case nt.timetz:case nt.tsrange:case nt.tstzrange:return qf(t);default:return qf(t)}},qf=e=>e,D8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},M8=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},L8=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},B8=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let l;const f=e.slice(1,n);try{l=JSON.parse("["+f+"]")}catch{l=f?f.split(","):[]}return l.map(g=>hw(t,g))}return e},F8=e=>typeof e=="string"?e.replace(" ","T"):e,gw=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Od{constructor(t,n,i={},a=dw){this.channel=t,this.event=n,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Og;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Og||(Og={}));class ka{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:l,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ka.syncState(this.state,a,l,f),this.pendingDiffs.forEach(x=>{this.state=ka.syncDiff(this.state,x,l,f)}),this.pendingDiffs=[],g()}),this.channel._on(i.diff,{},a=>{const{onJoin:l,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=ka.syncDiff(this.state,a,l,f),g())}),this.onJoin((a,l,f)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:f})}),this.onLeave((a,l,f)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,a){const l=this.cloneDeep(t),f=this.transformState(n),g={},x={};return this.map(l,(p,y)=>{f[p]||(x[p]=y)}),this.map(f,(p,y)=>{const v=l[p];if(v){const E=y.map(D=>D.presence_ref),_=v.map(D=>D.presence_ref),O=y.filter(D=>_.indexOf(D.presence_ref)<0),N=v.filter(D=>E.indexOf(D.presence_ref)<0);O.length>0&&(g[p]=O),N.length>0&&(x[p]=N)}else g[p]=y}),this.syncDiff(l,{joins:g,leaves:x},i,a)}static syncDiff(t,n,i,a){const{joins:l,leaves:f}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(l,(g,x)=>{var p;const y=(p=t[g])!==null&&p!==void 0?p:[];if(t[g]=this.cloneDeep(x),y.length>0){const v=t[g].map(_=>_.presence_ref),E=y.filter(_=>v.indexOf(_.presence_ref)<0);t[g].unshift(...E)}i(g,y,x)}),this.map(f,(g,x)=>{let p=t[g];if(!p)return;const y=x.map(v=>v.presence_ref);p=p.filter(v=>y.indexOf(v.presence_ref)<0),t[g]=p,a(g,p,x),p.length===0&&delete t[g]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const a=t[i];return"metas"in a?n[i]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[i]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var kg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(kg||(kg={}));var Pg;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Pg||(Pg={}));var Xr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Xr||(Xr={}));class E0{constructor(t,n={config:{}},i){this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=Dn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Od(this,pr.join,this.params,this.timeout),this.rejoinTimer=new fw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Dn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pr.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new ka(this),this.broadcastEndpointURL=gw(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var i,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:l,presence:f,private:g}}=this.params;this._onError(y=>t==null?void 0:t(Xr.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(Xr.CLOSED));const x={},p={broadcast:l,presence:f,postgres_changes:(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(y=>y.filter))!==null&&a!==void 0?a:[],private:g};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},x)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var v;if(this.socket.setAuth(),y===void 0){t==null||t(Xr.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,_=(v=E==null?void 0:E.length)!==null&&v!==void 0?v:0,O=[];for(let N=0;N<_;N++){const D=E[N],{filter:{event:R,schema:S,table:I,filter:L}}=D,z=y&&y[N];if(z&&z.event===R&&z.schema===S&&z.table===I&&z.filter===L)O.push(Object.assign(Object.assign({},D),{id:z.id}));else{this.unsubscribe(),t==null||t(Xr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,t&&t(Xr.SUBSCRIBED);return}}).receive("error",y=>{t==null||t(Xr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Xr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this._on(t,n,i)}async send(t,n={}){var i,a;if(!this._canPush()&&t.type==="broadcast"){const{event:l,payload:f}=t,x={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:f,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,x,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=p.body)===null||a===void 0?void 0:a.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var f,g,x;const p=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((x=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||x===void 0)&&x.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Dn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const a=new Od(this,pr.leave,{},t);a.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,n,i){const a=new AbortController,l=setTimeout(()=>a.abort(),i),f=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(l),f}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Od(this,t,n,i);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var a,l;const f=t.toLocaleLowerCase(),{close:g,error:x,leave:p,join:y}=pr;if(i&&[g,x,p,y].indexOf(f)>=0&&i!==this._joinRef())return;let E=this._onMessage(f,n,i);if(n&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(_=>{var O,N,D;return((O=_.filter)===null||O===void 0?void 0:O.event)==="*"||((D=(N=_.filter)===null||N===void 0?void 0:N.event)===null||D===void 0?void 0:D.toLocaleLowerCase())===f}).map(_=>_.callback(E,i)):(l=this.bindings[f])===null||l===void 0||l.filter(_=>{var O,N,D,R,S,I;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in _){const L=_.id,z=(O=_.filter)===null||O===void 0?void 0:O.event;return L&&((N=n.ids)===null||N===void 0?void 0:N.includes(L))&&(z==="*"||(z==null?void 0:z.toLocaleLowerCase())===((D=n.data)===null||D===void 0?void 0:D.type.toLocaleLowerCase()))}else{const L=(S=(R=_==null?void 0:_.filter)===null||R===void 0?void 0:R.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return L==="*"||L===((I=n==null?void 0:n.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===f}).map(_=>{if(typeof E=="object"&&"ids"in E){const O=E.data,{schema:N,table:D,commit_timestamp:R,type:S,errors:I}=O;E=Object.assign(Object.assign({},{schema:N,table:D,commit_timestamp:R,eventType:S,new:{},old:{},errors:I}),this._getPayloadRecords(O))}_.callback(E,i)})}_isClosed(){return this.state===Dn.closed}_isJoined(){return this.state===Dn.joined}_isJoining(){return this.state===Dn.joining}_isLeaving(){return this.state===Dn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const a=t.toLocaleLowerCase(),l={type:a,filter:n,callback:i};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&E0.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pr.close,{},t)}_onError(t){this._on(pr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Rg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Rg(t.columns,t.old_record)),n}}const j8=()=>{},U8=typeof WebSocket<"u",z8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class V8{constructor(t,n){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=N8,this.params={},this.timeout=dw,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=j8,this.conn=null,this.sendBuffer=[],this.serializer=new k8,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let f;return l?f=l:typeof fetch>"u"?f=(...g)=>jo(async()=>{const{default:x}=await Promise.resolve().then(()=>Ko);return{default:x}},void 0).then(({default:x})=>x(...g)):f=fetch,(...g)=>f(...g)},this.endPoint=`${t}/${Kf.websocket}`,this.httpEndpoint=gw(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(l,f)=>f(JSON.stringify(l)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new fw(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(U8){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new H8(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),jo(async()=>{const{default:t}=await import("./browser-BkmRsmX_.js").then(n=>n.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:R8}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case vo.connecting:return ds.Connecting;case vo.open:return ds.Open;case vo.closing:return ds.Closing;default:return ds.Closed}}isConnected(){return this.connectionState()===ds.Open}channel(t,n={config:{}}){const i=new E0(`realtime:${t}`,n,this);return this.channels.push(i),i}push(t){const{topic:n,event:i,payload:a,ref:l}=t,f=()=>{this.encode(t,g=>{var x;(x=this.conn)===null||x===void 0||x.send(g)})};this.log("push",`${n} ${i} (${l})`,a),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let i=null;try{i=JSON.parse(atob(n.split(".")[1]))}catch{}if(i&&i.exp&&!(Math.floor(Date.now()/1e3)-i.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`);this.accessTokenValue=n,this.channels.forEach(a=>{n&&a.updateJoinPayload({access_token:n}),a.joinedOnce&&a._isJoined()&&a._push(pr.access_token,{access_token:n})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(O8,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:i,event:a,payload:l,ref:f}=n;f&&f===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${i} ${a} ${f&&"("+f+")"||""}`,l),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(a,l,f)),this.stateChangeCallbacks.message.forEach(g=>g(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(pr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${i}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([z8],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}}class H8{constructor(t,n,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=vo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=i.close}}class C0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ft(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class W8 extends C0{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Zf extends C0{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var G8=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(y){try{p(i.next(y))}catch(v){f(v)}}function x(y){try{p(i.throw(y))}catch(v){f(v)}}function p(y){y.done?l(y.value):a(y.value).then(g,x)}p((i=i.apply(e,t||[])).next())})};const pw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>jo(async()=>{const{default:i}=await Promise.resolve().then(()=>Ko);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},$8=()=>G8(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield jo(()=>Promise.resolve().then(()=>Ko),void 0)).Response:Response}),Qf=e=>{if(Array.isArray(e))return e.map(n=>Qf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,i])=>{const a=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[a]=Qf(i)}),t};var ks=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(y){try{p(i.next(y))}catch(v){f(v)}}function x(y){try{p(i.throw(y))}catch(v){f(v)}}function p(y){y.done?l(y.value):a(y.value).then(g,x)}p((i=i.apply(e,t||[])).next())})};const kd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),X8=(e,t,n)=>ks(void 0,void 0,void 0,function*(){const i=yield $8();e instanceof i&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{t(new W8(kd(a),e.status||500))}).catch(a=>{t(new Zf(kd(a),a))}):t(new Zf(kd(e),e))}),Y8=(e,t,n,i)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i&&(a.body=JSON.stringify(i)),Object.assign(Object.assign({},a),n))};function xl(e,t,n,i,a,l){return ks(this,void 0,void 0,function*(){return new Promise((f,g)=>{e(n,Y8(t,i,a,l)).then(x=>{if(!x.ok)throw x;return i!=null&&i.noResolveJson?x:x.json()}).then(x=>f(x)).catch(x=>X8(x,g,i))})})}function Yc(e,t,n,i){return ks(this,void 0,void 0,function*(){return xl(e,"GET",t,n,i)})}function vi(e,t,n,i,a){return ks(this,void 0,void 0,function*(){return xl(e,"POST",t,i,a,n)})}function K8(e,t,n,i,a){return ks(this,void 0,void 0,function*(){return xl(e,"PUT",t,i,a,n)})}function q8(e,t,n,i){return ks(this,void 0,void 0,function*(){return xl(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function mw(e,t,n,i,a){return ks(this,void 0,void 0,function*(){return xl(e,"DELETE",t,i,a,n)})}var bn=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(y){try{p(i.next(y))}catch(v){f(v)}}function x(y){try{p(i.throw(y))}catch(v){f(v)}}function p(y){y.done?l(y.value):a(y.value).then(g,x)}p((i=i.apply(e,t||[])).next())})};const Z8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Dg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Q8{constructor(t,n={},i,a){this.url=t,this.headers=n,this.bucketId=i,this.fetch=pw(a)}uploadOrUpdate(t,n,i,a){return bn(this,void 0,void 0,function*(){try{let l;const f=Object.assign(Object.assign({},Dg),a);let g=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(f.upsert)});const x=f.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",f.cacheControl),x&&l.append("metadata",this.encodeMetadata(x)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",f.cacheControl),x&&l.append("metadata",this.encodeMetadata(x))):(l=i,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,x&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(x)))),a!=null&&a.headers&&(g=Object.assign(Object.assign({},g),a.headers));const p=this._removeEmptyFolders(n),y=this._getFinalPath(p),v=yield this.fetch(`${this.url}/object/${y}`,Object.assign({method:t,body:l,headers:g},f!=null&&f.duplex?{duplex:f.duplex}:{})),E=yield v.json();return v.ok?{data:{path:p,id:E.Id,fullPath:E.Key},error:null}:{data:null,error:E}}catch(l){if(Ft(l))return{data:null,error:l};throw l}})}upload(t,n,i){return bn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,i)})}uploadToSignedUrl(t,n,i,a){return bn(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),f=this._getFinalPath(l),g=new URL(this.url+`/object/upload/sign/${f}`);g.searchParams.set("token",n);try{let x;const p=Object.assign({upsert:Dg.upsert},a),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(x=new FormData,x.append("cacheControl",p.cacheControl),x.append("",i)):typeof FormData<"u"&&i instanceof FormData?(x=i,x.append("cacheControl",p.cacheControl)):(x=i,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const v=yield this.fetch(g.toString(),{method:"PUT",body:x,headers:y}),E=yield v.json();return v.ok?{data:{path:l,fullPath:E.Key},error:null}:{data:null,error:E}}catch(x){if(Ft(x))return{data:null,error:x};throw x}})}createSignedUploadUrl(t,n){return bn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const l=yield vi(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),f=new URL(this.url+l.url),g=f.searchParams.get("token");if(!g)throw new C0("No token returned by API");return{data:{signedUrl:f.toString(),path:t,token:g},error:null}}catch(i){if(Ft(i))return{data:null,error:i};throw i}})}update(t,n,i){return bn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,i)})}move(t,n,i){return bn(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Ft(a))return{data:null,error:a};throw a}})}copy(t,n,i){return bn(this,void 0,void 0,function*(){try{return{data:{path:(yield vi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Ft(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,i){return bn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),l=yield vi(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const f=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${f}`)},{data:l,error:null}}catch(a){if(Ft(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,i){return bn(this,void 0,void 0,function*(){try{const a=yield vi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),l=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${l}`):null})),error:null}}catch(a){if(Ft(a))return{data:null,error:a};throw a}})}download(t,n){return bn(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),f=l?`?${l}`:"";try{const g=this._getFinalPath(t);return{data:yield(yield Yc(this.fetch,`${this.url}/${a}/${g}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(g){if(Ft(g))return{data:null,error:g};throw g}})}info(t){return bn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const i=yield Yc(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Qf(i),error:null}}catch(i){if(Ft(i))return{data:null,error:i};throw i}})}exists(t){return bn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield q8(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Ft(i)&&i instanceof Zf){const a=i.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,n){const i=this._getFinalPath(t),a=[],l=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&a.push(l);const g=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",x=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});x!==""&&a.push(x);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${i}${p}`)}}}remove(t){return bn(this,void 0,void 0,function*(){try{return{data:yield mw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}list(t,n,i){return bn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Z8),n),{prefix:t||""});return{data:yield vi(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(Ft(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const J8="2.7.1",eS={"X-Client-Info":`storage-js/${J8}`};var Xs=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(y){try{p(i.next(y))}catch(v){f(v)}}function x(y){try{p(i.throw(y))}catch(v){f(v)}}function p(y){y.done?l(y.value):a(y.value).then(g,x)}p((i=i.apply(e,t||[])).next())})};class tS{constructor(t,n={},i){this.url=t,this.headers=Object.assign(Object.assign({},eS),n),this.fetch=pw(i)}listBuckets(){return Xs(this,void 0,void 0,function*(){try{return{data:yield Yc(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ft(t))return{data:null,error:t};throw t}})}getBucket(t){return Xs(this,void 0,void 0,function*(){try{return{data:yield Yc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Xs(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Ft(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return Xs(this,void 0,void 0,function*(){try{return{data:yield K8(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Ft(i))return{data:null,error:i};throw i}})}emptyBucket(t){return Xs(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Xs(this,void 0,void 0,function*(){try{return{data:yield mw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}})}}class nS extends tS{constructor(t,n={},i){super(t,n,i)}from(t){return new Q8(this.url,this.headers,t,this.fetch)}}const rS="2.49.4";let Ea="";typeof Deno<"u"?Ea="deno":typeof document<"u"?Ea="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ea="react-native":Ea="node";const iS={"X-Client-Info":`supabase-js-${Ea}/${rS}`},sS={headers:iS},oS={schema:"public"},aS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lS={};var cS=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(y){try{p(i.next(y))}catch(v){f(v)}}function x(y){try{p(i.throw(y))}catch(v){f(v)}}function p(y){y.done?l(y.value):a(y.value).then(g,x)}p((i=i.apply(e,t||[])).next())})};const uS=e=>{let t;return e?t=e:typeof fetch>"u"?t=ew:t=fetch,(...n)=>t(...n)},dS=()=>typeof Headers>"u"?tw:Headers,fS=(e,t,n)=>{const i=uS(n),a=dS();return(l,f)=>cS(void 0,void 0,void 0,function*(){var g;const x=(g=yield t())!==null&&g!==void 0?g:e;let p=new a(f==null?void 0:f.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${x}`),i(l,Object.assign(Object.assign({},f),{headers:p}))})};var hS=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(y){try{p(i.next(y))}catch(v){f(v)}}function x(y){try{p(i.throw(y))}catch(v){f(v)}}function p(y){y.done?l(y.value):a(y.value).then(g,x)}p((i=i.apply(e,t||[])).next())})};function gS(e){return e.replace(/\/$/,"")}function pS(e,t){const{db:n,auth:i,realtime:a,global:l}=e,{db:f,auth:g,realtime:x,global:p}=t,y={db:Object.assign(Object.assign({},f),n),auth:Object.assign(Object.assign({},g),i),realtime:Object.assign(Object.assign({},x),a),global:Object.assign(Object.assign({},p),l),accessToken:()=>hS(this,void 0,void 0,function*(){return""})};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}const xw="2.69.1",qs=30*1e3,Jf=3,Pd=Jf*qs,mS="http://localhost:9999",xS="supabase.auth.token",wS={"X-Client-Info":`gotrue-js/${xw}`},eh="X-Supabase-Api-Version",ww={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vS=6e5;class A0 extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Oe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ES extends A0{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function CS(e){return Oe(e)&&e.name==="AuthApiError"}class yw extends A0{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ji extends A0{constructor(t,n,i,a){super(t,i,a),this.name=n,this.status=i}}class mi extends Ji{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function AS(e){return Oe(e)&&e.name==="AuthSessionMissingError"}class Dd extends Ji{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ql extends Ji{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Jl extends Ji{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bS(e){return Oe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Mg extends Ji{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class th extends Ji{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Md(e){return Oe(e)&&e.name==="AuthRetryableFetchError"}class Lg extends Ji{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Pa extends Ji{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Fg=` 	
\r=`.split(""),_S=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Fg.length;t+=1)e[Fg[t].charCodeAt(0)]=-2;for(let t=0;t<Bg.length;t+=1)e[Bg[t].charCodeAt(0)]=t;return e})();function vw(e,t,n){const i=_S[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function jg(e){const t=[],n=f=>{t.push(String.fromCodePoint(f))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=f=>{IS(f,i,n)};for(let f=0;f<e.length;f+=1)vw(e.charCodeAt(f),a,l);return t.join("")}function SS(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function TS(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}SS(i,t)}}function IS(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let i=1;i<6;i+=1)if(!(e>>7-i&1)){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function NS(e){const t=[],n={queue:0,queuedBits:0},i=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)vw(e.charCodeAt(a),n,i);return new Uint8Array(t)}function RS(e){const t=[];return TS(e,n=>t.push(n)),new Uint8Array(t)}function OS(e){return Math.round(Date.now()/1e3)+e}function kS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Or=()=>typeof window<"u"&&typeof document<"u",as={tested:!1,writable:!1},Da=()=>{if(!Or())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(as.tested)return as.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),as.tested=!0,as.writable=!0}catch{as.tested=!0,as.writable=!1}return as.writable};function PS(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,l)=>{t[l]=a})}catch{}return n.searchParams.forEach((i,a)=>{t[a]=i}),t}const Ew=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>jo(async()=>{const{default:i}=await Promise.resolve().then(()=>Ko);return{default:i}},void 0).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},DS=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Cw=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},ec=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},tc=async(e,t)=>{await e.removeItem(t)};class Ou{constructor(){this.promise=new Ou.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ou.promiseConstructor=Promise;function Ld(e){const t=e.split(".");if(t.length!==3)throw new Pa("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!yS.test(t[i]))throw new Pa("JWT not in base64url format");return{header:JSON.parse(jg(t[0])),payload:JSON.parse(jg(t[1])),signature:NS(t[2]),raw:{header:t[0],payload:t[1]}}}async function MS(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function LS(e,t){return new Promise((i,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const f=await e(l);if(!t(l,null,f)){i(f);return}}catch(f){if(!t(l,f)){a(f);return}}})()})}function BS(e){return("0"+e.toString(16)).substr(-2)}function FS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let a="";for(let l=0;l<56;l++)a+=n.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(t),Array.from(t,BS).join("")}async function jS(e){const n=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(i);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function US(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await jS(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ys(e,t,n=!1){const i=FS();let a=i;n&&(a+="/PASSWORD_RECOVERY"),await Cw(e,`${t}-code-verifier`,a);const l=await US(i);return[l,i===l?"plain":"s256"]}const zS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VS(e){const t=e.headers.get(eh);if(!t||!t.match(zS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function HS(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function WS(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var GS=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n};const us=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$S=[502,503,504];async function Ug(e){var t;if(!DS(e))throw new th(us(e),0);if($S.includes(e.status))throw new th(us(e),e.status);let n;try{n=await e.json()}catch(l){throw new yw(us(l),l)}let i;const a=VS(e);if(a&&a.getTime()>=ww["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Lg(us(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new mi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,f)=>l&&typeof f=="string",!0))throw new Lg(us(n),e.status,n.weak_password.reasons);throw new ES(us(n),e.status||500,i)}const XS=(e,t,n,i)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),n))};async function Ue(e,t,n,i){var a;const l=Object.assign({},i==null?void 0:i.headers);l[eh]||(l[eh]=ww["2024-01-01"].name),i!=null&&i.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const f=(a=i==null?void 0:i.query)!==null&&a!==void 0?a:{};i!=null&&i.redirectTo&&(f.redirect_to=i.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",x=await YS(e,t,n+g,{headers:l,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(x):{data:Object.assign({},x),error:null}}async function YS(e,t,n,i,a,l){const f=XS(t,i,a,l);let g;try{g=await e(n,Object.assign({},f))}catch(x){throw console.error(x),new th(us(x),0)}if(g.ok||await Ug(g),i!=null&&i.noResolveJson)return g;try{return await g.json()}catch(x){await Ug(x)}}function xi(e){var t;let n=null;QS(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=OS(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function zg(e){const t=xi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ai(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function KS(e){return{data:e,error:null}}function qS(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:a,verification_type:l}=e,f=GS(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:t,email_otp:n,hashed_token:i,redirect_to:a,verification_type:l},x=Object.assign({},f);return{data:{properties:g,user:x},error:null}}function ZS(e){return e}function QS(e){return e.access_token&&e.refresh_token&&e.expires_in}var JS=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(n[i[a]]=e[i[a]]);return n};class e4{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=Ew(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n="global"){try{return await Ue(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Oe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await Ue(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ai})}catch(i){if(Oe(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=JS(t,["options"]),a=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(a.new_email=i==null?void 0:i.newEmail,delete a.newEmail),await Ue(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:qS,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Oe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Ue(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ai})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,a,l,f,g,x;try{const p={nextPage:null,lastPage:0,total:0},y=await Ue(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:ZS});if(y.error)throw y.error;const v=await y.json(),E=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,_=(x=(g=y.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&x!==void 0?x:[];return _.length>0&&(_.forEach(O=>{const N=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(O.split(";")[1].split("=")[1]);p[`${D}Page`]=N}),p.total=parseInt(E)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(Oe(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){try{return await Ue(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ai})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){try{return await Ue(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Ai})}catch(i){if(Oe(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){try{return await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ai})}catch(i){if(Oe(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){try{const{data:n,error:i}=await Ue(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:i}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){try{return{data:await Ue(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}}const t4={getItem:e=>Da()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Da()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Da()&&globalThis.localStorage.removeItem(e)}};function Vg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function n4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ks={debug:!!(globalThis&&Da()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Aw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class r4 extends Aw{}async function i4(e,t,n){Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ks.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new r4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ks.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}n4();const s4={url:mS,storageKey:xS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Hg(e,t,n){return await n()}class sl{constructor(t){var n,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=sl.nextInstanceID,sl.nextInstanceID+=1,this.instanceID>0&&Or()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},s4),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new e4({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Ew(a.fetch),this.lock=a.lock||Hg,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Or()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=i4:this.lock=Hg,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:Da()?this.storage=t4:(this.memoryStorage={},this.storage=Vg(this.memoryStorage)):(this.memoryStorage={},this.storage=Vg(this.memoryStorage)),Or()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${xw}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=PS(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),Or()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:l}=await this._getSessionFromURL(n,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),bS(l)){const x=(t=l.details)===null||t===void 0?void 0:t.code;if(x==="identity_already_exists"||x==="identity_not_found"||x==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:f,redirectType:g}=a;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Oe(n)?{error:n}:{error:new yw("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,a;try{const l=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:xi}),{data:f,error:g}=l;if(g||!f)return{data:{user:null,session:null},error:g};const x=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",x)),{data:{user:p,session:x},error:null}}catch(l){if(Oe(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var n,i,a;try{let l;if("email"in t){const{email:y,password:v,options:E}=t;let _=null,O=null;this.flowType==="pkce"&&([_,O]=await Ys(this.storage,this.storageKey)),l=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:y,password:v,data:(n=E==null?void 0:E.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:_,code_challenge_method:O},xform:xi})}else if("phone"in t){const{phone:y,password:v,options:E}=t;l=await Ue(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(i=E==null?void 0:E.data)!==null&&i!==void 0?i:{},channel:(a=E==null?void 0:E.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:xi})}else throw new Ql("You must provide either an email or phone number and a password");const{data:f,error:g}=l;if(g||!f)return{data:{user:null,session:null},error:g};const x=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",x)),{data:{user:p,session:x},error:null}}catch(l){if(Oe(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let n;if("email"in t){const{email:l,password:f,options:g}=t;n=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:f,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:zg})}else if("phone"in t){const{phone:l,password:f,options:g}=t;n=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:f,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:zg})}else throw new Ql("You must provide either an email or phone number and a password");const{data:i,error:a}=n;return a?{data:{user:null,session:null},error:a}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Dd}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,i,a,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const n=await ec(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(n??"").split("/");try{const{data:l,error:f}=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:xi});if(await tc(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new Dd}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:f})}catch(l){if(Oe(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:n,provider:i,token:a,access_token:l,nonce:f}=t,g=await Ue(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:l,nonce:f,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:xi}),{data:x,error:p}=g;return p?{data:{user:null,session:null},error:p}:!x||!x.session||!x.user?{data:{user:null,session:null},error:new Dd}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:x,error:p})}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,i,a,l,f;try{if("email"in t){const{email:g,options:x}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Ys(this.storage,this.storageKey));const{error:v}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},create_user:(i=x==null?void 0:x.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:x==null?void 0:x.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:g,options:x}=t,{data:p,error:y}=await Ue(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(a=x==null?void 0:x.data)!==null&&a!==void 0?a:{},create_user:(l=x==null?void 0:x.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},channel:(f=x==null?void 0:x.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:y}}throw new Ql("You must provide either an email or phone number.")}catch(g){if(Oe(g))return{data:{user:null,session:null},error:g};throw g}}async verifyOtp(t){var n,i;try{let a,l;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,l=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:f,error:g}=await Ue(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:xi});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const x=f.session,p=f.user;return x!=null&&x.access_token&&(await this._saveSession(x),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",x)),{data:{user:p,session:x},error:null}}catch(a){if(Oe(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,i,a;try{let l=null,f=null;return this.flowType==="pkce"&&([l,f]=await Ys(this.storage,this.storageKey)),await Ue(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:f}),headers:this.headers,xform:KS})}catch(l){if(Oe(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new mi;const{error:a}=await Ue(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Oe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:a,options:l}=t,{error:f}=await Ue(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in t){const{phone:i,type:a,options:l}=t,{data:f,error:g}=await Ue(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:g}}throw new Ql("You must provide either an email or phone number and a type")}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await ec(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Pd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.storage.isServer){let f=this.suppressGetSessionWarning;t=new Proxy(t,{get:(x,p,y)=>(!f&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(x,p,y))})}return{data:{session:t},error:null}}const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ai}):await this._useSession(async n=>{var i,a,l;const{data:f,error:g}=n;if(g)throw g;return!(!((i=f.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mi}:await Ue(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=f.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:Ai})})}catch(n){if(Oe(n))return AS(n)&&(await this._removeSession(),await tc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:a,error:l}=i;if(l)throw l;if(!a.session)throw new mi;const f=a.session;let g=null,x=null;this.flowType==="pkce"&&t.email!=null&&([g,x]=await Ys(this.storage,this.storageKey));const{data:p,error:y}=await Ue(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:g,code_challenge_method:x}),jwt:f.access_token,xform:Ai});if(y)throw y;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(i){if(Oe(i))return{data:{user:null},error:i};throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new mi;const n=Date.now()/1e3;let i=n,a=!0,l=null;const{payload:f}=Ld(t.access_token);if(f.exp&&(i=f.exp,a=i<=n),a){const{session:g,error:x}=await this._callRefreshToken(t.refresh_token);if(x)return{data:{user:null,session:null},error:x};if(!g)return{data:{user:null,session:null},error:null};l=g}else{const{data:g,error:x}=await this._getUser(t.access_token);if(x)throw x;l={access_token:t.access_token,refresh_token:t.refresh_token,user:g.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(Oe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:f,error:g}=n;if(g)throw g;t=(i=f.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new mi;const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Oe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Or())throw new Jl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Jl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Mg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jl("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Mg("No code detected.");const{data:S,error:I}=await this._exchangeCodeForSession(t.code);if(I)throw I;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:l,refresh_token:f,expires_in:g,expires_at:x,token_type:p}=t;if(!l||!g||!f||!p)throw new Jl("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(g);let E=y+v;x&&(E=parseInt(x));const _=E-y;_*1e3<=qs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const O=E-v;y-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,E,y):y-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,E,y);const{data:N,error:D}=await this._getUser(l);if(D)throw D;const R={provider_token:i,provider_refresh_token:a,access_token:l,expires_in:v,expires_at:E,refresh_token:f,token_type:p,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:t.type},error:null}}catch(i){if(Oe(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await ec(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:a,error:l}=n;if(l)return{error:l};const f=(i=a.session)===null||i===void 0?void 0:i.access_token;if(f){const{error:g}=await this.admin.signOut(f,t);if(g&&!(CS(g)&&(g.status===404||g.status===401||g.status===403)))return{error:g}}return t!=="others"&&(await this._removeSession(),await tc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=kS(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,a;try{const{data:{session:l},error:f}=n;if(f)throw f;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,n={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Ys(this.storage,this.storageKey,!0));try{return await Ue(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(Oe(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:i,error:a}=await this._useSession(async l=>{var f,g,x,p,y;const{data:v,error:E}=l;if(E)throw E;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(f=t.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=t.options)===null||g===void 0?void 0:g.scopes,queryParams:(x=t.options)===null||x===void 0?void 0:x.queryParams,skipBrowserRedirect:!0});return await Ue(this.fetch,"GET",_,{headers:this.headers,jwt:(y=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(a)throw a;return Or()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:t.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Oe(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,a;const{data:l,error:f}=n;if(f)throw f;return await Ue(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await LS(async a=>(a>0&&await MS(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await Ue(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xi})),(a,l)=>{const f=200*Math.pow(2,a);return l&&Md(l)&&Date.now()+f-i<qs})}catch(i){if(this._debug(n,"error",i),Oe(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),Or()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ec(this.storage,this.storageKey);if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Pd;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Pd}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Md(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new mi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ou;const{data:l,error:f}=await this._refreshAccessToken(t);if(f)throw f;if(!l.session)throw new mi;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const g={session:l.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(l){if(this._debug(a,"error",l),Oe(l)){const f={session:null,error:l};return Md(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(f),f}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,i=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const l=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(t,n)}catch(x){l.push(x)}});if(await Promise.all(f),l.length>0){for(let g=0;g<l.length;g+=1)console.error(l[g]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Cw(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await tc(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Or()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),qs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-t)/qs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${qs}ms, refresh threshold is ${Jf} ticks`),a<=Jf&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Aw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Or()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const a=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,f]=await Ys(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(f)}`});a.push(g.toString())}if(i!=null&&i.queryParams){const l=new URLSearchParams(i.queryParams);a.push(l.toString())}return i!=null&&i.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:a,error:l}=n;return l?{data:null,error:l}:await Ue(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,a;const{data:l,error:f}=n;if(f)return{data:null,error:f};const g=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:x,error:p}=await Ue(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(t.factorType==="totp"&&(!((a=x==null?void 0:x.totp)===null||a===void 0)&&a.qr_code)&&(x.totp.qr_code=`data:image/svg+xml;utf-8,${x.totp.qr_code}`),{data:x,error:null})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:l}=n;if(l)return{data:null,error:l};const{data:f,error:g}=await Ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:g})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:l}=n;return l?{data:null,error:l}:await Ue(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(t==null?void 0:t.factors)||[],a=i.filter(f=>f.factor_type==="totp"&&f.status==="verified"),l=i.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:i,totp:a,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,i;const{data:{session:a},error:l}=t;if(l)return{data:null,error:l};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Ld(a.access_token);let g=null;f.aal&&(g=f.aal);let x=g;((i=(n=a.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(x="aal2");const y=f.amr||[];return{data:{currentLevel:g,nextLevel:x,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(f=>f.kid===t);if(i||(i=this.jwks.keys.find(f=>f.kid===t),i&&this.jwks_cached_at+vS>Date.now()))return i;const{data:a,error:l}=await Ue(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;if(!a.keys||a.keys.length===0)throw new Pa("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),i=a.keys.find(f=>f.kid===t),!i)throw new Pa("No matching signing key found in JWKS");return i}async getClaims(t,n={keys:[]}){try{let i=t;if(!i){const{data:_,error:O}=await this.getSession();if(O||!_.session)return{data:null,error:O};i=_.session.access_token}const{header:a,payload:l,signature:f,raw:{header:g,payload:x}}=Ld(i);if(HS(l.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:l,header:a,signature:f},error:null}}const p=WS(a.alg),y=await this.fetchJwk(a.kid,n),v=await crypto.subtle.importKey("jwk",y,p,!0,["verify"]);if(!await crypto.subtle.verify(p,v,f,RS(`${g}.${x}`)))throw new Pa("Invalid JWT signature");return{data:{claims:l,header:a,signature:f},error:null}}catch(i){if(Oe(i))return{data:null,error:i};throw i}}}sl.nextInstanceID=0;const o4=sl;class a4 extends o4{constructor(t){super(t)}}var l4=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(y){try{p(i.next(y))}catch(v){f(v)}}function x(y){try{p(i.throw(y))}catch(v){f(v)}}function p(y){y.done?l(y.value):a(y.value).then(g,x)}p((i=i.apply(e,t||[])).next())})};class c4{constructor(t,n,i){var a,l,f;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const g=gS(t);this.realtimeUrl=`${g}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${g}/auth/v1`,this.storageUrl=`${g}/storage/v1`,this.functionsUrl=`${g}/functions/v1`;const x=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,p={db:oS,realtime:lS,auth:Object.assign(Object.assign({},aS),{storageKey:x}),global:sS},y=pS(i??{},p);this.storageKey=(a=y.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=y.global.headers)!==null&&l!==void 0?l:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(v,E)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(E)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=y.auth)!==null&&f!==void 0?f:{},this.headers,y.global.fetch),this.fetch=fS(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new T8(`${g}/rest/v1`,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),y.accessToken||this._listenForAuthEvents()}get functions(){return new r8(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new nS(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},i={}){return this.rest.rpc(t,n,i)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return l4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:a,storageKey:l,flowType:f,lock:g,debug:x},p,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new a4({url:this.authUrl,headers:Object.assign(Object.assign({},v),p),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:a,flowType:f,lock:g,debug:x,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new V8(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(t,n,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const u4=(e,t,n)=>new c4(e,t,n),d4="https://zwangqyzvegipainxlxx.supabase.co",f4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inp3YW5ncXl6dmVnaXBhaW54bHh4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDcwNDE2OTcsImV4cCI6MjA2MjYxNzY5N30.LblhMFo9avHsOyFkFhf4kJVovnyJnP16zD-9lCPb8Fw",bi=u4(d4,f4),Gt=[];for(let e=0;e<256;++e)Gt.push((e+256).toString(16).slice(1));function h4(e,t=0){return(Gt[e[t+0]]+Gt[e[t+1]]+Gt[e[t+2]]+Gt[e[t+3]]+"-"+Gt[e[t+4]]+Gt[e[t+5]]+"-"+Gt[e[t+6]]+Gt[e[t+7]]+"-"+Gt[e[t+8]]+Gt[e[t+9]]+"-"+Gt[e[t+10]]+Gt[e[t+11]]+Gt[e[t+12]]+Gt[e[t+13]]+Gt[e[t+14]]+Gt[e[t+15]]).toLowerCase()}let Bd;const g4=new Uint8Array(16);function p4(){if(!Bd){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Bd=crypto.getRandomValues.bind(crypto)}return Bd(g4)}const m4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Wg={randomUUID:m4};function x4(e,t,n){var a;if(Wg.randomUUID&&!t&&!e)return Wg.randomUUID();e=e||{};const i=e.random??((a=e.rng)==null?void 0:a.call(e))??p4();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,h4(i)}const bw=M.createContext({cartItems:[],addToCart:()=>{},removeFromCart:()=>{},updateQuantity:()=>{},clearCart:()=>{},getTotalPrice:()=>0,getTotalItems:()=>0}),Ps=()=>M.useContext(bw),w4=({children:e})=>{const[t,n]=M.useState([]);M.useEffect(()=>{const p=localStorage.getItem("smartTrolleyCart");if(p)try{n(JSON.parse(p))}catch(y){console.error("Failed to parse cart from localStorage:",y)}},[]),M.useEffect(()=>{localStorage.setItem("smartTrolleyCart",JSON.stringify(t))},[t]);const i=async p=>{try{const y=t.find(v=>v.product_id===p.id);if(y){const v=y.quantity+1,{error:E}=await bi.from("cart_items").update({quantity:v}).eq("id",y.id);if(E)throw E;n(_=>_.map(O=>O.id===y.id?{...O,quantity:v}:O)),_n.success(`Added another ${p.name} to cart`)}else{const v={id:x4(),product_id:p.id,product:p,quantity:1,timestamp:new Date().toISOString()},{error:E}=await bi.from("cart_items").insert({id:v.id,product_id:v.product_id,quantity:v.quantity,timestamp:v.timestamp});if(E)throw E;n(_=>[..._,v]),_n.success(`Added ${p.name} to cart`)}}catch(y){console.error("Error adding to cart:",y),_n.error("Failed to add item to cart")}},a=async p=>{try{const y=t.find(E=>E.product_id===p);if(!y)return;const{error:v}=await bi.from("cart_items").delete().eq("id",y.id);if(v)throw v;n(E=>{const _=E.filter(O=>O.product_id!==p);return y!=null&&y.product&&_n.info(`Removed ${y.product.name} from cart`),_})}catch(y){console.error("Error removing from cart:",y),_n.error("Failed to remove item from cart")}},l=async(p,y)=>{try{if(y<=0){a(p);return}const v=t.find(_=>_.product_id===p);if(!v)return;const{error:E}=await bi.from("cart_items").update({quantity:y}).eq("id",v.id);if(E)throw E;n(_=>_.map(O=>O.product_id===p?{...O,quantity:y}:O))}catch(v){console.error("Error updating cart quantity:",v),_n.error("Failed to update item quantity")}},f=async()=>{try{const p=t.map(v=>v.id);if(p.length===0)return;const{error:y}=await bi.from("cart_items").delete().in("id",p);if(y)throw y;n([]),_n.info("Cart has been cleared")}catch(p){console.error("Error clearing cart:",p),_n.error("Failed to clear cart")}},g=()=>t.reduce((p,y)=>{var v;return p+(((v=y.product)==null?void 0:v.price)||0)*y.quantity},0),x=()=>t.reduce((p,y)=>p+y.quantity,0);return B.jsx(bw.Provider,{value:{cartItems:t,addToCart:i,removeFromCart:a,updateQuantity:l,clearCart:f,getTotalPrice:g,getTotalItems:x},children:e})},y4=async()=>{try{const{data:e,error:t}=await bi.from("products").select("*");if(t)throw console.error("Error fetching products:",t),t;return e||[]}catch(e){throw console.error("Failed to fetch products:",e),e}},v4=async e=>{try{const{data:t,error:n}=await bi.from("products").select("*").eq("barcode",e).maybeSingle();if(n)throw console.error("Error fetching product by barcode:",n),n;return t}catch(t){throw console.error("Failed to fetch product by barcode:",t),t}},_w=M.forwardRef(({className:e,...t},n)=>B.jsx("div",{ref:n,className:sn("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));_w.displayName="Card";const E4=M.forwardRef(({className:e,...t},n)=>B.jsx("div",{ref:n,className:sn("flex flex-col space-y-1.5 p-6",e),...t}));E4.displayName="CardHeader";const C4=M.forwardRef(({className:e,...t},n)=>B.jsx("h3",{ref:n,className:sn("text-2xl font-semibold leading-none tracking-tight",e),...t}));C4.displayName="CardTitle";const A4=M.forwardRef(({className:e,...t},n)=>B.jsx("p",{ref:n,className:sn("text-sm text-muted-foreground",e),...t}));A4.displayName="CardDescription";const Sw=M.forwardRef(({className:e,...t},n)=>B.jsx("div",{ref:n,className:sn("p-6 pt-0",e),...t}));Sw.displayName="CardContent";const Tw=M.forwardRef(({className:e,...t},n)=>B.jsx("div",{ref:n,className:sn("flex items-center p-6 pt-0",e),...t}));Tw.displayName="CardFooter";const b4=Jx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ar=M.forwardRef(({className:e,variant:t,size:n,asChild:i=!1,...a},l)=>{const f=i?Qa:"button";return B.jsx(f,{className:sn(b4({variant:t,size:n,className:e})),ref:l,...a})});Ar.displayName="Button";const _4=({product:e})=>{const{addToCart:t}=Ps();return B.jsxs(_w,{className:"overflow-hidden",children:[B.jsx("div",{className:"h-48 overflow-hidden",children:B.jsx("img",{src:e.image_url,alt:e.name,className:"w-full h-full object-cover transition-transform hover:scale-105"})}),B.jsxs(Sw,{className:"p-4",children:[B.jsx("h3",{className:"font-semibold text-lg mb-1",children:e.name}),B.jsxs("div",{className:"flex justify-between items-center",children:[B.jsx("p",{className:"font-bold text-lg",children:wo(e.price)}),B.jsxs("p",{className:"text-xs text-gray-500",children:["#",e.barcode]})]})]}),B.jsx(Tw,{className:"p-4 pt-0",children:B.jsx(Ar,{onClick:()=>t(e),className:"w-full bg-blue-500 hover:bg-blue-600",children:"Add to Cart"})})]})};function Fd({className:e,...t}){return B.jsx("div",{className:sn("animate-pulse rounded-md bg-muted",e),...t})}const S4=()=>{const[e,t]=M.useState([]),[n,i]=M.useState(!0);return M.useEffect(()=>{(async()=>{try{const l=await y4();t(l)}catch(l){console.error("Failed to fetch products:",l)}finally{i(!1)}})()},[]),n?B.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 p-4",children:[...Array(6)].map((a,l)=>B.jsxs("div",{className:"flex flex-col space-y-3",children:[B.jsx(Fd,{className:"h-48 w-full rounded-md"}),B.jsx(Fd,{className:"h-4 w-full rounded-md"}),B.jsx(Fd,{className:"h-4 w-2/3 rounded-md"})]},l))}):B.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 p-4",children:e.map(a=>B.jsx(_4,{product:a},a.id))})},T4=()=>B.jsxs("div",{className:"container mx-auto pb-20",children:[B.jsx("h1",{className:"text-2xl font-bold p-4",children:"Products"}),B.jsx(S4,{})]});var pe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(pe||(pe={}));var Gg=new Map([[pe.QR_CODE,"QR_CODE"],[pe.AZTEC,"AZTEC"],[pe.CODABAR,"CODABAR"],[pe.CODE_39,"CODE_39"],[pe.CODE_93,"CODE_93"],[pe.CODE_128,"CODE_128"],[pe.DATA_MATRIX,"DATA_MATRIX"],[pe.MAXICODE,"MAXICODE"],[pe.ITF,"ITF"],[pe.EAN_13,"EAN_13"],[pe.EAN_8,"EAN_8"],[pe.PDF_417,"PDF_417"],[pe.RSS_14,"RSS_14"],[pe.RSS_EXPANDED,"RSS_EXPANDED"],[pe.UPC_A,"UPC_A"],[pe.UPC_E,"UPC_E"],[pe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),$g;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})($g||($g={}));function I4(e){return Object.values(pe).includes(e)}var Kc;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Kc||(Kc={}));var N4=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Kc.SCAN_TYPE_CAMERA,Kc.SCAN_TYPE_FILE],e}(),Iw=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Gg.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Gg.get(t))},e}(),Xg=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),nh;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(nh||(nh={}));var R4=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:nh.UNKWOWN_ERROR}},e}(),O4=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Gr(e){return typeof e>"u"||e===null}var co=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Nw=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var i=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(i,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],l=new Set(a),f=Object.keys(t),g=0,x=f;g<x.length;g++){var p=x[g];if(l.has(p))return n.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),rh={exports:{}};(function(e,t){(function(n,i){i(t)})(Xt,function(n){function i(A){return A==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,r){A.__proto__=r}||function(A,r){for(var s in r)r.hasOwnProperty(s)&&(A[s]=r[s])};function l(A,r){a(A,r);function s(){this.constructor=A}A.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}function f(A,r){var s=Object.setPrototypeOf;s?s(A,r):A.__proto__=r}function g(A,r){r===void 0&&(r=A.constructor);var s=Error.captureStackTrace;s&&s(A,r)}var x=function(A){l(r,A);function r(s){var o=this.constructor,c=A.call(this,s)||this;return Object.defineProperty(c,"name",{value:o.name,enumerable:!1}),f(c,o.prototype),g(c),c}return r}(Error);class p extends x{constructor(r=void 0){super(r),this.message=r}getKind(){return this.constructor.kind}}p.kind="Exception";class y extends p{}y.kind="ArgumentException";class v extends p{}v.kind="IllegalArgumentException";class E{constructor(r){if(this.binarizer=r,r===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(r,s){return this.binarizer.getBlackRow(r,s)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(r,s,o,c){const u=this.binarizer.getLuminanceSource().crop(r,s,o,c);return new E(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new E(this.binarizer.createBinarizer(r))}rotateCounterClockwise45(){const r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new E(this.binarizer.createBinarizer(r))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class _ extends p{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class O{constructor(r){this.source=r}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class N{static arraycopy(r,s,o,c,u){for(;u--;)o[c++]=r[s++]}static currentTimeMillis(){return Date.now()}}class D extends p{}D.kind="IndexOutOfBoundsException";class R extends D{constructor(r=void 0,s=void 0){super(s),this.index=r,this.message=s}}R.kind="ArrayIndexOutOfBoundsException";class S{static fill(r,s){for(let o=0,c=r.length;o<c;o++)r[o]=s}static fillWithin(r,s,o,c){S.rangeCheck(r.length,s,o);for(let u=s;u<o;u++)r[u]=c}static rangeCheck(r,s,o){if(s>o)throw new v("fromIndex("+s+") > toIndex("+o+")");if(s<0)throw new R(s);if(o>r)throw new R(o)}static asList(...r){return r}static create(r,s,o){return Array.from({length:r}).map(u=>Array.from({length:s}).fill(o))}static createInt32Array(r,s,o){return Array.from({length:r}).map(u=>Int32Array.from({length:s}).fill(o))}static equals(r,s){if(!r||!s||!r.length||!s.length||r.length!==s.length)return!1;for(let o=0,c=r.length;o<c;o++)if(r[o]!==s[o])return!1;return!0}static hashCode(r){if(r===null)return 0;let s=1;for(const o of r)s=31*s+o;return s}static fillUint8Array(r,s){for(let o=0;o!==r.length;o++)r[o]=s}static copyOf(r,s){return r.slice(0,s)}static copyOfUint8Array(r,s){if(r.length<=s){const o=new Uint8Array(s);return o.set(r),o}return r.slice(0,s)}static copyOfRange(r,s,o){const c=o-s,u=new Int32Array(c);return N.arraycopy(r,s,u,0,c),u}static binarySearch(r,s,o){o===void 0&&(o=S.numberComparator);let c=0,u=r.length-1;for(;c<=u;){const d=u+c>>1,h=o(s,r[d]);if(h>0)c=d+1;else if(h<0)u=d-1;else return d}return-c-1}static numberComparator(r,s){return r-s}}class I{static numberOfTrailingZeros(r){let s;if(r===0)return 32;let o=31;return s=r<<16,s!==0&&(o-=16,r=s),s=r<<8,s!==0&&(o-=8,r=s),s=r<<4,s!==0&&(o-=4,r=s),s=r<<2,s!==0&&(o-=2,r=s),o-(r<<1>>>31)}static numberOfLeadingZeros(r){if(r===0)return 32;let s=1;return r>>>16||(s+=16,r<<=16),r>>>24||(s+=8,r<<=8),r>>>28||(s+=4,r<<=4),r>>>30||(s+=2,r<<=2),s-=r>>>31,s}static toHexString(r){return r.toString(16)}static toBinaryString(r){return String(parseInt(String(r),2))}static bitCount(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63}static truncDivision(r,s){return Math.trunc(r/s)}static parseInt(r,s=void 0){return parseInt(r,s)}}I.MIN_VALUE_32_BITS=-2147483648,I.MAX_VALUE=Number.MAX_SAFE_INTEGER;class L{constructor(r,s){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,s==null?this.bits=L.makeArray(r):this.bits=s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(r){if(r>this.bits.length*32){const s=L.makeArray(r);N.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0}set(r){this.bits[Math.floor(r/32)]|=1<<(r&31)}flip(r){this.bits[Math.floor(r/32)]^=1<<(r&31)}getNextSet(r){const s=this.size;if(r>=s)return s;const o=this.bits;let c=Math.floor(r/32),u=o[c];u&=~((1<<(r&31))-1);const d=o.length;for(;u===0;){if(++c===d)return s;u=o[c]}const h=c*32+I.numberOfTrailingZeros(u);return h>s?s:h}getNextUnset(r){const s=this.size;if(r>=s)return s;const o=this.bits;let c=Math.floor(r/32),u=~o[c];u&=~((1<<(r&31))-1);const d=o.length;for(;u===0;){if(++c===d)return s;u=~o[c]}const h=c*32+I.numberOfTrailingZeros(u);return h>s?s:h}setBulk(r,s){this.bits[Math.floor(r/32)]=s}setRange(r,s){if(s<r||r<0||s>this.size)throw new v;if(s===r)return;s--;const o=Math.floor(r/32),c=Math.floor(s/32),u=this.bits;for(let d=o;d<=c;d++){const h=d>o?0:r&31,w=(2<<(d<c?31:s&31))-(1<<h);u[d]|=w}}clear(){const r=this.bits.length,s=this.bits;for(let o=0;o<r;o++)s[o]=0}isRange(r,s,o){if(s<r||r<0||s>this.size)throw new v;if(s===r)return!0;s--;const c=Math.floor(r/32),u=Math.floor(s/32),d=this.bits;for(let h=c;h<=u;h++){const m=h>c?0:r&31,C=(2<<(h<u?31:s&31))-(1<<m)&4294967295;if((d[h]&C)!==(o?C:0))return!1}return!0}appendBit(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(r,s){if(s<0||s>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let o=s;o>0;o--)this.appendBit((r>>o-1&1)===1)}appendBitArray(r){const s=r.size;this.ensureCapacity(this.size+s);for(let o=0;o<s;o++)this.appendBit(r.get(o))}xor(r){if(this.size!==r.size)throw new v("Sizes don't match");const s=this.bits;for(let o=0,c=s.length;o<c;o++)s[o]^=r.bits[o]}toBytes(r,s,o,c){for(let u=0;u<c;u++){let d=0;for(let h=0;h<8;h++)this.get(r)&&(d|=1<<7-h),r++;s[o+u]=d}}getBitArray(){return this.bits}reverse(){const r=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),o=s+1,c=this.bits;for(let u=0;u<o;u++){let d=c[u];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,r[s-u]=d}if(this.size!==o*32){const u=o*32-this.size;let d=r[0]>>>u;for(let h=1;h<o;h++){const m=r[h];d|=m<<32-u,r[h-1]=d,d=m>>>u}r[o-1]=d}this.bits=r}static makeArray(r){return new Int32Array(Math.floor((r+31)/32))}equals(r){if(!(r instanceof L))return!1;const s=r;return this.size===s.size&&S.equals(this.bits,s.bits)}hashCode(){return 31*this.size+S.hashCode(this.bits)}toString(){let r="";for(let s=0,o=this.size;s<o;s++)s&7||(r+=" "),r+=this.get(s)?"X":".";return r}clone(){return new L(this.size,this.bits.slice())}}var z;(function(A){A[A.OTHER=0]="OTHER",A[A.PURE_BARCODE=1]="PURE_BARCODE",A[A.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",A[A.TRY_HARDER=3]="TRY_HARDER",A[A.CHARACTER_SET=4]="CHARACTER_SET",A[A.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",A[A.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",A[A.ASSUME_GS1=7]="ASSUME_GS1",A[A.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",A[A.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",A[A.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(z||(z={}));var G=z;class U extends p{static getFormatInstance(){return new U}}U.kind="FormatException";var q;(function(A){A[A.Cp437=0]="Cp437",A[A.ISO8859_1=1]="ISO8859_1",A[A.ISO8859_2=2]="ISO8859_2",A[A.ISO8859_3=3]="ISO8859_3",A[A.ISO8859_4=4]="ISO8859_4",A[A.ISO8859_5=5]="ISO8859_5",A[A.ISO8859_6=6]="ISO8859_6",A[A.ISO8859_7=7]="ISO8859_7",A[A.ISO8859_8=8]="ISO8859_8",A[A.ISO8859_9=9]="ISO8859_9",A[A.ISO8859_10=10]="ISO8859_10",A[A.ISO8859_11=11]="ISO8859_11",A[A.ISO8859_13=12]="ISO8859_13",A[A.ISO8859_14=13]="ISO8859_14",A[A.ISO8859_15=14]="ISO8859_15",A[A.ISO8859_16=15]="ISO8859_16",A[A.SJIS=16]="SJIS",A[A.Cp1250=17]="Cp1250",A[A.Cp1251=18]="Cp1251",A[A.Cp1252=19]="Cp1252",A[A.Cp1256=20]="Cp1256",A[A.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",A[A.UTF8=22]="UTF8",A[A.ASCII=23]="ASCII",A[A.Big5=24]="Big5",A[A.GB18030=25]="GB18030",A[A.EUC_KR=26]="EUC_KR"})(q||(q={}));class ${constructor(r,s,o,...c){this.valueIdentifier=r,this.name=o,typeof s=="number"?this.values=Int32Array.from([s]):this.values=s,this.otherEncodingNames=c,$.VALUE_IDENTIFIER_TO_ECI.set(r,this),$.NAME_TO_ECI.set(o,this);const u=this.values;for(let d=0,h=u.length;d!==h;d++){const m=u[d];$.VALUES_TO_ECI.set(m,this)}for(const d of c)$.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(r){if(r<0||r>=900)throw new U("incorect value");const s=$.VALUES_TO_ECI.get(r);if(s===void 0)throw new U("incorect value");return s}static getCharacterSetECIByName(r){const s=$.NAME_TO_ECI.get(r);if(s===void 0)throw new U("incorect value");return s}equals(r){if(!(r instanceof $))return!1;const s=r;return this.getName()===s.getName()}}$.VALUE_IDENTIFIER_TO_ECI=new Map,$.VALUES_TO_ECI=new Map,$.NAME_TO_ECI=new Map,$.Cp437=new $(q.Cp437,Int32Array.from([0,2]),"Cp437"),$.ISO8859_1=new $(q.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),$.ISO8859_2=new $(q.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),$.ISO8859_3=new $(q.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),$.ISO8859_4=new $(q.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),$.ISO8859_5=new $(q.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),$.ISO8859_6=new $(q.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),$.ISO8859_7=new $(q.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),$.ISO8859_8=new $(q.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),$.ISO8859_9=new $(q.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),$.ISO8859_10=new $(q.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),$.ISO8859_11=new $(q.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),$.ISO8859_13=new $(q.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),$.ISO8859_14=new $(q.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),$.ISO8859_15=new $(q.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),$.ISO8859_16=new $(q.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),$.SJIS=new $(q.SJIS,20,"SJIS","Shift_JIS"),$.Cp1250=new $(q.Cp1250,21,"Cp1250","windows-1250"),$.Cp1251=new $(q.Cp1251,22,"Cp1251","windows-1251"),$.Cp1252=new $(q.Cp1252,23,"Cp1252","windows-1252"),$.Cp1256=new $(q.Cp1256,24,"Cp1256","windows-1256"),$.UnicodeBigUnmarked=new $(q.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),$.UTF8=new $(q.UTF8,26,"UTF8","UTF-8"),$.ASCII=new $(q.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),$.Big5=new $(q.Big5,28,"Big5"),$.GB18030=new $(q.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),$.EUC_KR=new $(q.EUC_KR,30,"EUC_KR","EUC-KR");class ue extends p{}ue.kind="UnsupportedOperationException";class ve{static decode(r,s){const o=this.encodingName(s);return this.customDecoder?this.customDecoder(r,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(r,o):new TextDecoder(o).decode(r)}static shouldDecodeOnFallback(r){return!ve.isBrowser()&&r==="ISO-8859-1"}static encode(r,s){const o=this.encodingName(s);return this.customEncoder?this.customEncoder(r,o):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(r){return typeof r=="string"?r:r.getName()}static encodingCharacterSet(r){return r instanceof $?r:$.getCharacterSetECIByName(r)}static decodeFallback(r,s){const o=this.encodingCharacterSet(s);if(ve.isDecodeFallbackSupported(o)){let c="";for(let u=0,d=r.length;u<d;u++){let h=r[u].toString(16);h.length<2&&(h="0"+h),c+="%"+h}return decodeURIComponent(c)}if(o.equals($.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new ue(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(r){return r.equals($.UTF8)||r.equals($.ISO8859_1)||r.equals($.ASCII)}static encodeFallback(r){const o=btoa(unescape(encodeURIComponent(r))).split(""),c=[];for(let u=0;u<o.length;u++)c.push(o[u].charCodeAt(0));return new Uint8Array(c)}}class Q{static castAsNonUtf8Char(r,s=null){const o=s?s.getName():this.ISO88591;return ve.decode(new Uint8Array([r]),o)}static guessEncoding(r,s){if(s!=null&&s.get(G.CHARACTER_SET)!==void 0)return s.get(G.CHARACTER_SET).toString();const o=r.length;let c=!0,u=!0,d=!0,h=0,m=0,w=0,C=0,b=0,T=0,P=0,F=0,j=0,V=0,Y=0;const ne=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191;for(let ie=0;ie<o&&(c||u||d);ie++){const ee=r[ie]&255;d&&(h>0?ee&128?h--:d=!1:ee&128&&(ee&64?(h++,ee&32?(h++,ee&16?(h++,ee&8?d=!1:C++):w++):m++):d=!1)),c&&(ee>127&&ee<160?c=!1:ee>159&&(ee<192||ee===215||ee===247)&&Y++),u&&(b>0?ee<64||ee===127||ee>252?u=!1:b--:ee===128||ee===160||ee>239?u=!1:ee>160&&ee<224?(T++,F=0,P++,P>j&&(j=P)):ee>127?(b++,P=0,F++,F>V&&(V=F)):(P=0,F=0))}return d&&h>0&&(d=!1),u&&b>0&&(u=!1),d&&(ne||m+w+C>0)?Q.UTF8:u&&(Q.ASSUME_SHIFT_JIS||j>=3||V>=3)?Q.SHIFT_JIS:c&&u?j===2&&T===2||Y*10>=o?Q.SHIFT_JIS:Q.ISO88591:c?Q.ISO88591:u?Q.SHIFT_JIS:d?Q.UTF8:Q.PLATFORM_DEFAULT_ENCODING}static format(r,...s){let o=-1;function c(d,h,m,w,C,b){if(d==="%%")return"%";if(s[++o]===void 0)return;d=w?parseInt(w.substr(1)):void 0;let T=C?parseInt(C.substr(1)):void 0,P;switch(b){case"s":P=s[o];break;case"c":P=s[o][0];break;case"f":P=parseFloat(s[o]).toFixed(d);break;case"p":P=parseFloat(s[o]).toPrecision(d);break;case"e":P=parseFloat(s[o]).toExponential(d);break;case"x":P=parseInt(s[o]).toString(T||16);break;case"d":P=parseFloat(parseInt(s[o],T||10).toPrecision(d)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(T);let F=parseInt(m),j=m&&m[0]+""=="0"?"0":" ";for(;P.length<F;)P=h!==void 0?P+j:j+P;return P}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(u,c)}static getBytes(r,s){return ve.encode(r,s)}static getCharCode(r,s=0){return r.charCodeAt(s)}static getCharAt(r){return String.fromCharCode(r)}}Q.SHIFT_JIS=$.SJIS.getName(),Q.GB2312="GB2312",Q.ISO88591=$.ISO8859_1.getName(),Q.EUC_JP="EUC_JP",Q.UTF8=$.UTF8.getName(),Q.PLATFORM_DEFAULT_ENCODING=Q.UTF8,Q.ASSUME_SHIFT_JIS=!1;class de{constructor(r=""){this.value=r}enableDecoding(r){return this.encoding=r,this}append(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=Q.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this}appendChars(r,s,o){for(let c=s;s<s+o;c++)this.append(r[c]);return this}length(){return this.value.length}charAt(r){return this.value.charAt(r)}deleteCharAt(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)}setCharAt(r,s){this.value=this.value.substr(0,r)+s+this.value.substr(r+1)}substring(r,s){return this.value.substring(r,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(r,s){this.value=this.value.substr(0,r)+s+this.value.substr(r+s.length)}}class se{constructor(r,s,o,c){if(this.width=r,this.height=s,this.rowSize=o,this.bits=c,s==null&&(s=r),this.height=s,r<1||s<1)throw new v("Both dimensions must be greater than 0");o==null&&(o=Math.floor((r+31)/32)),this.rowSize=o,c==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(r){const s=r.length,o=r[0].length,c=new se(o,s);for(let u=0;u<s;u++){const d=r[u];for(let h=0;h<o;h++)d[h]&&c.set(h,u)}return c}static parseFromString(r,s,o){if(r===null)throw new v("stringRepresentation cannot be null");const c=new Array(r.length);let u=0,d=0,h=-1,m=0,w=0;for(;w<r.length;)if(r.charAt(w)===`
`||r.charAt(w)==="\r"){if(u>d){if(h===-1)h=u-d;else if(u-d!==h)throw new v("row lengths do not match");d=u,m++}w++}else if(r.substring(w,w+s.length)===s)w+=s.length,c[u]=!0,u++;else if(r.substring(w,w+o.length)===o)w+=o.length,c[u]=!1,u++;else throw new v("illegal character encountered: "+r.substring(w));if(u>d){if(h===-1)h=u-d;else if(u-d!==h)throw new v("row lengths do not match");m++}const C=new se(h,m);for(let b=0;b<u;b++)c[b]&&C.set(Math.floor(b%h),Math.floor(b/h));return C}get(r,s){const o=s*this.rowSize+Math.floor(r/32);return(this.bits[o]>>>(r&31)&1)!==0}set(r,s){const o=s*this.rowSize+Math.floor(r/32);this.bits[o]|=1<<(r&31)&4294967295}unset(r,s){const o=s*this.rowSize+Math.floor(r/32);this.bits[o]&=~(1<<(r&31)&4294967295)}flip(r,s){const o=s*this.rowSize+Math.floor(r/32);this.bits[o]^=1<<(r&31)&4294967295}xor(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new v("input matrix dimensions do not match");const s=new L(Math.floor(this.width/32)+1),o=this.rowSize,c=this.bits;for(let u=0,d=this.height;u<d;u++){const h=u*o,m=r.getRow(u,s).getBitArray();for(let w=0;w<o;w++)c[h+w]^=m[w]}}clear(){const r=this.bits,s=r.length;for(let o=0;o<s;o++)r[o]=0}setRegion(r,s,o,c){if(s<0||r<0)throw new v("Left and top must be nonnegative");if(c<1||o<1)throw new v("Height and width must be at least 1");const u=r+o,d=s+c;if(d>this.height||u>this.width)throw new v("The region must fit inside the matrix");const h=this.rowSize,m=this.bits;for(let w=s;w<d;w++){const C=w*h;for(let b=r;b<u;b++)m[C+Math.floor(b/32)]|=1<<(b&31)&4294967295}}getRow(r,s){s==null||s.getSize()<this.width?s=new L(this.width):s.clear();const o=this.rowSize,c=this.bits,u=r*o;for(let d=0;d<o;d++)s.setBulk(d*32,c[u+d]);return s}setRow(r,s){N.arraycopy(s.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)}rotate180(){const r=this.getWidth(),s=this.getHeight();let o=new L(r),c=new L(r);for(let u=0,d=Math.floor((s+1)/2);u<d;u++)o=this.getRow(u,o),c=this.getRow(s-1-u,c),o.reverse(),c.reverse(),this.setRow(u,c),this.setRow(s-1-u,o)}getEnclosingRectangle(){const r=this.width,s=this.height,o=this.rowSize,c=this.bits;let u=r,d=s,h=-1,m=-1;for(let w=0;w<s;w++)for(let C=0;C<o;C++){const b=c[w*o+C];if(b!==0){if(w<d&&(d=w),w>m&&(m=w),C*32<u){let T=0;for(;!(b<<31-T&4294967295);)T++;C*32+T<u&&(u=C*32+T)}if(C*32+31>h){let T=31;for(;!(b>>>T);)T--;C*32+T>h&&(h=C*32+T)}}}return h<u||m<d?null:Int32Array.from([u,d,h-u+1,m-d+1])}getTopLeftOnBit(){const r=this.rowSize,s=this.bits;let o=0;for(;o<s.length&&s[o]===0;)o++;if(o===s.length)return null;const c=o/r;let u=o%r*32;const d=s[o];let h=0;for(;!(d<<31-h&4294967295);)h++;return u+=h,Int32Array.from([u,c])}getBottomRightOnBit(){const r=this.rowSize,s=this.bits;let o=s.length-1;for(;o>=0&&s[o]===0;)o--;if(o<0)return null;const c=Math.floor(o/r);let u=Math.floor(o%r)*32;const d=s[o];let h=31;for(;!(d>>>h);)h--;return u+=h,Int32Array.from([u,c])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(r){if(!(r instanceof se))return!1;const s=r;return this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&S.equals(this.bits,s.bits)}hashCode(){let r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+S.hashCode(this.bits),r}toString(r="X ",s="  ",o=`
`){return this.buildToString(r,s,o)}buildToString(r,s,o){let c=new de;for(let u=0,d=this.height;u<d;u++){for(let h=0,m=this.width;h<m;h++)c.append(this.get(h,u)?r:s);c.append(o)}return c.toString()}clone(){return new se(this.width,this.height,this.rowSize,this.bits.slice())}}class H extends p{static getNotFoundInstance(){return new H}}H.kind="NotFoundException";class me extends O{constructor(r){super(r),this.luminances=me.EMPTY,this.buckets=new Int32Array(me.LUMINANCE_BUCKETS)}getBlackRow(r,s){const o=this.getLuminanceSource(),c=o.getWidth();s==null||s.getSize()<c?s=new L(c):s.clear(),this.initArrays(c);const u=o.getRow(r,this.luminances),d=this.buckets;for(let m=0;m<c;m++)d[(u[m]&255)>>me.LUMINANCE_SHIFT]++;const h=me.estimateBlackPoint(d);if(c<3)for(let m=0;m<c;m++)(u[m]&255)<h&&s.set(m);else{let m=u[0]&255,w=u[1]&255;for(let C=1;C<c-1;C++){const b=u[C+1]&255;(w*4-m-b)/2<h&&s.set(C),m=w,w=b}}return s}getBlackMatrix(){const r=this.getLuminanceSource(),s=r.getWidth(),o=r.getHeight(),c=new se(s,o);this.initArrays(s);const u=this.buckets;for(let m=1;m<5;m++){const w=Math.floor(o*m/5),C=r.getRow(w,this.luminances),b=Math.floor(s*4/5);for(let T=Math.floor(s/5);T<b;T++){const P=C[T]&255;u[P>>me.LUMINANCE_SHIFT]++}}const d=me.estimateBlackPoint(u),h=r.getMatrix();for(let m=0;m<o;m++){const w=m*s;for(let C=0;C<s;C++)(h[w+C]&255)<d&&c.set(C,m)}return c}createBinarizer(r){return new me(r)}initArrays(r){this.luminances.length<r&&(this.luminances=new Uint8ClampedArray(r));const s=this.buckets;for(let o=0;o<me.LUMINANCE_BUCKETS;o++)s[o]=0}static estimateBlackPoint(r){const s=r.length;let o=0,c=0,u=0;for(let C=0;C<s;C++)r[C]>u&&(c=C,u=r[C]),r[C]>o&&(o=r[C]);let d=0,h=0;for(let C=0;C<s;C++){const b=C-c,T=r[C]*b*b;T>h&&(d=C,h=T)}if(c>d){const C=c;c=d,d=C}if(d-c<=s/16)throw new H;let m=d-1,w=-1;for(let C=d-1;C>c;C--){const b=C-c,T=b*b*(d-C)*(o-r[C]);T>w&&(m=C,w=T)}return m<<me.LUMINANCE_SHIFT}}me.LUMINANCE_BITS=5,me.LUMINANCE_SHIFT=8-me.LUMINANCE_BITS,me.LUMINANCE_BUCKETS=1<<me.LUMINANCE_BITS,me.EMPTY=Uint8ClampedArray.from([0]);class ce extends me{constructor(r){super(r),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const r=this.getLuminanceSource(),s=r.getWidth(),o=r.getHeight();if(s>=ce.MINIMUM_DIMENSION&&o>=ce.MINIMUM_DIMENSION){const c=r.getMatrix();let u=s>>ce.BLOCK_SIZE_POWER;s&ce.BLOCK_SIZE_MASK&&u++;let d=o>>ce.BLOCK_SIZE_POWER;o&ce.BLOCK_SIZE_MASK&&d++;const h=ce.calculateBlackPoints(c,u,d,s,o),m=new se(s,o);ce.calculateThresholdForBlock(c,u,d,s,o,h,m),this.matrix=m}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(r){return new ce(r)}static calculateThresholdForBlock(r,s,o,c,u,d,h){const m=u-ce.BLOCK_SIZE,w=c-ce.BLOCK_SIZE;for(let C=0;C<o;C++){let b=C<<ce.BLOCK_SIZE_POWER;b>m&&(b=m);const T=ce.cap(C,2,o-3);for(let P=0;P<s;P++){let F=P<<ce.BLOCK_SIZE_POWER;F>w&&(F=w);const j=ce.cap(P,2,s-3);let V=0;for(let ne=-2;ne<=2;ne++){const ie=d[T+ne];V+=ie[j-2]+ie[j-1]+ie[j]+ie[j+1]+ie[j+2]}const Y=V/25;ce.thresholdBlock(r,F,b,Y,c,h)}}}static cap(r,s,o){return r<s?s:r>o?o:r}static thresholdBlock(r,s,o,c,u,d){for(let h=0,m=o*u+s;h<ce.BLOCK_SIZE;h++,m+=u)for(let w=0;w<ce.BLOCK_SIZE;w++)(r[m+w]&255)<=c&&d.set(s+w,o+h)}static calculateBlackPoints(r,s,o,c,u){const d=u-ce.BLOCK_SIZE,h=c-ce.BLOCK_SIZE,m=new Array(o);for(let w=0;w<o;w++){m[w]=new Int32Array(s);let C=w<<ce.BLOCK_SIZE_POWER;C>d&&(C=d);for(let b=0;b<s;b++){let T=b<<ce.BLOCK_SIZE_POWER;T>h&&(T=h);let P=0,F=255,j=0;for(let Y=0,ne=C*c+T;Y<ce.BLOCK_SIZE;Y++,ne+=c){for(let ie=0;ie<ce.BLOCK_SIZE;ie++){const ee=r[ne+ie]&255;P+=ee,ee<F&&(F=ee),ee>j&&(j=ee)}if(j-F>ce.MIN_DYNAMIC_RANGE)for(Y++,ne+=c;Y<ce.BLOCK_SIZE;Y++,ne+=c)for(let ie=0;ie<ce.BLOCK_SIZE;ie++)P+=r[ne+ie]&255}let V=P>>ce.BLOCK_SIZE_POWER*2;if(j-F<=ce.MIN_DYNAMIC_RANGE&&(V=F/2,w>0&&b>0)){const Y=(m[w-1][b]+2*m[w][b-1]+m[w-1][b-1])/4;F<Y&&(V=Y)}m[w][b]=V}}return m}}ce.BLOCK_SIZE_POWER=3,ce.BLOCK_SIZE=1<<ce.BLOCK_SIZE_POWER,ce.BLOCK_SIZE_MASK=ce.BLOCK_SIZE-1,ce.MINIMUM_DIMENSION=ce.BLOCK_SIZE*5,ce.MIN_DYNAMIC_RANGE=24;class K{constructor(r,s){this.width=r,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(r,s,o,c){throw new ue("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ue("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ue("This luminance source does not support rotation by 45 degrees.")}toString(){const r=new Uint8ClampedArray(this.width);let s=new de;for(let o=0;o<this.height;o++){const c=this.getRow(o,r);for(let u=0;u<this.width;u++){const d=c[u]&255;let h;d<64?h="#":d<128?h="+":d<192?h=".":h=" ",s.append(h)}s.append(`
`)}return s.toString()}}class re extends K{constructor(r){super(r.getWidth(),r.getHeight()),this.delegate=r}getRow(r,s){const o=this.delegate.getRow(r,s),c=this.getWidth();for(let u=0;u<c;u++)o[u]=255-(o[u]&255);return o}getMatrix(){const r=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(s);for(let c=0;c<s;c++)o[c]=255-(r[c]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(r,s,o,c){return new re(this.delegate.crop(r,s,o,c))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new re(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new re(this.delegate.rotateCounterClockwise45())}}class he extends K{constructor(r){super(r.width,r.height),this.canvas=r,this.tempCanvasElement=null,this.buffer=he.makeBufferFromCanvasImageData(r)}static makeBufferFromCanvasImageData(r){const s=r.getContext("2d").getImageData(0,0,r.width,r.height);return he.toGrayscaleBuffer(s.data,r.width,r.height)}static toGrayscaleBuffer(r,s,o){const c=new Uint8ClampedArray(s*o);for(let u=0,d=0,h=r.length;u<h;u+=4,d++){let m;if(r[u+3]===0)m=255;else{const C=r[u],b=r[u+1],T=r[u+2];m=306*C+601*b+117*T+512>>10}c[d]=m}return c}getRow(r,s){if(r<0||r>=this.getHeight())throw new v("Requested row is outside the image: "+r);const o=this.getWidth(),c=r*o;return s===null?s=this.buffer.slice(c,c+o):(s.length<o&&(s=new Uint8ClampedArray(o)),s.set(this.buffer.slice(c,c+o))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(r,s,o,c){return super.crop(r,s,o,c),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const r=this.canvas.ownerDocument.createElement("canvas");r.width=this.canvas.width,r.height=this.canvas.height,this.tempCanvasElement=r}return this.tempCanvasElement}rotate(r){const s=this.getTempCanvasElement(),o=s.getContext("2d"),c=r*he.DEGREE_TO_RADIANS,u=this.canvas.width,d=this.canvas.height,h=Math.ceil(Math.abs(Math.cos(c))*u+Math.abs(Math.sin(c))*d),m=Math.ceil(Math.abs(Math.sin(c))*u+Math.abs(Math.cos(c))*d);return s.width=h,s.height=m,o.translate(h/2,m/2),o.rotate(c),o.drawImage(this.canvas,u/-2,d/-2),this.buffer=he.makeBufferFromCanvasImageData(s),this}invert(){return new re(this)}}he.DEGREE_TO_RADIANS=Math.PI/180;class fe{constructor(r,s,o){this.deviceId=r,this.label=s,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var xe=(globalThis||Xt||self||window||void 0)&&(globalThis||Xt||self||window||void 0).__awaiter||function(A,r,s,o){function c(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function h(C){try{w(o.next(C))}catch(b){d(b)}}function m(C){try{w(o.throw(C))}catch(b){d(b)}}function w(C){C.done?u(C.value):c(C.value).then(h,m)}w((o=o.apply(A,r||[])).next())})};class Te{constructor(r,s=500,o){this.reader=r,this.timeBetweenScansMillis=s,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(r){this._timeBetweenDecodingAttempts=r<0?0:r}set hints(r){this._hints=r||null}get hints(){return this._hints}listVideoInputDevices(){return xe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const r=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const o of r){const c=o.kind==="video"?"videoinput":o.kind;if(c!=="videoinput")continue;const u=o.deviceId||o.id,d=o.label||`Video device ${s.length+1}`,h=o.groupId,m={deviceId:u,label:d,kind:c,groupId:h};s.push(m)}return s})}getVideoInputDevices(){return xe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new fe(s.deviceId,s.label))})}findDeviceById(r){return xe(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(o=>o.deviceId===r):null})}decodeFromInputVideoDevice(r,s){return xe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(r,s)})}decodeOnceFromVideoDevice(r,s){return xe(this,void 0,void 0,function*(){this.reset();let o;r?o={deviceId:{exact:r}}:o={facingMode:"environment"};const c={video:o};return yield this.decodeOnceFromConstraints(c,s)})}decodeOnceFromConstraints(r,s){return xe(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeOnceFromStream(o,s)})}decodeOnceFromStream(r,s){return xe(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(r,s);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(r,s,o){return xe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(r,s,o)})}decodeFromVideoDevice(r,s,o){return xe(this,void 0,void 0,function*(){let c;r?c={deviceId:{exact:r}}:c={facingMode:"environment"};const u={video:c};return yield this.decodeFromConstraints(u,s,o)})}decodeFromConstraints(r,s,o){return xe(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(r);return yield this.decodeFromStream(c,s,o)})}decodeFromStream(r,s,o){return xe(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(r,s);return yield this.decodeContinuously(c,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(r,s){return xe(this,void 0,void 0,function*(){const o=this.prepareVideoElement(s);return this.addVideoSource(o,r),this.videoElement=o,this.stream=r,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(r){return new Promise((s,o)=>this.playVideoOnLoad(r,()=>s()))}playVideoOnLoad(r,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(r),r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",s),this.tryPlayVideo(r)}isVideoPlaying(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2}tryPlayVideo(r){return xe(this,void 0,void 0,function*(){if(this.isVideoPlaying(r)){console.warn("Trying to play video that is already playing.");return}try{yield r.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(r,s){const o=document.getElementById(r);if(!o)throw new y(`element with id '${r}' not found`);if(o.nodeName.toLowerCase()!==s.toLowerCase())throw new y(`element with id '${r}' must be an ${s} element`);return o}decodeFromImage(r,s){if(!r&&!s)throw new y("either imageElement with a src set or an url must be provided");return s&&!r?this.decodeFromImageUrl(s):this.decodeFromImageElement(r)}decodeFromVideo(r,s){if(!r&&!s)throw new y("Either an element with a src set or an URL must be provided");return s&&!r?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(r)}decodeFromVideoContinuously(r,s,o){if(r===void 0&&s===void 0)throw new y("Either an element with a src set or an URL must be provided");return s&&!r?this.decodeFromVideoUrlContinuously(s,o):this.decodeFromVideoElementContinuously(r,o)}decodeFromImageElement(r){if(!r)throw new y("An image element must be provided.");this.reset();const s=this.prepareImageElement(r);this.imageElement=s;let o;return this.isImageLoaded(s)?o=this.decodeOnce(s,!1,!0):o=this._decodeOnLoadImage(s),o}decodeFromVideoElement(r){const s=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(r,s){const o=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(o,s)}_decodeFromVideoElementSetup(r){if(!r)throw new y("A video element must be provided.");this.reset();const s=this.prepareVideoElement(r);return this.videoElement=s,s}decodeFromImageUrl(r){if(!r)throw new y("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const o=this._decodeOnLoadImage(s);return s.src=r,o}decodeFromVideoUrl(r){if(!r)throw new y("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),o=this.decodeFromVideoElement(s);return s.src=r,o}decodeFromVideoUrlContinuously(r,s){if(!r)throw new y("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),c=this.decodeFromVideoElementContinuously(o,s);return o.src=r,c}_decodeOnLoadImage(r){return new Promise((s,o)=>{this.imageLoadedListener=()=>this.decodeOnce(r,!1,!0).then(s,o),r.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(r){return xe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(r),yield this.decodeOnce(r)})}_decodeOnLoadVideoContinuously(r,s){return xe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(r),this.decodeContinuously(r,s)})}isImageLoaded(r){return!(!r.complete||r.naturalWidth===0)}prepareImageElement(r){let s;return typeof r>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),typeof r=="string"&&(s=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(s=r),s}prepareVideoElement(r){let s;return!r&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),typeof r=="string"&&(s=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(s=r),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(r,s=!0,o=!0){this._stopAsyncDecode=!1;const c=(u,d)=>{if(this._stopAsyncDecode){d(new H("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const h=this.decode(r);u(h)}catch(h){const m=s&&h instanceof H,C=(h instanceof _||h instanceof U)&&o;if(m||C)return setTimeout(c,this._timeBetweenDecodingAttempts,u,d);d(h)}};return new Promise((u,d)=>c(u,d))}decodeContinuously(r,s){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const c=this.decode(r);s(c,null),setTimeout(o,this.timeBetweenScansMillis)}catch(c){s(null,c);const u=c instanceof _||c instanceof U,d=c instanceof H;(u||d)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(r){const s=this.createBinaryBitmap(r);return this.decodeBitmap(s)}_isHTMLVideoElement(r){return r.videoWidth!==0}drawFrameOnCanvas(r,s,o){s||(s={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(r,s,o=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(r,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(r){this.getCaptureCanvasContext(r),this._isHTMLVideoElement(r)?this.drawFrameOnCanvas(r):this.drawImageOnCanvas(r);const s=this.getCaptureCanvas(r),o=new he(s),c=new ce(o);return new E(c)}getCaptureCanvasContext(r){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(r).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(r){if(!this.captureCanvas){const s=this.createCaptureCanvas(r);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(r){return this.reader.decode(r,this._hints)}createCaptureCanvas(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let o,c;return typeof r<"u"&&(r instanceof HTMLVideoElement?(o=r.videoWidth,c=r.videoHeight):r instanceof HTMLImageElement&&(o=r.naturalWidth||r.width,c=r.naturalHeight||r.height)),s.style.width=o+"px",s.style.height=c+"px",s.width=o,s.height=c,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(r=>r.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(r,s){try{r.srcObject=s}catch{r.src=URL.createObjectURL(s)}}cleanVideoSource(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")}}class De{constructor(r,s,o=s==null?0:8*s.length,c,u,d=N.currentTimeMillis()){this.text=r,this.rawBytes=s,this.numBits=o,this.resultPoints=c,this.format=u,this.timestamp=d,this.text=r,this.rawBytes=s,o==null?this.numBits=s==null?0:8*s.length:this.numBits=o,this.resultPoints=c,this.format=u,this.resultMetadata=null,d==null?this.timestamp=N.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(r,s){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,s)}putAllMetadata(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))}addResultPoints(r){const s=this.resultPoints;if(s===null)this.resultPoints=r;else if(r!==null&&r.length>0){const o=new Array(s.length+r.length);N.arraycopy(s,0,o,0,s.length),N.arraycopy(r,0,o,s.length,r.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var zt;(function(A){A[A.AZTEC=0]="AZTEC",A[A.CODABAR=1]="CODABAR",A[A.CODE_39=2]="CODE_39",A[A.CODE_93=3]="CODE_93",A[A.CODE_128=4]="CODE_128",A[A.DATA_MATRIX=5]="DATA_MATRIX",A[A.EAN_8=6]="EAN_8",A[A.EAN_13=7]="EAN_13",A[A.ITF=8]="ITF",A[A.MAXICODE=9]="MAXICODE",A[A.PDF_417=10]="PDF_417",A[A.QR_CODE=11]="QR_CODE",A[A.RSS_14=12]="RSS_14",A[A.RSS_EXPANDED=13]="RSS_EXPANDED",A[A.UPC_A=14]="UPC_A",A[A.UPC_E=15]="UPC_E",A[A.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(zt||(zt={}));var le=zt,on;(function(A){A[A.OTHER=0]="OTHER",A[A.ORIENTATION=1]="ORIENTATION",A[A.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",A[A.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",A[A.ISSUE_NUMBER=4]="ISSUE_NUMBER",A[A.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",A[A.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",A[A.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",A[A.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",A[A.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",A[A.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(on||(on={}));var Qe=on;class mn{constructor(r,s,o,c,u=-1,d=-1){this.rawBytes=r,this.text=s,this.byteSegments=o,this.ecLevel=c,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=d,this.numBits=r==null?0:8*r.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(r){this.numBits=r}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(r){this.errorsCorrected=r}getErasures(){return this.erasures}setErasures(r){this.erasures=r}getOther(){return this.other}setOther(r){this.other=r}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class xn{exp(r){return this.expTable[r]}log(r){if(r===0)throw new v;return this.logTable[r]}static addOrSubtract(r,s){return r^s}}class Nt{constructor(r,s){if(s.length===0)throw new v;this.field=r;const o=s.length;if(o>1&&s[0]===0){let c=1;for(;c<o&&s[c]===0;)c++;c===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-c),N.arraycopy(s,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);const s=this.coefficients;let o;if(r===1){o=0;for(let d=0,h=s.length;d!==h;d++){const m=s[d];o=xn.addOrSubtract(o,m)}return o}o=s[0];const c=s.length,u=this.field;for(let d=1;d<c;d++)o=xn.addOrSubtract(u.multiply(r,o),s[d]);return o}addOrSubtract(r){if(!this.field.equals(r.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;let s=this.coefficients,o=r.coefficients;if(s.length>o.length){const d=s;s=o,o=d}let c=new Int32Array(o.length);const u=o.length-s.length;N.arraycopy(o,0,c,0,u);for(let d=u;d<o.length;d++)c[d]=xn.addOrSubtract(s[d-u],o[d]);return new Nt(this.field,c)}multiply(r){if(!this.field.equals(r.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();const s=this.coefficients,o=s.length,c=r.coefficients,u=c.length,d=new Int32Array(o+u-1),h=this.field;for(let m=0;m<o;m++){const w=s[m];for(let C=0;C<u;C++)d[m+C]=xn.addOrSubtract(d[m+C],h.multiply(w,c[C]))}return new Nt(h,d)}multiplyScalar(r){if(r===0)return this.field.getZero();if(r===1)return this;const s=this.coefficients.length,o=this.field,c=new Int32Array(s),u=this.coefficients;for(let d=0;d<s;d++)c[d]=o.multiply(u[d],r);return new Nt(o,c)}multiplyByMonomial(r,s){if(r<0)throw new v;if(s===0)return this.field.getZero();const o=this.coefficients,c=o.length,u=new Int32Array(c+r),d=this.field;for(let h=0;h<c;h++)u[h]=d.multiply(o[h],s);return new Nt(d,u)}divide(r){if(!this.field.equals(r.field))throw new v("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new v("Divide by 0");const s=this.field;let o=s.getZero(),c=this;const u=r.getCoefficient(r.getDegree()),d=s.inverse(u);for(;c.getDegree()>=r.getDegree()&&!c.isZero();){const h=c.getDegree()-r.getDegree(),m=s.multiply(c.getCoefficient(c.getDegree()),d),w=r.multiplyByMonomial(h,m),C=s.buildMonomial(h,m);o=o.addOrSubtract(C),c=c.addOrSubtract(w)}return[o,c]}toString(){let r="";for(let s=this.getDegree();s>=0;s--){let o=this.getCoefficient(s);if(o!==0){if(o<0?(r+=" - ",o=-o):r.length>0&&(r+=" + "),s===0||o!==1){const c=this.field.log(o);c===0?r+="1":c===1?r+="a":(r+="a^",r+=c)}s!==0&&(s===1?r+="x":(r+="x^",r+=s))}}return r}}class ir extends p{}ir.kind="ArithmeticException";class Me extends xn{constructor(r,s,o){super(),this.primitive=r,this.size=s,this.generatorBase=o;const c=new Int32Array(s);let u=1;for(let h=0;h<s;h++)c[h]=u,u*=2,u>=s&&(u^=r,u&=s-1);this.expTable=c;const d=new Int32Array(s);for(let h=0;h<s-1;h++)d[c[h]]=h;this.logTable=d,this.zero=new Nt(this,Int32Array.from([0])),this.one=new Nt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,s){if(r<0)throw new v;if(s===0)return this.zero;const o=new Int32Array(r+1);return o[0]=s,new Nt(this,o)}inverse(r){if(r===0)throw new ir;return this.expTable[this.size-this.logTable[r]-1]}multiply(r,s){return r===0||s===0?0:this.expTable[(this.logTable[r]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+I.toHexString(this.primitive)+","+this.size+")"}equals(r){return r===this}}Me.AZTEC_DATA_12=new Me(4201,4096,1),Me.AZTEC_DATA_10=new Me(1033,1024,1),Me.AZTEC_DATA_6=new Me(67,64,1),Me.AZTEC_PARAM=new Me(19,16,1),Me.QR_CODE_FIELD_256=new Me(285,256,0),Me.DATA_MATRIX_FIELD_256=new Me(301,256,1),Me.AZTEC_DATA_8=Me.DATA_MATRIX_FIELD_256,Me.MAXICODE_FIELD_64=Me.AZTEC_DATA_6;class $n extends p{}$n.kind="ReedSolomonException";class an extends p{}an.kind="IllegalStateException";class wn{constructor(r){this.field=r}decode(r,s){const o=this.field,c=new Nt(o,r),u=new Int32Array(s);let d=!0;for(let P=0;P<s;P++){const F=c.evaluateAt(o.exp(P+o.getGeneratorBase()));u[u.length-1-P]=F,F!==0&&(d=!1)}if(d)return;const h=new Nt(o,u),m=this.runEuclideanAlgorithm(o.buildMonomial(s,1),h,s),w=m[0],C=m[1],b=this.findErrorLocations(w),T=this.findErrorMagnitudes(C,b);for(let P=0;P<b.length;P++){const F=r.length-1-o.log(b[P]);if(F<0)throw new $n("Bad error location");r[F]=Me.addOrSubtract(r[F],T[P])}}runEuclideanAlgorithm(r,s,o){if(r.getDegree()<s.getDegree()){const P=r;r=s,s=P}const c=this.field;let u=r,d=s,h=c.getZero(),m=c.getOne();for(;d.getDegree()>=(o/2|0);){let P=u,F=h;if(u=d,h=m,u.isZero())throw new $n("r_{i-1} was zero");d=P;let j=c.getZero();const V=u.getCoefficient(u.getDegree()),Y=c.inverse(V);for(;d.getDegree()>=u.getDegree()&&!d.isZero();){const ne=d.getDegree()-u.getDegree(),ie=c.multiply(d.getCoefficient(d.getDegree()),Y);j=j.addOrSubtract(c.buildMonomial(ne,ie)),d=d.addOrSubtract(u.multiplyByMonomial(ne,ie))}if(m=j.multiply(h).addOrSubtract(F),d.getDegree()>=u.getDegree())throw new an("Division algorithm failed to reduce polynomial?")}const w=m.getCoefficient(0);if(w===0)throw new $n("sigmaTilde(0) was zero");const C=c.inverse(w),b=m.multiplyScalar(C),T=d.multiplyScalar(C);return[b,T]}findErrorLocations(r){const s=r.getDegree();if(s===1)return Int32Array.from([r.getCoefficient(1)]);const o=new Int32Array(s);let c=0;const u=this.field;for(let d=1;d<u.getSize()&&c<s;d++)r.evaluateAt(d)===0&&(o[c]=u.inverse(d),c++);if(c!==s)throw new $n("Error locator degree does not match number of roots");return o}findErrorMagnitudes(r,s){const o=s.length,c=new Int32Array(o),u=this.field;for(let d=0;d<o;d++){const h=u.inverse(s[d]);let m=1;for(let w=0;w<o;w++)if(d!==w){const C=u.multiply(s[w],h),b=C&1?C&-2:C|1;m=u.multiply(m,b)}c[d]=u.multiply(r.evaluateAt(h),u.inverse(m)),u.getGeneratorBase()!==0&&(c[d]=u.multiply(c[d],h))}return c}}var bt;(function(A){A[A.UPPER=0]="UPPER",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.DIGIT=3]="DIGIT",A[A.PUNCT=4]="PUNCT",A[A.BINARY=5]="BINARY"})(bt||(bt={}));class Ge{decode(r){this.ddata=r;let s=r.getBits(),o=this.extractBits(s),c=this.correctBits(o),u=Ge.convertBoolArrayToByteArray(c),d=Ge.getEncodedData(c),h=new mn(u,d,null,null);return h.setNumBits(c.length),h}static highLevelDecode(r){return this.getEncodedData(r)}static getEncodedData(r){let s=r.length,o=bt.UPPER,c=bt.UPPER,u="",d=0;for(;d<s;)if(c===bt.BINARY){if(s-d<5)break;let h=Ge.readCode(r,d,5);if(d+=5,h===0){if(s-d<11)break;h=Ge.readCode(r,d,11)+31,d+=11}for(let m=0;m<h;m++){if(s-d<8){d=s;break}const w=Ge.readCode(r,d,8);u+=Q.castAsNonUtf8Char(w),d+=8}c=o}else{let h=c===bt.DIGIT?4:5;if(s-d<h)break;let m=Ge.readCode(r,d,h);d+=h;let w=Ge.getCharacter(c,m);w.startsWith("CTRL_")?(o=c,c=Ge.getTable(w.charAt(5)),w.charAt(6)==="L"&&(o=c)):(u+=w,c=o)}return u}static getTable(r){switch(r){case"L":return bt.LOWER;case"P":return bt.PUNCT;case"M":return bt.MIXED;case"D":return bt.DIGIT;case"B":return bt.BINARY;case"U":default:return bt.UPPER}}static getCharacter(r,s){switch(r){case bt.UPPER:return Ge.UPPER_TABLE[s];case bt.LOWER:return Ge.LOWER_TABLE[s];case bt.MIXED:return Ge.MIXED_TABLE[s];case bt.PUNCT:return Ge.PUNCT_TABLE[s];case bt.DIGIT:return Ge.DIGIT_TABLE[s];default:throw new an("Bad table")}}correctBits(r){let s,o;this.ddata.getNbLayers()<=2?(o=6,s=Me.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,s=Me.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,s=Me.AZTEC_DATA_10):(o=12,s=Me.AZTEC_DATA_12);let c=this.ddata.getNbDatablocks(),u=r.length/o;if(u<c)throw new U;let d=r.length%o,h=new Int32Array(u);for(let T=0;T<u;T++,d+=o)h[T]=Ge.readCode(r,d,o);try{new wn(s).decode(h,u-c)}catch(T){throw new U(T)}let m=(1<<o)-1,w=0;for(let T=0;T<c;T++){let P=h[T];if(P===0||P===m)throw new U;(P===1||P===m-1)&&w++}let C=new Array(c*o-w),b=0;for(let T=0;T<c;T++){let P=h[T];if(P===1||P===m-1)C.fill(P>1,b,b+o-1),b+=o-1;else for(let F=o-1;F>=0;--F)C[b++]=(P&1<<F)!==0}return C}extractBits(r){let s=this.ddata.isCompact(),o=this.ddata.getNbLayers(),c=(s?11:14)+o*4,u=new Int32Array(c),d=new Array(this.totalBitsInLayer(o,s));if(s)for(let h=0;h<u.length;h++)u[h]=h;else{let h=c+1+2*I.truncDivision(I.truncDivision(c,2)-1,15),m=c/2,w=I.truncDivision(h,2);for(let C=0;C<m;C++){let b=C+I.truncDivision(C,15);u[m-C-1]=w-b-1,u[m+C]=w+b+1}}for(let h=0,m=0;h<o;h++){let w=(o-h)*4+(s?9:12),C=h*2,b=c-1-C;for(let T=0;T<w;T++){let P=T*2;for(let F=0;F<2;F++)d[m+P+F]=r.get(u[C+F],u[C+T]),d[m+2*w+P+F]=r.get(u[C+T],u[b-F]),d[m+4*w+P+F]=r.get(u[b-F],u[b-T]),d[m+6*w+P+F]=r.get(u[b-T],u[C+F])}m+=w*8}return d}static readCode(r,s,o){let c=0;for(let u=s;u<s+o;u++)c<<=1,r[u]&&(c|=1);return c}static readByte(r,s){let o=r.length-s;return o>=8?Ge.readCode(r,s,8):Ge.readCode(r,s,o)<<8-o}static convertBoolArrayToByteArray(r){let s=new Uint8Array((r.length+7)/8);for(let o=0;o<s.length;o++)s[o]=Ge.readByte(r,8*o);return s}totalBitsInLayer(r,s){return((s?88:112)+16*r)*r}}Ge.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ge.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ge.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ge.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ge.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ae{constructor(){}static round(r){return r===NaN?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0}static distance(r,s,o,c){const u=r-o,d=s-c;return Math.sqrt(u*u+d*d)}static sum(r){let s=0;for(let o=0,c=r.length;o!==c;o++){const u=r[o];s+=u}return s}}class sr{static floatToIntBits(r){return r}}sr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ye{constructor(r,s){this.x=r,this.y=s}getX(){return this.x}getY(){return this.y}equals(r){if(r instanceof ye){const s=r;return this.x===s.x&&this.y===s.y}return!1}hashCode(){return 31*sr.floatToIntBits(this.x)+sr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(r){const s=this.distance(r[0],r[1]),o=this.distance(r[1],r[2]),c=this.distance(r[0],r[2]);let u,d,h;if(o>=s&&o>=c?(d=r[0],u=r[1],h=r[2]):c>=o&&c>=s?(d=r[1],u=r[0],h=r[2]):(d=r[2],u=r[0],h=r[1]),this.crossProductZ(u,d,h)<0){const m=u;u=h,h=m}r[0]=u,r[1]=d,r[2]=h}static distance(r,s){return Ae.distance(r.x,r.y,s.x,s.y)}static crossProductZ(r,s,o){const c=s.x,u=s.y;return(o.x-c)*(r.y-u)-(o.y-u)*(r.x-c)}}class Ds{constructor(r,s){this.bits=r,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class es extends Ds{constructor(r,s,o,c,u){super(r,s),this.compact=o,this.nbDatablocks=c,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class or{constructor(r,s,o,c){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),s==null&&(s=or.INIT_SIZE),o==null&&(o=r.getWidth()/2|0),c==null&&(c=r.getHeight()/2|0);const u=s/2|0;if(this.leftInit=o-u,this.rightInit=o+u,this.upInit=c-u,this.downInit=c+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new H}detect(){let r=this.leftInit,s=this.rightInit,o=this.upInit,c=this.downInit,u=!1,d=!0,h=!1,m=!1,w=!1,C=!1,b=!1;const T=this.width,P=this.height;for(;d;){d=!1;let F=!0;for(;(F||!m)&&s<T;)F=this.containsBlackPoint(o,c,s,!1),F?(s++,d=!0,m=!0):m||s++;if(s>=T){u=!0;break}let j=!0;for(;(j||!w)&&c<P;)j=this.containsBlackPoint(r,s,c,!0),j?(c++,d=!0,w=!0):w||c++;if(c>=P){u=!0;break}let V=!0;for(;(V||!C)&&r>=0;)V=this.containsBlackPoint(o,c,r,!1),V?(r--,d=!0,C=!0):C||r--;if(r<0){u=!0;break}let Y=!0;for(;(Y||!b)&&o>=0;)Y=this.containsBlackPoint(r,s,o,!0),Y?(o--,d=!0,b=!0):b||o--;if(o<0){u=!0;break}d&&(h=!0)}if(!u&&h){const F=s-r;let j=null;for(let ie=1;j===null&&ie<F;ie++)j=this.getBlackPointOnSegment(r,c-ie,r+ie,c);if(j==null)throw new H;let V=null;for(let ie=1;V===null&&ie<F;ie++)V=this.getBlackPointOnSegment(r,o+ie,r+ie,o);if(V==null)throw new H;let Y=null;for(let ie=1;Y===null&&ie<F;ie++)Y=this.getBlackPointOnSegment(s,o+ie,s-ie,o);if(Y==null)throw new H;let ne=null;for(let ie=1;ne===null&&ie<F;ie++)ne=this.getBlackPointOnSegment(s,c-ie,s-ie,c);if(ne==null)throw new H;return this.centerEdges(ne,j,Y,V)}else throw new H}getBlackPointOnSegment(r,s,o,c){const u=Ae.round(Ae.distance(r,s,o,c)),d=(o-r)/u,h=(c-s)/u,m=this.image;for(let w=0;w<u;w++){const C=Ae.round(r+w*d),b=Ae.round(s+w*h);if(m.get(C,b))return new ye(C,b)}return null}centerEdges(r,s,o,c){const u=r.getX(),d=r.getY(),h=s.getX(),m=s.getY(),w=o.getX(),C=o.getY(),b=c.getX(),T=c.getY(),P=or.CORR;return u<this.width/2?[new ye(b-P,T+P),new ye(h+P,m+P),new ye(w-P,C-P),new ye(u+P,d-P)]:[new ye(b+P,T+P),new ye(h+P,m-P),new ye(w-P,C+P),new ye(u-P,d-P)]}containsBlackPoint(r,s,o,c){const u=this.image;if(c){for(let d=r;d<=s;d++)if(u.get(d,o))return!0}else for(let d=r;d<=s;d++)if(u.get(o,d))return!0;return!1}}or.INIT_SIZE=10,or.CORR=1;class Ms{static checkAndNudgePoints(r,s){const o=r.getWidth(),c=r.getHeight();let u=!0;for(let d=0;d<s.length&&u;d+=2){const h=Math.floor(s[d]),m=Math.floor(s[d+1]);if(h<-1||h>o||m<-1||m>c)throw new H;u=!1,h===-1?(s[d]=0,u=!0):h===o&&(s[d]=o-1,u=!0),m===-1?(s[d+1]=0,u=!0):m===c&&(s[d+1]=c-1,u=!0)}u=!0;for(let d=s.length-2;d>=0&&u;d-=2){const h=Math.floor(s[d]),m=Math.floor(s[d+1]);if(h<-1||h>o||m<-1||m>c)throw new H;u=!1,h===-1?(s[d]=0,u=!0):h===o&&(s[d]=o-1,u=!0),m===-1?(s[d+1]=0,u=!0):m===c&&(s[d+1]=c-1,u=!0)}}}class ln{constructor(r,s,o,c,u,d,h,m,w){this.a11=r,this.a21=s,this.a31=o,this.a12=c,this.a22=u,this.a32=d,this.a13=h,this.a23=m,this.a33=w}static quadrilateralToQuadrilateral(r,s,o,c,u,d,h,m,w,C,b,T,P,F,j,V){const Y=ln.quadrilateralToSquare(r,s,o,c,u,d,h,m);return ln.squareToQuadrilateral(w,C,b,T,P,F,j,V).times(Y)}transformPoints(r){const s=r.length,o=this.a11,c=this.a12,u=this.a13,d=this.a21,h=this.a22,m=this.a23,w=this.a31,C=this.a32,b=this.a33;for(let T=0;T<s;T+=2){const P=r[T],F=r[T+1],j=u*P+m*F+b;r[T]=(o*P+d*F+w)/j,r[T+1]=(c*P+h*F+C)/j}}transformPointsWithValues(r,s){const o=this.a11,c=this.a12,u=this.a13,d=this.a21,h=this.a22,m=this.a23,w=this.a31,C=this.a32,b=this.a33,T=r.length;for(let P=0;P<T;P++){const F=r[P],j=s[P],V=u*F+m*j+b;r[P]=(o*F+d*j+w)/V,s[P]=(c*F+h*j+C)/V}}static squareToQuadrilateral(r,s,o,c,u,d,h,m){const w=r-o+u-h,C=s-c+d-m;if(w===0&&C===0)return new ln(o-r,u-o,r,c-s,d-c,s,0,0,1);{const b=o-u,T=h-u,P=c-d,F=m-d,j=b*F-T*P,V=(w*F-T*C)/j,Y=(b*C-w*P)/j;return new ln(o-r+V*o,h-r+Y*h,r,c-s+V*c,m-s+Y*m,s,V,Y,1)}}static quadrilateralToSquare(r,s,o,c,u,d,h,m){return ln.squareToQuadrilateral(r,s,o,c,u,d,h,m).buildAdjoint()}buildAdjoint(){return new ln(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(r){return new ln(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)}}class Vr extends Ms{sampleGrid(r,s,o,c,u,d,h,m,w,C,b,T,P,F,j,V,Y,ne,ie){const ee=ln.quadrilateralToQuadrilateral(c,u,d,h,m,w,C,b,T,P,F,j,V,Y,ne,ie);return this.sampleGridWithTransform(r,s,o,ee)}sampleGridWithTransform(r,s,o,c){if(s<=0||o<=0)throw new H;const u=new se(s,o),d=new Float32Array(2*s);for(let h=0;h<o;h++){const m=d.length,w=h+.5;for(let C=0;C<m;C+=2)d[C]=C/2+.5,d[C+1]=w;c.transformPoints(d),Ms.checkAndNudgePoints(r,d);try{for(let C=0;C<m;C+=2)r.get(Math.floor(d[C]),Math.floor(d[C+1]))&&u.set(C/2,h)}catch{throw new H}}return u}}class ar{static setGridSampler(r){ar.gridSampler=r}static getInstance(){return ar.gridSampler}}ar.gridSampler=new Vr;class wt{constructor(r,s){this.x=r,this.y=s}toResultPoint(){return new ye(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Zo{constructor(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}detect(){return this.detectMirror(!1)}detectMirror(r){let s=this.getMatrixCenter(),o=this.getBullsEyeCorners(s);if(r){let d=o[0];o[0]=o[2],o[2]=d}this.extractParameters(o);let c=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),u=this.getMatrixCornerPoints(o);return new es(c,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new H;let s=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(r[0],r[1],s),this.sampleLine(r[1],r[2],s),this.sampleLine(r[2],r[3],s),this.sampleLine(r[3],r[0],s)]);this.shift=this.getRotation(o,s);let c=0;for(let d=0;d<4;d++){let h=o[(this.shift+d)%4];this.compact?(c<<=7,c+=h>>1&127):(c<<=10,c+=(h>>2&992)+(h>>1&31))}let u=this.getCorrectedParameterData(c,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(r,s){let o=0;r.forEach((c,u,d)=>{let h=(c>>s-2<<1)+(c&1);o=(o<<3)+h}),o=((o&1)<<11)+(o>>1);for(let c=0;c<4;c++)if(I.bitCount(o^this.EXPECTED_CORNER_BITS[c])<=2)return c;throw new H}getCorrectedParameterData(r,s){let o,c;s?(o=7,c=2):(o=10,c=4);let u=o-c,d=new Int32Array(o);for(let m=o-1;m>=0;--m)d[m]=r&15,r>>=4;try{new wn(Me.AZTEC_PARAM).decode(d,u)}catch{throw new H}let h=0;for(let m=0;m<c;m++)h=(h<<4)+d[m];return h}getBullsEyeCorners(r){let s=r,o=r,c=r,u=r,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let b=this.getFirstDifferent(s,d,1,-1),T=this.getFirstDifferent(o,d,1,1),P=this.getFirstDifferent(c,d,-1,1),F=this.getFirstDifferent(u,d,-1,-1);if(this.nbCenterLayers>2){let j=this.distancePoint(F,b)*this.nbCenterLayers/(this.distancePoint(u,s)*(this.nbCenterLayers+2));if(j<.75||j>1.25||!this.isWhiteOrBlackRectangle(b,T,P,F))break}s=b,o=T,c=P,u=F,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new H;this.compact=this.nbCenterLayers===5;let h=new ye(s.getX()+.5,s.getY()-.5),m=new ye(o.getX()+.5,o.getY()+.5),w=new ye(c.getX()-.5,c.getY()+.5),C=new ye(u.getX()-.5,u.getY()-.5);return this.expandSquare([h,m,w,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let r,s,o,c;try{let h=new or(this.image).detect();r=h[0],s=h[1],o=h[2],c=h[3]}catch{let m=this.image.getWidth()/2,w=this.image.getHeight()/2;r=this.getFirstDifferent(new wt(m+7,w-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new wt(m+7,w+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new wt(m-7,w+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new wt(m-7,w-7),!1,-1,-1).toResultPoint()}let u=Ae.round((r.getX()+c.getX()+s.getX()+o.getX())/4),d=Ae.round((r.getY()+c.getY()+s.getY()+o.getY())/4);try{let h=new or(this.image,15,u,d).detect();r=h[0],s=h[1],o=h[2],c=h[3]}catch{r=this.getFirstDifferent(new wt(u+7,d-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new wt(u+7,d+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new wt(u-7,d+7),!1,-1,1).toResultPoint(),c=this.getFirstDifferent(new wt(u-7,d-7),!1,-1,-1).toResultPoint()}return u=Ae.round((r.getX()+c.getX()+s.getX()+o.getX())/4),d=Ae.round((r.getY()+c.getY()+s.getY()+o.getY())/4),new wt(u,d)}getMatrixCornerPoints(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())}sampleGrid(r,s,o,c,u){let d=ar.getInstance(),h=this.getDimension(),m=h/2-this.nbCenterLayers,w=h/2+this.nbCenterLayers;return d.sampleGrid(r,h,h,m,m,w,m,w,w,m,w,s.getX(),s.getY(),o.getX(),o.getY(),c.getX(),c.getY(),u.getX(),u.getY())}sampleLine(r,s,o){let c=0,u=this.distanceResultPoint(r,s),d=u/o,h=r.getX(),m=r.getY(),w=d*(s.getX()-r.getX())/u,C=d*(s.getY()-r.getY())/u;for(let b=0;b<o;b++)this.image.get(Ae.round(h+b*w),Ae.round(m+b*C))&&(c|=1<<o-b-1);return c}isWhiteOrBlackRectangle(r,s,o,c){let u=3;r=new wt(r.getX()-u,r.getY()+u),s=new wt(s.getX()-u,s.getY()-u),o=new wt(o.getX()+u,o.getY()-u),c=new wt(c.getX()+u,c.getY()+u);let d=this.getColor(c,r);if(d===0)return!1;let h=this.getColor(r,s);return h!==d||(h=this.getColor(s,o),h!==d)?!1:(h=this.getColor(o,c),h===d)}getColor(r,s){let o=this.distancePoint(r,s),c=(s.getX()-r.getX())/o,u=(s.getY()-r.getY())/o,d=0,h=r.getX(),m=r.getY(),w=this.image.get(r.getX(),r.getY()),C=Math.ceil(o);for(let T=0;T<C;T++)h+=c,m+=u,this.image.get(Ae.round(h),Ae.round(m))!==w&&d++;let b=d/o;return b>.1&&b<.9?0:b<=.1===w?1:-1}getFirstDifferent(r,s,o,c){let u=r.getX()+o,d=r.getY()+c;for(;this.isValid(u,d)&&this.image.get(u,d)===s;)u+=o,d+=c;for(u-=o,d-=c;this.isValid(u,d)&&this.image.get(u,d)===s;)u+=o;for(u-=o;this.isValid(u,d)&&this.image.get(u,d)===s;)d+=c;return d-=c,new wt(u,d)}expandSquare(r,s,o){let c=o/(2*s),u=r[0].getX()-r[2].getX(),d=r[0].getY()-r[2].getY(),h=(r[0].getX()+r[2].getX())/2,m=(r[0].getY()+r[2].getY())/2,w=new ye(h+c*u,m+c*d),C=new ye(h-c*u,m-c*d);u=r[1].getX()-r[3].getX(),d=r[1].getY()-r[3].getY(),h=(r[1].getX()+r[3].getX())/2,m=(r[1].getY()+r[3].getY())/2;let b=new ye(h+c*u,m+c*d),T=new ye(h-c*u,m-c*d);return[w,b,C,T]}isValid(r,s){return r>=0&&r<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(r){let s=Ae.round(r.getX()),o=Ae.round(r.getY());return this.isValid(s,o)}distancePoint(r,s){return Ae.distance(r.getX(),r.getY(),s.getX(),s.getY())}distanceResultPoint(r,s){return Ae.distance(r.getX(),r.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(I.truncDivision(this.nbLayers-4,8)+1)+15}}class Ls{decode(r,s=null){let o=null,c=new Zo(r.getBlackMatrix()),u=null,d=null;try{let C=c.detectMirror(!1);u=C.getPoints(),this.reportFoundResultPoints(s,u),d=new Ge().decode(C)}catch(C){o=C}if(d==null)try{let C=c.detectMirror(!0);u=C.getPoints(),this.reportFoundResultPoints(s,u),d=new Ge().decode(C)}catch(C){throw o??C}let h=new De(d.getText(),d.getRawBytes(),d.getNumBits(),u,le.AZTEC,N.currentTimeMillis()),m=d.getByteSegments();m!=null&&h.putMetadata(Qe.BYTE_SEGMENTS,m);let w=d.getECLevel();return w!=null&&h.putMetadata(Qe.ERROR_CORRECTION_LEVEL,w),h}reportFoundResultPoints(r,s){if(r!=null){let o=r.get(G.NEED_RESULT_POINT_CALLBACK);o!=null&&s.forEach((c,u,d)=>{o.foundPossibleResultPoint(c)})}}reset(){}}class wl extends Te{constructor(r=500){super(new Ls,r)}}class ft{decode(r,s){try{return this.doDecode(r,s)}catch{if(s&&s.get(G.TRY_HARDER)===!0&&r.isRotateSupported()){const u=r.rotateCounterClockwise(),d=this.doDecode(u,s),h=d.getResultMetadata();let m=270;h!==null&&h.get(Qe.ORIENTATION)===!0&&(m=m+h.get(Qe.ORIENTATION)%360),d.putMetadata(Qe.ORIENTATION,m);const w=d.getResultPoints();if(w!==null){const C=u.getHeight();for(let b=0;b<w.length;b++)w[b]=new ye(C-w[b].getY()-1,w[b].getX())}return d}else throw new H}}reset(){}doDecode(r,s){const o=r.getWidth(),c=r.getHeight();let u=new L(o);const d=s&&s.get(G.TRY_HARDER)===!0,h=Math.max(1,c>>(d?8:5));let m;d?m=c:m=15;const w=Math.trunc(c/2);for(let C=0;C<m;C++){const b=Math.trunc((C+1)/2),T=(C&1)===0,P=w+h*(T?b:-b);if(P<0||P>=c)break;try{u=r.getBlackRow(P,u)}catch{continue}for(let F=0;F<2;F++){if(F===1&&(u.reverse(),s&&s.get(G.NEED_RESULT_POINT_CALLBACK)===!0)){const j=new Map;s.forEach((V,Y)=>j.set(Y,V)),j.delete(G.NEED_RESULT_POINT_CALLBACK),s=j}try{const j=this.decodeRow(P,u,s);if(F===1){j.putMetadata(Qe.ORIENTATION,180);const V=j.getResultPoints();V!==null&&(V[0]=new ye(o-V[0].getX()-1,V[0].getY()),V[1]=new ye(o-V[1].getX()-1,V[1].getY()))}return j}catch{}}}throw new H}static recordPattern(r,s,o){const c=o.length;for(let w=0;w<c;w++)o[w]=0;const u=r.getSize();if(s>=u)throw new H;let d=!r.get(s),h=0,m=s;for(;m<u;){if(r.get(m)!==d)o[h]++;else{if(++h===c)break;o[h]=1,d=!d}m++}if(!(h===c||h===c-1&&m===u))throw new H}static recordPatternInReverse(r,s,o){let c=o.length,u=r.get(s);for(;s>0&&c>=0;)r.get(--s)!==u&&(c--,u=!u);if(c>=0)throw new H;ft.recordPattern(r,s+1,o)}static patternMatchVariance(r,s,o){const c=r.length;let u=0,d=0;for(let w=0;w<c;w++)u+=r[w],d+=s[w];if(u<d)return Number.POSITIVE_INFINITY;const h=u/d;o*=h;let m=0;for(let w=0;w<c;w++){const C=r[w],b=s[w]*h,T=C>b?C-b:b-C;if(T>o)return Number.POSITIVE_INFINITY;m+=T}return m/u}}class oe extends ft{static findStartPattern(r){const s=r.getSize(),o=r.getNextSet(0);let c=0,u=Int32Array.from([0,0,0,0,0,0]),d=o,h=!1;const m=6;for(let w=o;w<s;w++)if(r.get(w)!==h)u[c]++;else{if(c===m-1){let C=oe.MAX_AVG_VARIANCE,b=-1;for(let T=oe.CODE_START_A;T<=oe.CODE_START_C;T++){const P=ft.patternMatchVariance(u,oe.CODE_PATTERNS[T],oe.MAX_INDIVIDUAL_VARIANCE);P<C&&(C=P,b=T)}if(b>=0&&r.isRange(Math.max(0,d-(w-d)/2),d,!1))return Int32Array.from([d,w,b]);d+=u[0]+u[1],u=u.slice(2,u.length-1),u[c-1]=0,u[c]=0,c--}else c++;u[c]=1,h=!h}throw new H}static decodeCode(r,s,o){ft.recordPattern(r,o,s);let c=oe.MAX_AVG_VARIANCE,u=-1;for(let d=0;d<oe.CODE_PATTERNS.length;d++){const h=oe.CODE_PATTERNS[d],m=this.patternMatchVariance(s,h,oe.MAX_INDIVIDUAL_VARIANCE);m<c&&(c=m,u=d)}if(u>=0)return u;throw new H}decodeRow(r,s,o){const c=o&&o.get(G.ASSUME_GS1)===!0,u=oe.findStartPattern(s),d=u[2];let h=0;const m=new Uint8Array(20);m[h++]=d;let w;switch(d){case oe.CODE_START_A:w=oe.CODE_CODE_A;break;case oe.CODE_START_B:w=oe.CODE_CODE_B;break;case oe.CODE_START_C:w=oe.CODE_CODE_C;break;default:throw new U}let C=!1,b=!1,T="",P=u[0],F=u[1];const j=Int32Array.from([0,0,0,0,0,0]);let V=0,Y=0,ne=d,ie=0,ee=!0,je=!1,Ne=!1;for(;!C;){const Gs=b;switch(b=!1,V=Y,Y=oe.decodeCode(s,j,F),m[h++]=Y,Y!==oe.CODE_STOP&&(ee=!0),Y!==oe.CODE_STOP&&(ie++,ne+=ie*Y),P=F,F+=j.reduce((oy,ay)=>oy+ay,0),Y){case oe.CODE_START_A:case oe.CODE_START_B:case oe.CODE_START_C:throw new U}switch(w){case oe.CODE_CODE_A:if(Y<64)Ne===je?T+=String.fromCharCode(32+Y):T+=String.fromCharCode(32+Y+128),Ne=!1;else if(Y<96)Ne===je?T+=String.fromCharCode(Y-64):T+=String.fromCharCode(Y+64),Ne=!1;else switch(Y!==oe.CODE_STOP&&(ee=!1),Y){case oe.CODE_FNC_1:c&&(T.length===0?T+="]C1":T+="");break;case oe.CODE_FNC_2:case oe.CODE_FNC_3:break;case oe.CODE_FNC_4_A:!je&&Ne?(je=!0,Ne=!1):je&&Ne?(je=!1,Ne=!1):Ne=!0;break;case oe.CODE_SHIFT:b=!0,w=oe.CODE_CODE_B;break;case oe.CODE_CODE_B:w=oe.CODE_CODE_B;break;case oe.CODE_CODE_C:w=oe.CODE_CODE_C;break;case oe.CODE_STOP:C=!0;break}break;case oe.CODE_CODE_B:if(Y<96)Ne===je?T+=String.fromCharCode(32+Y):T+=String.fromCharCode(32+Y+128),Ne=!1;else switch(Y!==oe.CODE_STOP&&(ee=!1),Y){case oe.CODE_FNC_1:c&&(T.length===0?T+="]C1":T+="");break;case oe.CODE_FNC_2:case oe.CODE_FNC_3:break;case oe.CODE_FNC_4_B:!je&&Ne?(je=!0,Ne=!1):je&&Ne?(je=!1,Ne=!1):Ne=!0;break;case oe.CODE_SHIFT:b=!0,w=oe.CODE_CODE_A;break;case oe.CODE_CODE_A:w=oe.CODE_CODE_A;break;case oe.CODE_CODE_C:w=oe.CODE_CODE_C;break;case oe.CODE_STOP:C=!0;break}break;case oe.CODE_CODE_C:if(Y<100)Y<10&&(T+="0"),T+=Y;else switch(Y!==oe.CODE_STOP&&(ee=!1),Y){case oe.CODE_FNC_1:c&&(T.length===0?T+="]C1":T+="");break;case oe.CODE_CODE_A:w=oe.CODE_CODE_A;break;case oe.CODE_CODE_B:w=oe.CODE_CODE_B;break;case oe.CODE_STOP:C=!0;break}break}Gs&&(w=w===oe.CODE_CODE_A?oe.CODE_CODE_B:oe.CODE_CODE_A)}const Cn=F-P;if(F=s.getNextUnset(F),!s.isRange(F,Math.min(s.getSize(),F+(F-P)/2),!1))throw new H;if(ne-=ie*V,ne%103!==V)throw new _;const cr=T.length;if(cr===0)throw new H;cr>0&&ee&&(w===oe.CODE_CODE_C?T=T.substring(0,cr-2):T=T.substring(0,cr-1));const An=(u[1]+u[0])/2,et=P+Cn/2,Wt=m.length,Pn=new Uint8Array(Wt);for(let Gs=0;Gs<Wt;Gs++)Pn[Gs]=m[Gs];const Ws=[new ye(An,r),new ye(et,r)];return new De(T,Pn,0,Ws,le.CODE_128,new Date().getTime())}}oe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],oe.MAX_AVG_VARIANCE=.25,oe.MAX_INDIVIDUAL_VARIANCE=.7,oe.CODE_SHIFT=98,oe.CODE_CODE_C=99,oe.CODE_CODE_B=100,oe.CODE_CODE_A=101,oe.CODE_FNC_1=102,oe.CODE_FNC_2=97,oe.CODE_FNC_3=96,oe.CODE_FNC_4_A=101,oe.CODE_FNC_4_B=100,oe.CODE_START_A=103,oe.CODE_START_B=104,oe.CODE_START_C=105,oe.CODE_STOP=106;class ht extends ft{constructor(r=!1,s=!1){super(),this.usingCheckDigit=r,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(r,s,o){let c=this.counters;c.fill(0),this.decodeRowResult="";let u=ht.findAsteriskPattern(s,c),d=s.getNextSet(u[1]),h=s.getSize(),m,w;do{ht.recordPattern(s,d,c);let j=ht.toNarrowWidePattern(c);if(j<0)throw new H;m=ht.patternToChar(j),this.decodeRowResult+=m,w=d;for(let V of c)d+=V;d=s.getNextSet(d)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let j of c)C+=j;let b=d-w-C;if(d!==h&&b*2<C)throw new H;if(this.usingCheckDigit){let j=this.decodeRowResult.length-1,V=0;for(let Y=0;Y<j;Y++)V+=ht.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Y));if(this.decodeRowResult.charAt(j)!==ht.ALPHABET_STRING.charAt(V%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,j)}if(this.decodeRowResult.length===0)throw new H;let T;this.extendedMode?T=ht.decodeExtended(this.decodeRowResult):T=this.decodeRowResult;let P=(u[1]+u[0])/2,F=w+C/2;return new De(T,null,0,[new ye(P,r),new ye(F,r)],le.CODE_39,new Date().getTime())}static findAsteriskPattern(r,s){let o=r.getSize(),c=r.getNextSet(0),u=0,d=c,h=!1,m=s.length;for(let w=c;w<o;w++)if(r.get(w)!==h)s[u]++;else{if(u===m-1){if(this.toNarrowWidePattern(s)===ht.ASTERISK_ENCODING&&r.isRange(Math.max(0,d-Math.floor((w-d)/2)),d,!1))return[d,w];d+=s[0]+s[1],s.copyWithin(0,2,2+u-1),s[u-1]=0,s[u]=0,u--}else u++;s[u]=1,h=!h}throw new H}static toNarrowWidePattern(r){let s=r.length,o=0,c;do{let u=2147483647;for(let m of r)m<u&&m>o&&(u=m);o=u,c=0;let d=0,h=0;for(let m=0;m<s;m++){let w=r[m];w>o&&(h|=1<<s-1-m,c++,d+=w)}if(c===3){for(let m=0;m<s&&c>0;m++){let w=r[m];if(w>o&&(c--,w*2>=d))return-1}return h}}while(c>3);return-1}static patternToChar(r){for(let s=0;s<ht.CHARACTER_ENCODINGS.length;s++)if(ht.CHARACTER_ENCODINGS[s]===r)return ht.ALPHABET_STRING.charAt(s);if(r===ht.ASTERISK_ENCODING)return"*";throw new H}static decodeExtended(r){let s=r.length,o="";for(let c=0;c<s;c++){let u=r.charAt(c);if(u==="+"||u==="$"||u==="%"||u==="/"){let d=r.charAt(c+1),h="\0";switch(u){case"+":if(d>="A"&&d<="Z")h=String.fromCharCode(d.charCodeAt(0)+32);else throw new U;break;case"$":if(d>="A"&&d<="Z")h=String.fromCharCode(d.charCodeAt(0)-64);else throw new U;break;case"%":if(d>="A"&&d<="E")h=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")h=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")h=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")h=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")h="\0";else if(d==="V")h="@";else if(d==="W")h="`";else if(d==="X"||d==="Y"||d==="Z")h="";else throw new U;break;case"/":if(d>="A"&&d<="O")h=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")h=":";else throw new U;break}o+=h,c++}else o+=u}return o}}ht.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",ht.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],ht.ASTERISK_ENCODING=148;class Fe extends ft{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(r,s,o){let c=this.decodeStart(s),u=this.decodeEnd(s),d=new de;Fe.decodeMiddle(s,c[1],u[0],d);let h=d.toString(),m=null;o!=null&&(m=o.get(G.ALLOWED_LENGTHS)),m==null&&(m=Fe.DEFAULT_ALLOWED_LENGTHS);let w=h.length,C=!1,b=0;for(let F of m){if(w===F){C=!0;break}F>b&&(b=F)}if(!C&&w>b&&(C=!0),!C)throw new U;const T=[new ye(c[1],r),new ye(u[0],r)];return new De(h,null,0,T,le.ITF,new Date().getTime())}static decodeMiddle(r,s,o,c){let u=new Int32Array(10),d=new Int32Array(5),h=new Int32Array(5);for(u.fill(0),d.fill(0),h.fill(0);s<o;){ft.recordPattern(r,s,u);for(let w=0;w<5;w++){let C=2*w;d[w]=u[C],h[w]=u[C+1]}let m=Fe.decodeDigit(d);c.append(m.toString()),m=this.decodeDigit(h),c.append(m.toString()),u.forEach(function(w){s+=w})}}decodeStart(r){let s=Fe.skipWhiteSpace(r),o=Fe.findGuardPattern(r,s,Fe.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(r,o[0]),o}validateQuietZone(r,s){let o=this.narrowLineWidth*10;o=o<s?o:s;for(let c=s-1;o>0&&c>=0&&!r.get(c);c--)o--;if(o!==0)throw new H}static skipWhiteSpace(r){const s=r.getSize(),o=r.getNextSet(0);if(o===s)throw new H;return o}decodeEnd(r){r.reverse();try{let s=Fe.skipWhiteSpace(r),o;try{o=Fe.findGuardPattern(r,s,Fe.END_PATTERN_REVERSED[0])}catch(u){u instanceof H&&(o=Fe.findGuardPattern(r,s,Fe.END_PATTERN_REVERSED[1]))}this.validateQuietZone(r,o[0]);let c=o[0];return o[0]=r.getSize()-o[1],o[1]=r.getSize()-c,o}finally{r.reverse()}}static findGuardPattern(r,s,o){let c=o.length,u=new Int32Array(c),d=r.getSize(),h=!1,m=0,w=s;u.fill(0);for(let C=s;C<d;C++)if(r.get(C)!==h)u[m]++;else{if(m===c-1){if(ft.patternMatchVariance(u,o,Fe.MAX_INDIVIDUAL_VARIANCE)<Fe.MAX_AVG_VARIANCE)return[w,C];w+=u[0]+u[1],N.arraycopy(u,2,u,0,m-1),u[m-1]=0,u[m]=0,m--}else m++;u[m]=1,h=!h}throw new H}static decodeDigit(r){let s=Fe.MAX_AVG_VARIANCE,o=-1,c=Fe.PATTERNS.length;for(let u=0;u<c;u++){let d=Fe.PATTERNS[u],h=ft.patternMatchVariance(r,d,Fe.MAX_INDIVIDUAL_VARIANCE);h<s?(s=h,o=u):h===s&&(o=-1)}if(o>=0)return o%10;throw new H}}Fe.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Fe.MAX_AVG_VARIANCE=.38,Fe.MAX_INDIVIDUAL_VARIANCE=.5,Fe.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Fe.START_PATTERN=Int32Array.from([1,1,1,1]),Fe.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class ct extends ft{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(r){let s=!1,o,c=0,u=Int32Array.from([0,0,0]);for(;!s;){u=Int32Array.from([0,0,0]),o=ct.findGuardPattern(r,c,!1,this.START_END_PATTERN,u);let d=o[0];c=o[1];let h=d-(c-d);h>=0&&(s=r.isRange(h,d,!1))}return o}static checkChecksum(r){return ct.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let s=r.length;if(s===0)return!1;let o=parseInt(r.charAt(s-1),10);return ct.getStandardUPCEANChecksum(r.substring(0,s-1))===o}static getStandardUPCEANChecksum(r){let s=r.length,o=0;for(let c=s-1;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new U;o+=u}o*=3;for(let c=s-2;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new U;o+=u}return(1e3-o)%10}static decodeEnd(r,s){return ct.findGuardPattern(r,s,!1,ct.START_END_PATTERN,new Int32Array(ct.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(r,s,o,c){return this.findGuardPattern(r,s,o,c,new Int32Array(c.length))}static findGuardPattern(r,s,o,c,u){let d=r.getSize();s=o?r.getNextUnset(s):r.getNextSet(s);let h=0,m=s,w=c.length,C=o;for(let b=s;b<d;b++)if(r.get(b)!==C)u[h]++;else{if(h===w-1){if(ft.patternMatchVariance(u,c,ct.MAX_INDIVIDUAL_VARIANCE)<ct.MAX_AVG_VARIANCE)return Int32Array.from([m,b]);m+=u[0]+u[1];let T=u.slice(2,u.length-1);for(let P=0;P<h-1;P++)u[P]=T[P];u[h-1]=0,u[h]=0,h--}else h++;u[h]=1,C=!C}throw new H}static decodeDigit(r,s,o,c){this.recordPattern(r,o,s);let u=this.MAX_AVG_VARIANCE,d=-1,h=c.length;for(let m=0;m<h;m++){let w=c[m],C=ft.patternMatchVariance(s,w,ct.MAX_INDIVIDUAL_VARIANCE);C<u&&(u=C,d=m)}if(d>=0)return d;throw new H}}ct.MAX_AVG_VARIANCE=.48,ct.MAX_INDIVIDUAL_VARIANCE=.7,ct.START_END_PATTERN=Int32Array.from([1,1,1]),ct.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),ct.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ct.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Se{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,s,o){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(s,o,c),d=c.toString(),h=Se.parseExtensionString(d),m=[new ye((o[0]+o[1])/2,r),new ye(u,r)],w=new De(d,null,0,m,le.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&w.putAllMetadata(h),w}decodeMiddle(r,s,o){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),d=s[1],h=0;for(let w=0;w<5&&d<u;w++){let C=ct.decodeDigit(r,c,d,ct.L_AND_G_PATTERNS);o+=String.fromCharCode(48+C%10);for(let b of c)d+=b;C>=10&&(h|=1<<4-w),w!==4&&(d=r.getNextSet(d),d=r.getNextUnset(d))}if(o.length!==5)throw new H;let m=this.determineCheckDigit(h);if(Se.extensionChecksum(o.toString())!==m)throw new H;return d}static extensionChecksum(r){let s=r.length,o=0;for(let c=s-2;c>=0;c-=2)o+=r.charAt(c).charCodeAt(0)-48;o*=3;for(let c=s-1;c>=0;c-=2)o+=r.charAt(c).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(r){for(let s=0;s<10;s++)if(r===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new H}static parseExtensionString(r){if(r.length!==5)return null;let s=Se.parseExtension5String(r);return s==null?null:new Map([[Qe.SUGGESTED_PRICE,s]])}static parseExtension5String(r){let s;switch(r.charAt(0)){case"0":s="";break;case"5":s="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s="";break}let o=parseInt(r.substring(1)),c=(o/100).toString(),u=o%100,d=u<10?"0"+u:u.toString();return s+c+"."+d}}class Ye{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(r,s,o){let c=this.decodeRowStringBuffer,u=this.decodeMiddle(s,o,c),d=c.toString(),h=Ye.parseExtensionString(d),m=[new ye((o[0]+o[1])/2,r),new ye(u,r)],w=new De(d,null,0,m,le.UPC_EAN_EXTENSION,new Date().getTime());return h!=null&&w.putAllMetadata(h),w}decodeMiddle(r,s,o){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),d=s[1],h=0;for(let m=0;m<2&&d<u;m++){let w=ct.decodeDigit(r,c,d,ct.L_AND_G_PATTERNS);o+=String.fromCharCode(48+w%10);for(let C of c)d+=C;w>=10&&(h|=1<<1-m),m!==1&&(d=r.getNextSet(d),d=r.getNextUnset(d))}if(o.length!==2)throw new H;if(parseInt(o.toString())%4!==h)throw new H;return d}static parseExtensionString(r){return r.length!==2?null:new Map([[Qe.ISSUE_NUMBER,parseInt(r)]])}}class Ke{static decodeRow(r,s,o){let c=ct.findGuardPattern(s,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Se().decodeRow(r,s,c)}catch{return new Ye().decodeRow(r,s,c)}}}Ke.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ie extends ct{constructor(){super(),this.decodeRowStringBuffer="",Ie.L_AND_G_PATTERNS=Ie.L_PATTERNS.map(r=>Int32Array.from(r));for(let r=10;r<20;r++){let s=Ie.L_PATTERNS[r-10],o=new Int32Array(s.length);for(let c=0;c<s.length;c++)o[c]=s[s.length-c-1];Ie.L_AND_G_PATTERNS[r]=o}}decodeRow(r,s,o){let c=Ie.findStartGuardPattern(s),u=o==null?null:o.get(G.NEED_RESULT_POINT_CALLBACK);if(u!=null){const ee=new ye((c[0]+c[1])/2,r);u.foundPossibleResultPoint(ee)}let d=this.decodeMiddle(s,c,this.decodeRowStringBuffer),h=d.rowOffset,m=d.resultString;if(u!=null){const ee=new ye(h,r);u.foundPossibleResultPoint(ee)}let w=this.decodeEnd(s,h);if(u!=null){const ee=new ye((w[0]+w[1])/2,r);u.foundPossibleResultPoint(ee)}let C=w[1],b=C+(C-w[0]);if(b>=s.getSize()||!s.isRange(C,b,!1))throw new H;let T=m.toString();if(T.length<8)throw new U;if(!Ie.checkChecksum(T))throw new _;let P=(c[1]+c[0])/2,F=(w[1]+w[0])/2,j=this.getBarcodeFormat(),V=[new ye(P,r),new ye(F,r)],Y=new De(T,null,0,V,j,new Date().getTime()),ne=0;try{let ee=Ke.decodeRow(r,s,w[1]);Y.putMetadata(Qe.UPC_EAN_EXTENSION,ee.getText()),Y.putAllMetadata(ee.getResultMetadata()),Y.addResultPoints(ee.getResultPoints()),ne=ee.getText().length}catch{}let ie=o==null?null:o.get(G.ALLOWED_EAN_EXTENSIONS);if(ie!=null){let ee=!1;for(let je in ie)if(ne.toString()===je){ee=!0;break}if(!ee)throw new H}return Y}decodeEnd(r,s){return Ie.findGuardPattern(r,s,!1,Ie.START_END_PATTERN,new Int32Array(Ie.START_END_PATTERN.length).fill(0))}static checkChecksum(r){return Ie.checkStandardUPCEANChecksum(r)}static checkStandardUPCEANChecksum(r){let s=r.length;if(s===0)return!1;let o=parseInt(r.charAt(s-1),10);return Ie.getStandardUPCEANChecksum(r.substring(0,s-1))===o}static getStandardUPCEANChecksum(r){let s=r.length,o=0;for(let c=s-1;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new U;o+=u}o*=3;for(let c=s-2;c>=0;c-=2){let u=r.charAt(c).charCodeAt(0)-48;if(u<0||u>9)throw new U;o+=u}return(1e3-o)%10}}class Mt extends Ie{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,s,o){let c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),d=s[1],h=0;for(let w=0;w<6&&d<u;w++){let C=Ie.decodeDigit(r,c,d,Ie.L_AND_G_PATTERNS);o+=String.fromCharCode(48+C%10);for(let b of c)d+=b;C>=10&&(h|=1<<5-w)}o=Mt.determineFirstDigit(o,h),d=Ie.findGuardPattern(r,d,!0,Ie.MIDDLE_PATTERN,new Int32Array(Ie.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<6&&d<u;w++){let C=Ie.decodeDigit(r,c,d,Ie.L_PATTERNS);o+=String.fromCharCode(48+C);for(let b of c)d+=b}return{rowOffset:d,resultString:o}}getBarcodeFormat(){return le.EAN_13}static determineFirstDigit(r,s){for(let o=0;o<10;o++)if(s===this.FIRST_DIGIT_ENCODINGS[o])return r=String.fromCharCode(48+o)+r,r;throw new H}}Mt.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ts extends Ie{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(r,s,o){const c=this.decodeMiddleCounters;c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),d=s[1];for(let m=0;m<4&&d<u;m++){let w=Ie.decodeDigit(r,c,d,Ie.L_PATTERNS);o+=String.fromCharCode(48+w);for(let C of c)d+=C}d=Ie.findGuardPattern(r,d,!0,Ie.MIDDLE_PATTERN,new Int32Array(Ie.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<4&&d<u;m++){let w=Ie.decodeDigit(r,c,d,Ie.L_PATTERNS);o+=String.fromCharCode(48+w);for(let C of c)d+=C}return{rowOffset:d,resultString:o}}getBarcodeFormat(){return le.EAN_8}}class yl extends Ie{constructor(){super(...arguments),this.ean13Reader=new Mt}getBarcodeFormat(){return le.UPC_A}decode(r,s){return this.maybeReturnResult(this.ean13Reader.decode(r))}decodeRow(r,s,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(r,s,o))}decodeMiddle(r,s,o){return this.ean13Reader.decodeMiddle(r,s,o)}maybeReturnResult(r){let s=r.getText();if(s.charAt(0)==="0"){let o=new De(s.substring(1),null,null,r.getResultPoints(),le.UPC_A);return r.getResultMetadata()!=null&&o.putAllMetadata(r.getResultMetadata()),o}else throw new H}reset(){this.ean13Reader.reset()}}class lr extends Ie{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(r,s,o){const c=this.decodeMiddleCounters.map(w=>w);c[0]=0,c[1]=0,c[2]=0,c[3]=0;const u=r.getSize();let d=s[1],h=0;for(let w=0;w<6&&d<u;w++){const C=lr.decodeDigit(r,c,d,lr.L_AND_G_PATTERNS);o+=String.fromCharCode(48+C%10);for(let b of c)d+=b;C>=10&&(h|=1<<5-w)}let m=lr.determineNumSysAndCheckDigit(o,h);return{rowOffset:d,resultString:m}}decodeEnd(r,s){return lr.findGuardPatternWithoutCounters(r,s,!0,lr.MIDDLE_END_PATTERN)}checkChecksum(r){return Ie.checkChecksum(lr.convertUPCEtoUPCA(r))}static determineNumSysAndCheckDigit(r,s){for(let o=0;o<=1;o++)for(let c=0;c<10;c++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][c]){let u=String.fromCharCode(48+o),d=String.fromCharCode(48+c);return u+r+d}throw H.getNotFoundInstance()}getBarcodeFormat(){return le.UPC_E}static convertUPCEtoUPCA(r){const s=r.slice(1,7).split("").map(u=>u.charCodeAt(0)),o=new de;o.append(r.charAt(0));let c=s[5];switch(c){case 0:case 1:case 2:o.appendChars(s,0,2),o.append(c),o.append("0000"),o.appendChars(s,2,3);break;case 3:o.appendChars(s,0,3),o.append("00000"),o.appendChars(s,3,2);break;case 4:o.appendChars(s,0,4),o.append("00000"),o.append(s[4]);break;default:o.appendChars(s,0,5),o.append("0000"),o.append(c);break}return r.length>=8&&o.append(r.charAt(7)),o.toString()}}lr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),lr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ku extends ft{constructor(r){super();let s=r==null?null:r.get(G.POSSIBLE_FORMATS),o=[];i(s)?(o.push(new Mt),o.push(new yl),o.push(new ts),o.push(new lr)):(s.indexOf(le.EAN_13)>-1&&o.push(new Mt),s.indexOf(le.UPC_A)>-1&&o.push(new yl),s.indexOf(le.EAN_8)>-1&&o.push(new ts),s.indexOf(le.UPC_E)>-1&&o.push(new lr)),this.readers=o}decodeRow(r,s,o){for(let c of this.readers)try{const u=c.decodeRow(r,s,o),d=u.getBarcodeFormat()===le.EAN_13&&u.getText().charAt(0)==="0",h=o==null?null:o.get(G.POSSIBLE_FORMATS),m=h==null||h.includes(le.UPC_A);if(d&&m){const w=u.getRawBytes(),C=new De(u.getText().substring(1),w,w?w.length:null,u.getResultPoints(),le.UPC_A);return C.putAllMetadata(u.getResultMetadata()),C}return u}catch{}throw new H}reset(){for(let r of this.readers)r.reset()}}class qt extends ft{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(r,s){for(let o=0;o<s.length;o++)if(ft.patternMatchVariance(r,s[o],qt.MAX_INDIVIDUAL_VARIANCE)<qt.MAX_AVG_VARIANCE)return o;throw new H}static count(r){return Ae.sum(new Int32Array(r))}static increment(r,s){let o=0,c=s[0];for(let u=1;u<r.length;u++)s[u]>c&&(c=s[u],o=u);r[o]++}static decrement(r,s){let o=0,c=s[0];for(let u=1;u<r.length;u++)s[u]<c&&(c=s[u],o=u);r[o]--}static isFinderPattern(r){let s=r[0]+r[1],o=s+r[2]+r[3],c=s/o;if(c>=qt.MIN_FINDER_PATTERN_RATIO&&c<=qt.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let h of r)h>d&&(d=h),h<u&&(u=h);return d<10*u}return!1}}qt.MAX_AVG_VARIANCE=.2,qt.MAX_INDIVIDUAL_VARIANCE=.45,qt.MIN_FINDER_PATTERN_RATIO=9.5/12,qt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Bs{constructor(r,s){this.value=r,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(r){if(!(r instanceof Bs))return!1;const s=r;return this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class vl{constructor(r,s,o,c,u){this.value=r,this.startEnd=s,this.value=r,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new ye(o,u)),this.resultPoints.push(new ye(c,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(r){if(!(r instanceof vl))return!1;const s=r;return this.value===s.value}hashCode(){return this.value}}class br{constructor(){}static getRSSvalue(r,s,o){let c=0;for(let m of r)c+=m;let u=0,d=0,h=r.length;for(let m=0;m<h-1;m++){let w;for(w=1,d|=1<<m;w<r[m];w++,d&=~(1<<m)){let C=br.combins(c-w-1,h-m-2);if(o&&d===0&&c-w-(h-m-1)>=h-m-1&&(C-=br.combins(c-w-(h-m),h-m-2)),h-m-1>1){let b=0;for(let T=c-w-(h-m-2);T>s;T--)b+=br.combins(c-w-T-1,h-m-3);C-=b*(h-1-m)}else c-w>s&&C--;u+=C}c-=w}return u}static combins(r,s){let o,c;r-s>s?(c=s,o=r-s):(c=r-s,o=s);let u=1,d=1;for(let h=r;h>o;h--)u*=h,d<=c&&(u/=d,d++);for(;d<=c;)u/=d,d++;return u}}class kw{static buildBitArray(r){let s=r.length*2-1;r[r.length-1].getRightChar()==null&&(s-=1);let o=12*s,c=new L(o),u=0,h=r[0].getRightChar().getValue();for(let m=11;m>=0;--m)h&1<<m&&c.set(u),u++;for(let m=1;m<r.length;++m){let w=r[m],C=w.getLeftChar().getValue();for(let b=11;b>=0;--b)C&1<<b&&c.set(u),u++;if(w.getRightChar()!=null){let b=w.getRightChar().getValue();for(let T=11;T>=0;--T)b&1<<T&&c.set(u),u++}}return c}}class ns{constructor(r,s){s?this.decodedInformation=null:(this.finished=r,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Pu{constructor(r){this.newPosition=r}getNewPosition(){return this.newPosition}}class yn extends Pu{constructor(r,s){super(r),this.value=s}getValue(){return this.value}isFNC1(){return this.value===yn.FNC1}}yn.FNC1="$";class rs extends Pu{constructor(r,s,o){super(r),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Xn extends Pu{constructor(r,s,o){if(super(r),s<0||s>10||o<0||o>10)throw new U;this.firstDigit=s,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Xn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Xn.FNC1}isAnyFNC1(){return this.firstDigit===Xn.FNC1||this.secondDigit===Xn.FNC1}}Xn.FNC1=10;class ge{constructor(){}static parseFieldsInGeneralPurpose(r){if(!r)return null;if(r.length<2)throw new H;let s=r.substring(0,2);for(let u of ge.TWO_DIGIT_DATA_LENGTH)if(u[0]===s)return u[1]===ge.VARIABLE_LENGTH?ge.processVariableAI(2,u[2],r):ge.processFixedAI(2,u[1],r);if(r.length<3)throw new H;let o=r.substring(0,3);for(let u of ge.THREE_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===ge.VARIABLE_LENGTH?ge.processVariableAI(3,u[2],r):ge.processFixedAI(3,u[1],r);for(let u of ge.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===ge.VARIABLE_LENGTH?ge.processVariableAI(4,u[2],r):ge.processFixedAI(4,u[1],r);if(r.length<4)throw new H;let c=r.substring(0,4);for(let u of ge.FOUR_DIGIT_DATA_LENGTH)if(u[0]===c)return u[1]===ge.VARIABLE_LENGTH?ge.processVariableAI(4,u[2],r):ge.processFixedAI(4,u[1],r);throw new H}static processFixedAI(r,s,o){if(o.length<r)throw new H;let c=o.substring(0,r);if(o.length<r+s)throw new H;let u=o.substring(r,r+s),d=o.substring(r+s),h="("+c+")"+u,m=ge.parseFieldsInGeneralPurpose(d);return m==null?h:h+m}static processVariableAI(r,s,o){let c=o.substring(0,r),u;o.length<r+s?u=o.length:u=r+s;let d=o.substring(r,u),h=o.substring(u),m="("+c+")"+d,w=ge.parseFieldsInGeneralPurpose(h);return w==null?m:m+w}}ge.VARIABLE_LENGTH=[],ge.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ge.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ge.VARIABLE_LENGTH,20],["22",ge.VARIABLE_LENGTH,29],["30",ge.VARIABLE_LENGTH,8],["37",ge.VARIABLE_LENGTH,8],["90",ge.VARIABLE_LENGTH,30],["91",ge.VARIABLE_LENGTH,30],["92",ge.VARIABLE_LENGTH,30],["93",ge.VARIABLE_LENGTH,30],["94",ge.VARIABLE_LENGTH,30],["95",ge.VARIABLE_LENGTH,30],["96",ge.VARIABLE_LENGTH,30],["97",ge.VARIABLE_LENGTH,3],["98",ge.VARIABLE_LENGTH,30],["99",ge.VARIABLE_LENGTH,30]],ge.THREE_DIGIT_DATA_LENGTH=[["240",ge.VARIABLE_LENGTH,30],["241",ge.VARIABLE_LENGTH,30],["242",ge.VARIABLE_LENGTH,6],["250",ge.VARIABLE_LENGTH,30],["251",ge.VARIABLE_LENGTH,30],["253",ge.VARIABLE_LENGTH,17],["254",ge.VARIABLE_LENGTH,20],["400",ge.VARIABLE_LENGTH,30],["401",ge.VARIABLE_LENGTH,30],["402",17],["403",ge.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ge.VARIABLE_LENGTH,20],["421",ge.VARIABLE_LENGTH,15],["422",3],["423",ge.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ge.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ge.VARIABLE_LENGTH,15],["391",ge.VARIABLE_LENGTH,18],["392",ge.VARIABLE_LENGTH,15],["393",ge.VARIABLE_LENGTH,18],["703",ge.VARIABLE_LENGTH,30]],ge.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ge.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ge.VARIABLE_LENGTH,20],["8003",ge.VARIABLE_LENGTH,30],["8004",ge.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ge.VARIABLE_LENGTH,30],["8008",ge.VARIABLE_LENGTH,12],["8018",18],["8020",ge.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ge.VARIABLE_LENGTH,70],["8200",ge.VARIABLE_LENGTH,70]];class Fs{constructor(r){this.buffer=new de,this.information=r}decodeAllCodes(r,s){let o=s,c=null;do{let u=this.decodeGeneralPurposeField(o,c),d=ge.parseFieldsInGeneralPurpose(u.getNewString());if(d!=null&&r.append(d),u.isRemaining()?c=""+u.getRemainingValue():c=null,o===u.getNewPosition())break;o=u.getNewPosition()}while(!0);return r.toString()}isStillNumeric(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(let s=r;s<r+3;++s)if(this.information.get(s))return!0;return this.information.get(r+3)}decodeNumeric(r){if(r+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(r,4);return u===0?new Xn(this.information.getSize(),Xn.FNC1,Xn.FNC1):new Xn(this.information.getSize(),u-1,Xn.FNC1)}let s=this.extractNumericValueFromBitArray(r,7),o=(s-8)/11,c=(s-8)%11;return new Xn(r+7,o,c)}extractNumericValueFromBitArray(r,s){return Fs.extractNumericValueFromBitArray(this.information,r,s)}static extractNumericValueFromBitArray(r,s,o){let c=0;for(let u=0;u<o;++u)r.get(s+u)&&(c|=1<<o-u-1);return c}decodeGeneralPurposeField(r,s){this.buffer.setLengthToZero(),s!=null&&this.buffer.append(s),this.current.setPosition(r);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new rs(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new rs(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let r,s;do{let o=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),r=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),r=s.isFinished()):(s=this.parseNumericBlock(),r=s.isFinished()),!(o!==this.current.getPosition())&&!r)break}while(!r);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){let s;return r.isSecondDigitFNC1()?s=new rs(this.current.getPosition(),this.buffer.toString()):s=new rs(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new ns(!0,s)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){let s=new rs(this.current.getPosition(),this.buffer.toString());return new ns(!0,s)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ns(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let s=new rs(this.current.getPosition(),this.buffer.toString());return new ns(!0,s)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ns(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){let s=new rs(this.current.getPosition(),this.buffer.toString());return new ns(!0,s)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ns(!1)}isStillIsoIec646(r){if(r+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,5);if(s>=5&&s<16)return!0;if(r+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<116)return!0;if(r+8>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(r,8);return c>=232&&c<253}decodeIsoIec646(r){let s=this.extractNumericValueFromBitArray(r,5);if(s===15)return new yn(r+5,yn.FNC1);if(s>=5&&s<15)return new yn(r+5,"0"+(s-5));let o=this.extractNumericValueFromBitArray(r,7);if(o>=64&&o<90)return new yn(r+7,""+(o+1));if(o>=90&&o<116)return new yn(r+7,""+(o+7));let c=this.extractNumericValueFromBitArray(r,8),u;switch(c){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new U}return new yn(r+8,u)}isStillAlpha(r){if(r+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(r,5);if(s>=5&&s<16)return!0;if(r+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(r,6);return o>=16&&o<63}decodeAlphanumeric(r){let s=this.extractNumericValueFromBitArray(r,5);if(s===15)return new yn(r+5,yn.FNC1);if(s>=5&&s<15)return new yn(r+5,"0"+(s-5));let o=this.extractNumericValueFromBitArray(r,6);if(o>=32&&o<58)return new yn(r+6,""+(o+33));let c;switch(o){case 58:c="*";break;case 59:c=",";break;case 60:c="-";break;case 61:c=".";break;case 62:c="/";break;default:throw new an("Decoding invalid alphanumeric value: "+o)}return new yn(r+6,c)}isAlphaTo646ToAlphaLatch(r){if(r+1>this.information.getSize())return!1;for(let s=0;s<5&&s+r<this.information.getSize();++s)if(s===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+s))return!1;return!0}isAlphaOr646ToNumericLatch(r){if(r+3>this.information.getSize())return!1;for(let s=r;s<r+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(r){if(r+1>this.information.getSize())return!1;for(let s=0;s<4&&s+r<this.information.getSize();++s)if(this.information.get(r+s))return!1;return!0}}class Du{constructor(r){this.information=r,this.generalDecoder=new Fs(r)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class vn extends Du{constructor(r){super(r)}encodeCompressedGtin(r,s){r.append("(01)");let o=r.length();r.append("9"),this.encodeCompressedGtinWithoutAI(r,s,o)}encodeCompressedGtinWithoutAI(r,s,o){for(let c=0;c<4;++c){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*c,10);u/100===0&&r.append("0"),u/10===0&&r.append("0"),r.append(u)}vn.appendCheckDigit(r,o)}static appendCheckDigit(r,s){let o=0;for(let c=0;c<13;c++){let u=r.charAt(c+s).charCodeAt(0)-48;o+=c&1?u:3*u}o=10-o%10,o===10&&(o=0),r.append(o)}}vn.GTIN_SIZE=40;class js extends vn{constructor(r){super(r)}parseInformation(){let r=new de;r.append("(01)");let s=r.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(js.HEADER_SIZE,4);return r.append(o),this.encodeCompressedGtinWithoutAI(r,js.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(r,js.HEADER_SIZE+44)}}js.HEADER_SIZE=4;class El extends Du{constructor(r){super(r)}parseInformation(){let r=new de;return this.getGeneralDecoder().decodeAllCodes(r,El.HEADER_SIZE)}}El.HEADER_SIZE=5;class Cl extends vn{constructor(r){super(r)}encodeCompressedWeight(r,s,o){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(s,o);this.addWeightCode(r,c);let u=this.checkWeight(c),d=1e5;for(let h=0;h<5;++h)u/d===0&&r.append("0"),d/=10;r.append(u)}}class _r extends Cl{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()!=_r.HEADER_SIZE+Cl.GTIN_SIZE+_r.WEIGHT_SIZE)throw new H;let r=new de;return this.encodeCompressedGtin(r,_r.HEADER_SIZE),this.encodeCompressedWeight(r,_r.HEADER_SIZE+Cl.GTIN_SIZE,_r.WEIGHT_SIZE),r.toString()}}_r.HEADER_SIZE=5,_r.WEIGHT_SIZE=15;class Pw extends _r{constructor(r){super(r)}addWeightCode(r,s){r.append("(3103)")}checkWeight(r){return r}}class Dw extends _r{constructor(r){super(r)}addWeightCode(r,s){s<1e4?r.append("(3202)"):r.append("(3203)")}checkWeight(r){return r<1e4?r:r-1e4}}class Sr extends vn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<Sr.HEADER_SIZE+vn.GTIN_SIZE)throw new H;let r=new de;this.encodeCompressedGtin(r,Sr.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Sr.HEADER_SIZE+vn.GTIN_SIZE,Sr.LAST_DIGIT_SIZE);r.append("(392"),r.append(s),r.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(Sr.HEADER_SIZE+vn.GTIN_SIZE+Sr.LAST_DIGIT_SIZE,null);return r.append(o.getNewString()),r.toString()}}Sr.HEADER_SIZE=8,Sr.LAST_DIGIT_SIZE=2;class cn extends vn{constructor(r){super(r)}parseInformation(){if(this.getInformation().getSize()<cn.HEADER_SIZE+vn.GTIN_SIZE)throw new H;let r=new de;this.encodeCompressedGtin(r,cn.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(cn.HEADER_SIZE+vn.GTIN_SIZE,cn.LAST_DIGIT_SIZE);r.append("(393"),r.append(s),r.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(cn.HEADER_SIZE+vn.GTIN_SIZE+cn.LAST_DIGIT_SIZE,cn.FIRST_THREE_DIGITS_SIZE);o/100==0&&r.append("0"),o/10==0&&r.append("0"),r.append(o);let c=this.getGeneralDecoder().decodeGeneralPurposeField(cn.HEADER_SIZE+vn.GTIN_SIZE+cn.LAST_DIGIT_SIZE+cn.FIRST_THREE_DIGITS_SIZE,null);return r.append(c.getNewString()),r.toString()}}cn.HEADER_SIZE=8,cn.LAST_DIGIT_SIZE=2,cn.FIRST_THREE_DIGITS_SIZE=10;class ut extends Cl{constructor(r,s,o){super(r),this.dateCode=o,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=ut.HEADER_SIZE+ut.GTIN_SIZE+ut.WEIGHT_SIZE+ut.DATE_SIZE)throw new H;let r=new de;return this.encodeCompressedGtin(r,ut.HEADER_SIZE),this.encodeCompressedWeight(r,ut.HEADER_SIZE+ut.GTIN_SIZE,ut.WEIGHT_SIZE),this.encodeCompressedDate(r,ut.HEADER_SIZE+ut.GTIN_SIZE+ut.WEIGHT_SIZE),r.toString()}encodeCompressedDate(r,s){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(s,ut.DATE_SIZE);if(o==38400)return;r.append("("),r.append(this.dateCode),r.append(")");let c=o%32;o/=32;let u=o%12+1;o/=12;let d=o;d/10==0&&r.append("0"),r.append(d),u/10==0&&r.append("0"),r.append(u),c/10==0&&r.append("0"),r.append(c)}addWeightCode(r,s){r.append("("),r.append(this.firstAIdigits),r.append(s/1e5),r.append(")")}checkWeight(r){return r%1e5}}ut.HEADER_SIZE=8,ut.WEIGHT_SIZE=20,ut.DATE_SIZE=16;function _0(A){try{if(A.get(1))return new js(A);if(!A.get(2))return new El(A);switch(Fs.extractNumericValueFromBitArray(A,1,4)){case 4:return new Pw(A);case 5:return new Dw(A)}switch(Fs.extractNumericValueFromBitArray(A,1,5)){case 12:return new Sr(A);case 13:return new cn(A)}switch(Fs.extractNumericValueFromBitArray(A,1,7)){case 56:return new ut(A,"310","11");case 57:return new ut(A,"320","11");case 58:return new ut(A,"310","13");case 59:return new ut(A,"320","13");case 60:return new ut(A,"310","15");case 61:return new ut(A,"320","15");case 62:return new ut(A,"310","17");case 63:return new ut(A,"320","17")}}catch(r){throw console.log(r),new an("unknown decoder: "+A)}}class si{constructor(r,s,o,c){this.leftchar=r,this.rightchar=s,this.finderpattern=o,this.maybeLast=c}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(r,s){return r instanceof si?si.equalsOrNull(r.leftchar,s.leftchar)&&si.equalsOrNull(r.rightchar,s.rightchar)&&si.equalsOrNull(r.finderpattern,s.finderpattern):!1}static equalsOrNull(r,s){return r===null?s===null:si.equals(r,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Mu{constructor(r,s,o){this.pairs=r,this.rowNumber=s,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(r){return this.checkEqualitity(this,r)}toString(){return"{ "+this.pairs+" }"}equals(r,s){return r instanceof Mu?this.checkEqualitity(r,s)&&r.wasReversed===s.wasReversed:!1}checkEqualitity(r,s){if(!r||!s)return;let o;return r.forEach((c,u)=>{s.forEach(d=>{c.getLeftChar().getValue()===d.getLeftChar().getValue()&&c.getRightChar().getValue()===d.getRightChar().getValue()&&c.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(o=!0)})}),o}}class J extends qt{constructor(r){super(...arguments),this.pairs=new Array(J.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=r===!0}decodeRow(r,s,o){this.pairs.length=0,this.startFromEven=!1;try{return J.constructResult(this.decodeRow2pairs(r,s))}catch(c){this.verbose&&console.log(c)}return this.pairs.length=0,this.startFromEven=!0,J.constructResult(this.decodeRow2pairs(r,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(r,s){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,r))}catch(u){if(u instanceof H){if(!this.pairs.length)throw new H;o=!0}}if(this.checkChecksum())return this.pairs;let c;if(this.rows.length?c=!0:c=!1,this.storeRow(r,!1),c){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new H}checkRowsBoolean(r){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,r&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return r&&(this.rows=this.rows.reverse()),s}checkRows(r,s){for(let o=s;o<this.rows.length;o++){let c=this.rows[o];this.pairs.length=0;for(let d of r)this.pairs.push(d.getPairs());if(this.pairs.push(c.getPairs()),!J.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(r);u.push(c);try{return this.checkRows(u,o+1)}catch(d){this.verbose&&console.log(d)}}throw new H}static isValidSequence(r){for(let s of J.FINDER_PATTERN_SEQUENCES){if(r.length>s.length)continue;let o=!0;for(let c=0;c<r.length;c++)if(r[c].getFinderPattern().getValue()!=s[c]){o=!1;break}if(o)return!0}return!1}storeRow(r,s){let o=0,c=!1,u=!1;for(;o<this.rows.length;){let d=this.rows[o];if(d.getRowNumber()>r){u=d.isEquivalent(this.pairs);break}c=d.isEquivalent(this.pairs),o++}u||c||J.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new Mu(this.pairs,r,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(r,s){for(let o of s)if(o.getPairs().length!==r.length){for(let c of o.getPairs())for(let u of r)if(si.equals(c,u))break}}static isPartialRow(r,s){for(let o of s){let c=!0;for(let u of r){let d=!1;for(let h of o.getPairs())if(u.equals(h)){d=!0;break}if(!d){c=!1;break}}if(c)return!0}return!1}getRows(){return this.rows}static constructResult(r){let s=kw.buildBitArray(r),c=_0(s).parseInformation(),u=r[0].getFinderPattern().getResultPoints(),d=r[r.length-1].getFinderPattern().getResultPoints(),h=[u[0],u[1],d[0],d[1]];return new De(c,null,null,h,le.RSS_EXPANDED,null)}checkChecksum(){let r=this.pairs.get(0),s=r.getLeftChar(),o=r.getRightChar();if(o==null)return!1;let c=o.getChecksumPortion(),u=2;for(let h=1;h<this.pairs.size();++h){let m=this.pairs.get(h);c+=m.getLeftChar().getChecksumPortion(),u++;let w=m.getRightChar();w!=null&&(c+=w.getChecksumPortion(),u++)}return c%=211,211*(u-4)+c==s.getValue()}static getNextSecondBar(r,s){let o;return r.get(s)?(o=r.getNextUnset(s),o=r.getNextSet(o)):(o=r.getNextSet(s),o=r.getNextUnset(o)),o}retrieveNextPair(r,s,o){let c=s.length%2==0;this.startFromEven&&(c=!c);let u,d=!0,h=-1;do this.findNextPair(r,s,h),u=this.parseFoundFinderPattern(r,o,c),u==null?h=J.getNextSecondBar(r,this.startEnd[0]):d=!1;while(d);let m=this.decodeDataCharacter(r,u,c,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new H;let w;try{w=this.decodeDataCharacter(r,u,c,!1)}catch(C){w=null,this.verbose&&console.log(C)}return new si(m,w,u,!0)}isEmptyPair(r){return r.length===0}findNextPair(r,s,o){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let u=r.getSize(),d;o>=0?d=o:this.isEmptyPair(s)?d=0:d=s[s.length-1].getFinderPattern().getStartEnd()[1];let h=s.length%2!=0;this.startFromEven&&(h=!h);let m=!1;for(;d<u&&(m=!r.get(d),!!m);)d++;let w=0,C=d;for(let b=d;b<u;b++)if(r.get(b)!=m)c[w]++;else{if(w==3){if(h&&J.reverseCounters(c),J.isFinderPattern(c)){this.startEnd[0]=C,this.startEnd[1]=b;return}h&&J.reverseCounters(c),C+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,w--}else w++;c[w]=1,m=!m}throw new H}static reverseCounters(r){let s=r.length;for(let o=0;o<s/2;++o){let c=r[o];r[o]=r[s-o-1],r[s-o-1]=c}}parseFoundFinderPattern(r,s,o){let c,u,d;if(o){let w=this.startEnd[0]-1;for(;w>=0&&!r.get(w);)w--;w++,c=this.startEnd[0]-w,u=w,d=this.startEnd[1]}else u=this.startEnd[0],d=r.getNextUnset(this.startEnd[1]+1),c=d-this.startEnd[1];let h=this.getDecodeFinderCounters();N.arraycopy(h,0,h,1,h.length-1),h[0]=c;let m;try{m=this.parseFinderValue(h,J.FINDER_PATTERNS)}catch{return null}return new vl(m,[u,d],u,d,s)}decodeDataCharacter(r,s,o,c){let u=this.getDataCharacterCounters();for(let et=0;et<u.length;et++)u[et]=0;if(c)J.recordPatternInReverse(r,s.getStartEnd()[0],u);else{J.recordPattern(r,s.getStartEnd()[1],u);for(let et=0,Wt=u.length-1;et<Wt;et++,Wt--){let Pn=u[et];u[et]=u[Wt],u[Wt]=Pn}}let d=17,h=Ae.sum(new Int32Array(u))/d,m=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(h-m)/m>.3)throw new H;let w=this.getOddCounts(),C=this.getEvenCounts(),b=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let et=0;et<u.length;et++){let Wt=1*u[et]/h,Pn=Wt+.5;if(Pn<1){if(Wt<.3)throw new H;Pn=1}else if(Pn>8){if(Wt>8.7)throw new H;Pn=8}let Ws=et/2;et&1?(C[Ws]=Pn,T[Ws]=Wt-Pn):(w[Ws]=Pn,b[Ws]=Wt-Pn)}this.adjustOddEvenCounts(d);let P=4*s.getValue()+(o?0:2)+(c?0:1)-1,F=0,j=0;for(let et=w.length-1;et>=0;et--){if(J.isNotA1left(s,o,c)){let Wt=J.WEIGHTS[P][2*et];j+=w[et]*Wt}F+=w[et]}let V=0;for(let et=C.length-1;et>=0;et--)if(J.isNotA1left(s,o,c)){let Wt=J.WEIGHTS[P][2*et+1];V+=C[et]*Wt}let Y=j+V;if(F&1||F>13||F<4)throw new H;let ne=(13-F)/2,ie=J.SYMBOL_WIDEST[ne],ee=9-ie,je=br.getRSSvalue(w,ie,!0),Ne=br.getRSSvalue(C,ee,!1),Cn=J.EVEN_TOTAL_SUBSET[ne],cr=J.GSUM[ne],An=je*Cn+Ne+cr;return new Bs(An,Y)}static isNotA1left(r,s,o){return!(r.getValue()==0&&s&&o)}adjustOddEvenCounts(r){let s=Ae.sum(new Int32Array(this.getOddCounts())),o=Ae.sum(new Int32Array(this.getEvenCounts())),c=!1,u=!1;s>13?u=!0:s<4&&(c=!0);let d=!1,h=!1;o>13?h=!0:o<4&&(d=!0);let m=s+o-r,w=(s&1)==1,C=(o&1)==0;if(m==1)if(w){if(C)throw new H;u=!0}else{if(!C)throw new H;h=!0}else if(m==-1)if(w){if(C)throw new H;c=!0}else{if(!C)throw new H;d=!0}else if(m==0){if(w){if(!C)throw new H;s<o?(c=!0,h=!0):(u=!0,d=!0)}else if(C)throw new H}else throw new H;if(c){if(u)throw new H;J.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&J.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(h)throw new H;J.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&J.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}J.SYMBOL_WIDEST=[7,5,4,3,1],J.EVEN_TOTAL_SUBSET=[4,20,52,104,204],J.GSUM=[0,348,1388,2948,3988],J.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],J.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],J.FINDER_PAT_A=0,J.FINDER_PAT_B=1,J.FINDER_PAT_C=2,J.FINDER_PAT_D=3,J.FINDER_PAT_E=4,J.FINDER_PAT_F=5,J.FINDER_PATTERN_SEQUENCES=[[J.FINDER_PAT_A,J.FINDER_PAT_A],[J.FINDER_PAT_A,J.FINDER_PAT_B,J.FINDER_PAT_B],[J.FINDER_PAT_A,J.FINDER_PAT_C,J.FINDER_PAT_B,J.FINDER_PAT_D],[J.FINDER_PAT_A,J.FINDER_PAT_E,J.FINDER_PAT_B,J.FINDER_PAT_D,J.FINDER_PAT_C],[J.FINDER_PAT_A,J.FINDER_PAT_E,J.FINDER_PAT_B,J.FINDER_PAT_D,J.FINDER_PAT_D,J.FINDER_PAT_F],[J.FINDER_PAT_A,J.FINDER_PAT_E,J.FINDER_PAT_B,J.FINDER_PAT_D,J.FINDER_PAT_E,J.FINDER_PAT_F,J.FINDER_PAT_F],[J.FINDER_PAT_A,J.FINDER_PAT_A,J.FINDER_PAT_B,J.FINDER_PAT_B,J.FINDER_PAT_C,J.FINDER_PAT_C,J.FINDER_PAT_D,J.FINDER_PAT_D],[J.FINDER_PAT_A,J.FINDER_PAT_A,J.FINDER_PAT_B,J.FINDER_PAT_B,J.FINDER_PAT_C,J.FINDER_PAT_C,J.FINDER_PAT_D,J.FINDER_PAT_E,J.FINDER_PAT_E],[J.FINDER_PAT_A,J.FINDER_PAT_A,J.FINDER_PAT_B,J.FINDER_PAT_B,J.FINDER_PAT_C,J.FINDER_PAT_C,J.FINDER_PAT_D,J.FINDER_PAT_E,J.FINDER_PAT_F,J.FINDER_PAT_F],[J.FINDER_PAT_A,J.FINDER_PAT_A,J.FINDER_PAT_B,J.FINDER_PAT_B,J.FINDER_PAT_C,J.FINDER_PAT_D,J.FINDER_PAT_D,J.FINDER_PAT_E,J.FINDER_PAT_E,J.FINDER_PAT_F,J.FINDER_PAT_F]],J.MAX_PAIRS=11;class Mw extends Bs{constructor(r,s,o){super(r,s),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class yt extends qt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(r,s,o){const c=this.decodePair(s,!1,r,o);yt.addOrTally(this.possibleLeftPairs,c),s.reverse();let u=this.decodePair(s,!0,r,o);yt.addOrTally(this.possibleRightPairs,u),s.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let h of this.possibleRightPairs)if(h.getCount()>1&&yt.checkChecksum(d,h))return yt.constructResult(d,h)}throw new H}static addOrTally(r,s){if(s==null)return;let o=!1;for(let c of r)if(c.getValue()===s.getValue()){c.incrementCount(),o=!0;break}o||r.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(r,s){let o=4537077*r.getValue()+s.getValue(),c=new String(o).toString(),u=new de;for(let w=13-c.length;w>0;w--)u.append("0");u.append(c);let d=0;for(let w=0;w<13;w++){let C=u.charAt(w).charCodeAt(0)-48;d+=w&1?C:3*C}d=10-d%10,d===10&&(d=0),u.append(d.toString());let h=r.getFinderPattern().getResultPoints(),m=s.getFinderPattern().getResultPoints();return new De(u.toString(),null,0,[h[0],h[1],m[0],m[1]],le.RSS_14,new Date().getTime())}static checkChecksum(r,s){let o=(r.getChecksumPortion()+16*s.getChecksumPortion())%79,c=9*r.getFinderPattern().getValue()+s.getFinderPattern().getValue();return c>72&&c--,c>8&&c--,o===c}decodePair(r,s,o,c){try{let u=this.findFinderPattern(r,s),d=this.parseFoundFinderPattern(r,o,s,u),h=c==null?null:c.get(G.NEED_RESULT_POINT_CALLBACK);if(h!=null){let C=(u[0]+u[1])/2;s&&(C=r.getSize()-1-C),h.foundPossibleResultPoint(new ye(C,o))}let m=this.decodeDataCharacter(r,d,!0),w=this.decodeDataCharacter(r,d,!1);return new Mw(1597*m.getValue()+w.getValue(),m.getChecksumPortion()+4*w.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(r,s,o){let c=this.getDataCharacterCounters();for(let V=0;V<c.length;V++)c[V]=0;if(o)ft.recordPatternInReverse(r,s.getStartEnd()[0],c);else{ft.recordPattern(r,s.getStartEnd()[1]+1,c);for(let V=0,Y=c.length-1;V<Y;V++,Y--){let ne=c[V];c[V]=c[Y],c[Y]=ne}}let u=o?16:15,d=Ae.sum(new Int32Array(c))/u,h=this.getOddCounts(),m=this.getEvenCounts(),w=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let V=0;V<c.length;V++){let Y=c[V]/d,ne=Math.floor(Y+.5);ne<1?ne=1:ne>8&&(ne=8);let ie=Math.floor(V/2);V&1?(m[ie]=ne,C[ie]=Y-ne):(h[ie]=ne,w[ie]=Y-ne)}this.adjustOddEvenCounts(o,u);let b=0,T=0;for(let V=h.length-1;V>=0;V--)T*=9,T+=h[V],b+=h[V];let P=0,F=0;for(let V=m.length-1;V>=0;V--)P*=9,P+=m[V],F+=m[V];let j=T+3*P;if(o){if(b&1||b>12||b<4)throw new H;let V=(12-b)/2,Y=yt.OUTSIDE_ODD_WIDEST[V],ne=9-Y,ie=br.getRSSvalue(h,Y,!1),ee=br.getRSSvalue(m,ne,!0),je=yt.OUTSIDE_EVEN_TOTAL_SUBSET[V],Ne=yt.OUTSIDE_GSUM[V];return new Bs(ie*je+ee+Ne,j)}else{if(F&1||F>10||F<4)throw new H;let V=(10-F)/2,Y=yt.INSIDE_ODD_WIDEST[V],ne=9-Y,ie=br.getRSSvalue(h,Y,!0),ee=br.getRSSvalue(m,ne,!1),je=yt.INSIDE_ODD_TOTAL_SUBSET[V],Ne=yt.INSIDE_GSUM[V];return new Bs(ee*je+ie+Ne,j)}}findFinderPattern(r,s){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let c=r.getSize(),u=!1,d=0;for(;d<c&&(u=!r.get(d),s!==u);)d++;let h=0,m=d;for(let w=d;w<c;w++)if(r.get(w)!==u)o[h]++;else{if(h===3){if(qt.isFinderPattern(o))return[m,w];m+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,h--}else h++;o[h]=1,u=!u}throw new H}parseFoundFinderPattern(r,s,o,c){let u=r.get(c[0]),d=c[0]-1;for(;d>=0&&u!==r.get(d);)d--;d++;const h=c[0]-d,m=this.getDecodeFinderCounters(),w=new Int32Array(m.length);N.arraycopy(m,0,w,1,m.length-1),w[0]=h;const C=this.parseFinderValue(w,yt.FINDER_PATTERNS);let b=d,T=c[1];return o&&(b=r.getSize()-1-b,T=r.getSize()-1-T),new vl(C,[d,c[1]],b,T,s)}adjustOddEvenCounts(r,s){let o=Ae.sum(new Int32Array(this.getOddCounts())),c=Ae.sum(new Int32Array(this.getEvenCounts())),u=!1,d=!1,h=!1,m=!1;r?(o>12?d=!0:o<4&&(u=!0),c>12?m=!0:c<4&&(h=!0)):(o>11?d=!0:o<5&&(u=!0),c>10?m=!0:c<4&&(h=!0));let w=o+c-s,C=(o&1)===(r?1:0),b=(c&1)===1;if(w===1)if(C){if(b)throw new H;d=!0}else{if(!b)throw new H;m=!0}else if(w===-1)if(C){if(b)throw new H;u=!0}else{if(!b)throw new H;h=!0}else if(w===0){if(C){if(!b)throw new H;o<c?(u=!0,m=!0):(d=!0,h=!0)}else if(b)throw new H}else throw new H;if(u){if(d)throw new H;qt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&qt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(m)throw new H;qt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&qt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}yt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],yt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],yt.OUTSIDE_GSUM=[0,161,961,2015,2715],yt.INSIDE_GSUM=[0,336,1036,1516],yt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],yt.INSIDE_ODD_WIDEST=[2,4,6,8],yt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Us extends ft{constructor(r,s){super(),this.readers=[],this.verbose=s===!0;const o=r?r.get(G.POSSIBLE_FORMATS):null,c=r&&r.get(G.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(le.EAN_13)||o.includes(le.UPC_A)||o.includes(le.EAN_8)||o.includes(le.UPC_E))&&this.readers.push(new ku(r)),o.includes(le.CODE_39)&&this.readers.push(new ht(c)),o.includes(le.CODE_128)&&this.readers.push(new oe),o.includes(le.ITF)&&this.readers.push(new Fe),o.includes(le.RSS_14)&&this.readers.push(new yt),o.includes(le.RSS_EXPANDED)&&this.readers.push(new J(this.verbose))):(this.readers.push(new ku(r)),this.readers.push(new ht),this.readers.push(new ku(r)),this.readers.push(new oe),this.readers.push(new Fe),this.readers.push(new yt),this.readers.push(new J(this.verbose)))}decodeRow(r,s,o){for(let c=0;c<this.readers.length;c++)try{return this.readers[c].decodeRow(r,s,o)}catch{}throw new H}reset(){this.readers.forEach(r=>r.reset())}}class Lw extends Te{constructor(r=500,s){super(new Us(s),r,s)}}class $e{constructor(r,s,o){this.ecCodewords=r,this.ecBlocks=[s],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class We{constructor(r,s){this.count=r,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ze{constructor(r,s,o,c,u,d){this.versionNumber=r,this.symbolSizeRows=s,this.symbolSizeColumns=o,this.dataRegionSizeRows=c,this.dataRegionSizeColumns=u,this.ecBlocks=d;let h=0;const m=d.getECCodewords(),w=d.getECBlocks();for(let C of w)h+=C.getCount()*(C.getDataCodewords()+m);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(r,s){if(r&1||s&1)throw new U;for(let o of ze.VERSIONS)if(o.symbolSizeRows===r&&o.symbolSizeColumns===s)return o;throw new U}toString(){return""+this.versionNumber}static buildVersions(){return[new ze(1,10,10,8,8,new $e(5,new We(1,3))),new ze(2,12,12,10,10,new $e(7,new We(1,5))),new ze(3,14,14,12,12,new $e(10,new We(1,8))),new ze(4,16,16,14,14,new $e(12,new We(1,12))),new ze(5,18,18,16,16,new $e(14,new We(1,18))),new ze(6,20,20,18,18,new $e(18,new We(1,22))),new ze(7,22,22,20,20,new $e(20,new We(1,30))),new ze(8,24,24,22,22,new $e(24,new We(1,36))),new ze(9,26,26,24,24,new $e(28,new We(1,44))),new ze(10,32,32,14,14,new $e(36,new We(1,62))),new ze(11,36,36,16,16,new $e(42,new We(1,86))),new ze(12,40,40,18,18,new $e(48,new We(1,114))),new ze(13,44,44,20,20,new $e(56,new We(1,144))),new ze(14,48,48,22,22,new $e(68,new We(1,174))),new ze(15,52,52,24,24,new $e(42,new We(2,102))),new ze(16,64,64,14,14,new $e(56,new We(2,140))),new ze(17,72,72,16,16,new $e(36,new We(4,92))),new ze(18,80,80,18,18,new $e(48,new We(4,114))),new ze(19,88,88,20,20,new $e(56,new We(4,144))),new ze(20,96,96,22,22,new $e(68,new We(4,174))),new ze(21,104,104,24,24,new $e(56,new We(6,136))),new ze(22,120,120,18,18,new $e(68,new We(6,175))),new ze(23,132,132,20,20,new $e(62,new We(8,163))),new ze(24,144,144,22,22,new $e(62,new We(8,156),new We(2,155))),new ze(25,8,18,6,16,new $e(7,new We(1,5))),new ze(26,8,32,6,14,new $e(11,new We(1,10))),new ze(27,12,26,10,24,new $e(14,new We(1,16))),new ze(28,12,36,10,16,new $e(18,new We(1,22))),new ze(29,16,36,14,16,new $e(24,new We(1,32))),new ze(30,16,48,14,22,new $e(28,new We(1,49)))]}}ze.VERSIONS=ze.buildVersions();class Lu{constructor(r){const s=r.getHeight();if(s<8||s>144||s&1)throw new U;this.version=Lu.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new se(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(r){const s=r.getHeight(),o=r.getWidth();return ze.getVersionForDimensions(s,o)}readCodewords(){const r=new Int8Array(this.version.getTotalCodewords());let s=0,o=4,c=0;const u=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let h=!1,m=!1,w=!1,C=!1;do if(o===u&&c===0&&!h)r[s++]=this.readCorner1(u,d)&255,o-=2,c+=2,h=!0;else if(o===u-2&&c===0&&d&3&&!m)r[s++]=this.readCorner2(u,d)&255,o-=2,c+=2,m=!0;else if(o===u+4&&c===2&&!(d&7)&&!w)r[s++]=this.readCorner3(u,d)&255,o-=2,c+=2,w=!0;else if(o===u-2&&c===0&&(d&7)===4&&!C)r[s++]=this.readCorner4(u,d)&255,o-=2,c+=2,C=!0;else{do o<u&&c>=0&&!this.readMappingMatrix.get(c,o)&&(r[s++]=this.readUtah(o,c,u,d)&255),o-=2,c+=2;while(o>=0&&c<d);o+=1,c+=3;do o>=0&&c<d&&!this.readMappingMatrix.get(c,o)&&(r[s++]=this.readUtah(o,c,u,d)&255),o+=2,c-=2;while(o<u&&c>=0);o+=3,c+=1}while(o<u||c<d);if(s!==this.version.getTotalCodewords())throw new U;return r}readModule(r,s,o,c){return r<0&&(r+=o,s+=4-(o+4&7)),s<0&&(s+=c,r+=4-(c+4&7)),this.readMappingMatrix.set(s,r),this.mappingBitMatrix.get(s,r)}readUtah(r,s,o,c){let u=0;return this.readModule(r-2,s-2,o,c)&&(u|=1),u<<=1,this.readModule(r-2,s-1,o,c)&&(u|=1),u<<=1,this.readModule(r-1,s-2,o,c)&&(u|=1),u<<=1,this.readModule(r-1,s-1,o,c)&&(u|=1),u<<=1,this.readModule(r-1,s,o,c)&&(u|=1),u<<=1,this.readModule(r,s-2,o,c)&&(u|=1),u<<=1,this.readModule(r,s-1,o,c)&&(u|=1),u<<=1,this.readModule(r,s,o,c)&&(u|=1),u}readCorner1(r,s){let o=0;return this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,1,r,s)&&(o|=1),o<<=1,this.readModule(r-1,2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o<<=1,this.readModule(2,s-1,r,s)&&(o|=1),o<<=1,this.readModule(3,s-1,r,s)&&(o|=1),o}readCorner2(r,s){let o=0;return this.readModule(r-3,0,r,s)&&(o|=1),o<<=1,this.readModule(r-2,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(0,s-4,r,s)&&(o|=1),o<<=1,this.readModule(0,s-3,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o}readCorner3(r,s){let o=0;return this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,s-1,r,s)&&(o|=1),o<<=1,this.readModule(0,s-3,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-3,r,s)&&(o|=1),o<<=1,this.readModule(1,s-2,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o}readCorner4(r,s){let o=0;return this.readModule(r-3,0,r,s)&&(o|=1),o<<=1,this.readModule(r-2,0,r,s)&&(o|=1),o<<=1,this.readModule(r-1,0,r,s)&&(o|=1),o<<=1,this.readModule(0,s-2,r,s)&&(o|=1),o<<=1,this.readModule(0,s-1,r,s)&&(o|=1),o<<=1,this.readModule(1,s-1,r,s)&&(o|=1),o<<=1,this.readModule(2,s-1,r,s)&&(o|=1),o<<=1,this.readModule(3,s-1,r,s)&&(o|=1),o}extractDataRegion(r){const s=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(r.getHeight()!==s)throw new v("Dimension of bitMatrix must match the version size");const c=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),d=s/c|0,h=o/u|0,m=d*c,w=h*u,C=new se(w,m);for(let b=0;b<d;++b){const T=b*c;for(let P=0;P<h;++P){const F=P*u;for(let j=0;j<c;++j){const V=b*(c+2)+1+j,Y=T+j;for(let ne=0;ne<u;++ne){const ie=P*(u+2)+1+ne;if(r.get(ie,V)){const ee=F+ne;C.set(ee,Y)}}}}}return C}}class Bu{constructor(r,s){this.numDataCodewords=r,this.codewords=s}static getDataBlocks(r,s){const o=s.getECBlocks();let c=0;const u=o.getECBlocks();for(let j of u)c+=j.getCount();const d=new Array(c);let h=0;for(let j of u)for(let V=0;V<j.getCount();V++){const Y=j.getDataCodewords(),ne=o.getECCodewords()+Y;d[h++]=new Bu(Y,new Uint8Array(ne))}const w=d[0].codewords.length-o.getECCodewords(),C=w-1;let b=0;for(let j=0;j<C;j++)for(let V=0;V<h;V++)d[V].codewords[j]=r[b++];const T=s.getVersionNumber()===24,P=T?8:h;for(let j=0;j<P;j++)d[j].codewords[w-1]=r[b++];const F=d[0].codewords.length;for(let j=w;j<F;j++)for(let V=0;V<h;V++){const Y=T?(V+8)%h:V,ne=T&&Y>7?j-1:j;d[Y].codewords[ne]=r[b++]}if(b!==r.length)throw new v;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Fu{constructor(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(r){if(r<1||r>32||r>this.available())throw new v(""+r);let s=0,o=this.bitOffset,c=this.byteOffset;const u=this.bytes;if(o>0){const d=8-o,h=r<d?r:d,m=d-h,w=255>>8-h<<m;s=(u[c]&w)>>m,r-=h,o+=h,o===8&&(o=0,c++)}if(r>0){for(;r>=8;)s=s<<8|u[c]&255,c++,r-=8;if(r>0){const d=8-r,h=255>>d<<d;s=s<<r|(u[c]&h)>>d,o+=r}}return this.bitOffset=o,this.byteOffset=c,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Rt;(function(A){A[A.PAD_ENCODE=0]="PAD_ENCODE",A[A.ASCII_ENCODE=1]="ASCII_ENCODE",A[A.C40_ENCODE=2]="C40_ENCODE",A[A.TEXT_ENCODE=3]="TEXT_ENCODE",A[A.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",A[A.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",A[A.BASE256_ENCODE=6]="BASE256_ENCODE"})(Rt||(Rt={}));class oi{static decode(r){const s=new Fu(r),o=new de,c=new de,u=new Array;let d=Rt.ASCII_ENCODE;do if(d===Rt.ASCII_ENCODE)d=this.decodeAsciiSegment(s,o,c);else{switch(d){case Rt.C40_ENCODE:this.decodeC40Segment(s,o);break;case Rt.TEXT_ENCODE:this.decodeTextSegment(s,o);break;case Rt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,o);break;case Rt.EDIFACT_ENCODE:this.decodeEdifactSegment(s,o);break;case Rt.BASE256_ENCODE:this.decodeBase256Segment(s,o,u);break;default:throw new U}d=Rt.ASCII_ENCODE}while(d!==Rt.PAD_ENCODE&&s.available()>0);return c.length()>0&&o.append(c.toString()),new mn(r,o.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(r,s,o){let c=!1;do{let u=r.readBits(8);if(u===0)throw new U;if(u<=128)return c&&(u+=128),s.append(String.fromCharCode(u-1)),Rt.ASCII_ENCODE;if(u===129)return Rt.PAD_ENCODE;if(u<=229){const d=u-130;d<10&&s.append("0"),s.append(""+d)}else switch(u){case 230:return Rt.C40_ENCODE;case 231:return Rt.BASE256_ENCODE;case 232:s.append("");break;case 233:case 234:break;case 235:c=!0;break;case 236:s.append("[)>05"),o.insert(0,"");break;case 237:s.append("[)>06"),o.insert(0,"");break;case 238:return Rt.ANSIX12_ENCODE;case 239:return Rt.TEXT_ENCODE;case 240:return Rt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||r.available()!==0)throw new U;break}}while(r.available()>0);return Rt.ASCII_ENCODE}static decodeC40Segment(r,s){let o=!1;const c=[];let u=0;do{if(r.available()===8)return;const d=r.readBits(8);if(d===254)return;this.parseTwoBytes(d,r.readBits(8),c);for(let h=0;h<3;h++){const m=c[h];switch(u){case 0:if(m<3)u=m+1;else if(m<this.C40_BASIC_SET_CHARS.length){const w=this.C40_BASIC_SET_CHARS[m];o?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):s.append(w)}else throw new U;break;case 1:o?(s.append(String.fromCharCode(m+128)),o=!1):s.append(String.fromCharCode(m)),u=0;break;case 2:if(m<this.C40_SHIFT2_SET_CHARS.length){const w=this.C40_SHIFT2_SET_CHARS[m];o?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):s.append(w)}else switch(m){case 27:s.append("");break;case 30:o=!0;break;default:throw new U}u=0;break;case 3:o?(s.append(String.fromCharCode(m+224)),o=!1):s.append(String.fromCharCode(m+96)),u=0;break;default:throw new U}}}while(r.available()>0)}static decodeTextSegment(r,s){let o=!1,c=[],u=0;do{if(r.available()===8)return;const d=r.readBits(8);if(d===254)return;this.parseTwoBytes(d,r.readBits(8),c);for(let h=0;h<3;h++){const m=c[h];switch(u){case 0:if(m<3)u=m+1;else if(m<this.TEXT_BASIC_SET_CHARS.length){const w=this.TEXT_BASIC_SET_CHARS[m];o?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):s.append(w)}else throw new U;break;case 1:o?(s.append(String.fromCharCode(m+128)),o=!1):s.append(String.fromCharCode(m)),u=0;break;case 2:if(m<this.TEXT_SHIFT2_SET_CHARS.length){const w=this.TEXT_SHIFT2_SET_CHARS[m];o?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):s.append(w)}else switch(m){case 27:s.append("");break;case 30:o=!0;break;default:throw new U}u=0;break;case 3:if(m<this.TEXT_SHIFT3_SET_CHARS.length){const w=this.TEXT_SHIFT3_SET_CHARS[m];o?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),o=!1):s.append(w),u=0}else throw new U;break;default:throw new U}}}while(r.available()>0)}static decodeAnsiX12Segment(r,s){const o=[];do{if(r.available()===8)return;const c=r.readBits(8);if(c===254)return;this.parseTwoBytes(c,r.readBits(8),o);for(let u=0;u<3;u++){const d=o[u];switch(d){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(d<14)s.append(String.fromCharCode(d+44));else if(d<40)s.append(String.fromCharCode(d+51));else throw new U;break}}}while(r.available()>0)}static parseTwoBytes(r,s,o){let c=(r<<8)+s-1,u=Math.floor(c/1600);o[0]=u,c-=u*1600,u=Math.floor(c/40),o[1]=u,o[2]=c-u*40}static decodeEdifactSegment(r,s){do{if(r.available()<=16)return;for(let o=0;o<4;o++){let c=r.readBits(6);if(c===31){const u=8-r.getBitOffset();u!==8&&r.readBits(u);return}c&32||(c|=64),s.append(String.fromCharCode(c))}}while(r.available()>0)}static decodeBase256Segment(r,s,o){let c=1+r.getByteOffset();const u=this.unrandomize255State(r.readBits(8),c++);let d;if(u===0?d=r.available()/8|0:u<250?d=u:d=250*(u-249)+this.unrandomize255State(r.readBits(8),c++),d<0)throw new U;const h=new Uint8Array(d);for(let m=0;m<d;m++){if(r.available()<8)throw new U;h[m]=this.unrandomize255State(r.readBits(8),c++)}o.push(h);try{s.append(ve.decode(h,Q.ISO88591))}catch(m){throw new an("Platform does not support required encoding: "+m.message)}}static unrandomize255State(r,s){const o=149*s%255+1,c=r-o;return c>=0?c:c+256}}oi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],oi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],oi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],oi.TEXT_SHIFT2_SET_CHARS=oi.C40_SHIFT2_SET_CHARS,oi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Bw{constructor(){this.rsDecoder=new wn(Me.DATA_MATRIX_FIELD_256)}decode(r){const s=new Lu(r),o=s.getVersion(),c=s.readCodewords(),u=Bu.getDataBlocks(c,o);let d=0;for(let w of u)d+=w.getNumDataCodewords();const h=new Uint8Array(d),m=u.length;for(let w=0;w<m;w++){const C=u[w],b=C.getCodewords(),T=C.getNumDataCodewords();this.correctErrors(b,T);for(let P=0;P<T;P++)h[P*m+w]=b[P]}return oi.decode(h)}correctErrors(r,s){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-s)}catch{throw new _}for(let c=0;c<s;c++)r[c]=o[c]}}class _t{constructor(r){this.image=r,this.rectangleDetector=new or(this.image)}detect(){const r=this.rectangleDetector.detect();let s=this.detectSolid1(r);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new H;s=this.shiftToModuleCenter(s);const o=s[0],c=s[1],u=s[2],d=s[3];let h=this.transitionsBetween(o,d)+1,m=this.transitionsBetween(u,d)+1;(h&1)===1&&(h+=1),(m&1)===1&&(m+=1),4*h<7*m&&4*m<7*h&&(h=m=Math.max(h,m));let w=_t.sampleGrid(this.image,o,c,u,d,h,m);return new Ds(w,[o,c,u,d])}static shiftPoint(r,s,o){let c=(s.getX()-r.getX())/(o+1),u=(s.getY()-r.getY())/(o+1);return new ye(r.getX()+c,r.getY()+u)}static moveAway(r,s,o){let c=r.getX(),u=r.getY();return c<s?c-=1:c+=1,u<o?u-=1:u+=1,new ye(c,u)}detectSolid1(r){let s=r[0],o=r[1],c=r[3],u=r[2],d=this.transitionsBetween(s,o),h=this.transitionsBetween(o,c),m=this.transitionsBetween(c,u),w=this.transitionsBetween(u,s),C=d,b=[u,s,o,c];return C>h&&(C=h,b[0]=s,b[1]=o,b[2]=c,b[3]=u),C>m&&(C=m,b[0]=o,b[1]=c,b[2]=u,b[3]=s),C>w&&(b[0]=c,b[1]=u,b[2]=s,b[3]=o),b}detectSolid2(r){let s=r[0],o=r[1],c=r[2],u=r[3],d=this.transitionsBetween(s,u),h=_t.shiftPoint(o,c,(d+1)*4),m=_t.shiftPoint(c,o,(d+1)*4),w=this.transitionsBetween(h,s),C=this.transitionsBetween(m,u);return w<C?(r[0]=s,r[1]=o,r[2]=c,r[3]=u):(r[0]=o,r[1]=c,r[2]=u,r[3]=s),r}correctTopRight(r){let s=r[0],o=r[1],c=r[2],u=r[3],d=this.transitionsBetween(s,u),h=this.transitionsBetween(o,u),m=_t.shiftPoint(s,o,(h+1)*4),w=_t.shiftPoint(c,o,(d+1)*4);d=this.transitionsBetween(m,u),h=this.transitionsBetween(w,u);let C=new ye(u.getX()+(c.getX()-o.getX())/(d+1),u.getY()+(c.getY()-o.getY())/(d+1)),b=new ye(u.getX()+(s.getX()-o.getX())/(h+1),u.getY()+(s.getY()-o.getY())/(h+1));if(!this.isValid(C))return this.isValid(b)?b:null;if(!this.isValid(b))return C;let T=this.transitionsBetween(m,C)+this.transitionsBetween(w,C),P=this.transitionsBetween(m,b)+this.transitionsBetween(w,b);return T>P?C:b}shiftToModuleCenter(r){let s=r[0],o=r[1],c=r[2],u=r[3],d=this.transitionsBetween(s,u)+1,h=this.transitionsBetween(c,u)+1,m=_t.shiftPoint(s,o,h*4),w=_t.shiftPoint(c,o,d*4);d=this.transitionsBetween(m,u)+1,h=this.transitionsBetween(w,u)+1,(d&1)===1&&(d+=1),(h&1)===1&&(h+=1);let C=(s.getX()+o.getX()+c.getX()+u.getX())/4,b=(s.getY()+o.getY()+c.getY()+u.getY())/4;s=_t.moveAway(s,C,b),o=_t.moveAway(o,C,b),c=_t.moveAway(c,C,b),u=_t.moveAway(u,C,b);let T,P;return m=_t.shiftPoint(s,o,h*4),m=_t.shiftPoint(m,u,d*4),T=_t.shiftPoint(o,s,h*4),T=_t.shiftPoint(T,c,d*4),w=_t.shiftPoint(c,u,h*4),w=_t.shiftPoint(w,o,d*4),P=_t.shiftPoint(u,c,h*4),P=_t.shiftPoint(P,s,d*4),[m,T,w,P]}isValid(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()}static sampleGrid(r,s,o,c,u,d,h){return ar.getInstance().sampleGrid(r,d,h,.5,.5,d-.5,.5,d-.5,h-.5,.5,h-.5,s.getX(),s.getY(),u.getX(),u.getY(),c.getX(),c.getY(),o.getX(),o.getY())}transitionsBetween(r,s){let o=Math.trunc(r.getX()),c=Math.trunc(r.getY()),u=Math.trunc(s.getX()),d=Math.trunc(s.getY()),h=Math.abs(d-c)>Math.abs(u-o);if(h){let j=o;o=c,c=j,j=u,u=d,d=j}let m=Math.abs(u-o),w=Math.abs(d-c),C=-m/2,b=c<d?1:-1,T=o<u?1:-1,P=0,F=this.image.get(h?c:o,h?o:c);for(let j=o,V=c;j!==u;j+=T){let Y=this.image.get(h?V:j,h?j:V);if(Y!==F&&(P++,F=Y),C+=w,C>0){if(V===d)break;V+=b,C-=m}}return P}}class ai{constructor(){this.decoder=new Bw}decode(r,s=null){let o,c;if(s!=null&&s.has(G.PURE_BARCODE)){const w=ai.extractPureBits(r.getBlackMatrix());o=this.decoder.decode(w),c=ai.NO_POINTS}else{const w=new _t(r.getBlackMatrix()).detect();o=this.decoder.decode(w.getBits()),c=w.getPoints()}const u=o.getRawBytes(),d=new De(o.getText(),u,8*u.length,c,le.DATA_MATRIX,N.currentTimeMillis()),h=o.getByteSegments();h!=null&&d.putMetadata(Qe.BYTE_SEGMENTS,h);const m=o.getECLevel();return m!=null&&d.putMetadata(Qe.ERROR_CORRECTION_LEVEL,m),d}reset(){}static extractPureBits(r){const s=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(s==null||o==null)throw new H;const c=this.moduleSize(s,r);let u=s[1];const d=o[1];let h=s[0];const w=(o[0]-h+1)/c,C=(d-u+1)/c;if(w<=0||C<=0)throw new H;const b=c/2;u+=b,h+=b;const T=new se(w,C);for(let P=0;P<C;P++){const F=u+P*c;for(let j=0;j<w;j++)r.get(h+j*c,F)&&T.set(j,P)}return T}static moduleSize(r,s){const o=s.getWidth();let c=r[0];const u=r[1];for(;c<o&&s.get(c,u);)c++;if(c===o)throw new H;const d=c-r[0];if(d===0)throw new H;return d}}ai.NO_POINTS=[];class Fw extends Te{constructor(r=500){super(new ai,r)}}var zs;(function(A){A[A.L=0]="L",A[A.M=1]="M",A[A.Q=2]="Q",A[A.H=3]="H"})(zs||(zs={}));class tt{constructor(r,s,o){this.value=r,this.stringValue=s,this.bits=o,tt.FOR_BITS.set(o,this),tt.FOR_VALUE.set(r,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(r){switch(r){case"L":return tt.L;case"M":return tt.M;case"Q":return tt.Q;case"H":return tt.H;default:throw new y(r+"not available")}}toString(){return this.stringValue}equals(r){if(!(r instanceof tt))return!1;const s=r;return this.value===s.value}static forBits(r){if(r<0||r>=tt.FOR_BITS.size)throw new v;return tt.FOR_BITS.get(r)}}tt.FOR_BITS=new Map,tt.FOR_VALUE=new Map,tt.L=new tt(zs.L,"L",1),tt.M=new tt(zs.M,"M",0),tt.Q=new tt(zs.Q,"Q",3),tt.H=new tt(zs.H,"H",2);class Zt{constructor(r){this.errorCorrectionLevel=tt.forBits(r>>3&3),this.dataMask=r&7}static numBitsDiffering(r,s){return I.bitCount(r^s)}static decodeFormatInformation(r,s){const o=Zt.doDecodeFormatInformation(r,s);return o!==null?o:Zt.doDecodeFormatInformation(r^Zt.FORMAT_INFO_MASK_QR,s^Zt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(r,s){let o=Number.MAX_SAFE_INTEGER,c=0;for(const u of Zt.FORMAT_INFO_DECODE_LOOKUP){const d=u[0];if(d===r||d===s)return new Zt(u[1]);let h=Zt.numBitsDiffering(r,d);h<o&&(c=u[1],o=h),r!==s&&(h=Zt.numBitsDiffering(s,d),h<o&&(c=u[1],o=h))}return o<=3?new Zt(c):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(r){if(!(r instanceof Zt))return!1;const s=r;return this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}Zt.FORMAT_INFO_MASK_QR=21522,Zt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class W{constructor(r,...s){this.ecCodewordsPerBlock=r,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let r=0;const s=this.ecBlocks;for(const o of s)r+=o.getCount();return r}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class k{constructor(r,s){this.count=r,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ee{constructor(r,s,...o){this.versionNumber=r,this.alignmentPatternCenters=s,this.ecBlocks=o;let c=0;const u=o[0].getECCodewordsPerBlock(),d=o[0].getECBlocks();for(const h of d)c+=h.getCount()*(h.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(r){return this.ecBlocks[r.getValue()]}static getProvisionalVersionForDimension(r){if(r%4!==1)throw new U;try{return this.getVersionForNumber((r-17)/4)}catch{throw new U}}static getVersionForNumber(r){if(r<1||r>40)throw new v;return Ee.VERSIONS[r-1]}static decodeVersionInformation(r){let s=Number.MAX_SAFE_INTEGER,o=0;for(let c=0;c<Ee.VERSION_DECODE_INFO.length;c++){const u=Ee.VERSION_DECODE_INFO[c];if(u===r)return Ee.getVersionForNumber(c+7);const d=Zt.numBitsDiffering(r,u);d<s&&(o=c+7,s=d)}return s<=3?Ee.getVersionForNumber(o):null}buildFunctionPattern(){const r=this.getDimensionForVersion(),s=new se(r);s.setRegion(0,0,9,9),s.setRegion(r-8,0,8,9),s.setRegion(0,r-8,9,8);const o=this.alignmentPatternCenters.length;for(let c=0;c<o;c++){const u=this.alignmentPatternCenters[c]-2;for(let d=0;d<o;d++)c===0&&(d===0||d===o-1)||c===o-1&&d===0||s.setRegion(this.alignmentPatternCenters[d]-2,u,5,5)}return s.setRegion(6,9,1,r-17),s.setRegion(9,6,r-17,1),this.versionNumber>6&&(s.setRegion(r-11,0,3,6),s.setRegion(0,r-11,6,3)),s}toString(){return""+this.versionNumber}}Ee.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ee.VERSIONS=[new Ee(1,new Int32Array(0),new W(7,new k(1,19)),new W(10,new k(1,16)),new W(13,new k(1,13)),new W(17,new k(1,9))),new Ee(2,Int32Array.from([6,18]),new W(10,new k(1,34)),new W(16,new k(1,28)),new W(22,new k(1,22)),new W(28,new k(1,16))),new Ee(3,Int32Array.from([6,22]),new W(15,new k(1,55)),new W(26,new k(1,44)),new W(18,new k(2,17)),new W(22,new k(2,13))),new Ee(4,Int32Array.from([6,26]),new W(20,new k(1,80)),new W(18,new k(2,32)),new W(26,new k(2,24)),new W(16,new k(4,9))),new Ee(5,Int32Array.from([6,30]),new W(26,new k(1,108)),new W(24,new k(2,43)),new W(18,new k(2,15),new k(2,16)),new W(22,new k(2,11),new k(2,12))),new Ee(6,Int32Array.from([6,34]),new W(18,new k(2,68)),new W(16,new k(4,27)),new W(24,new k(4,19)),new W(28,new k(4,15))),new Ee(7,Int32Array.from([6,22,38]),new W(20,new k(2,78)),new W(18,new k(4,31)),new W(18,new k(2,14),new k(4,15)),new W(26,new k(4,13),new k(1,14))),new Ee(8,Int32Array.from([6,24,42]),new W(24,new k(2,97)),new W(22,new k(2,38),new k(2,39)),new W(22,new k(4,18),new k(2,19)),new W(26,new k(4,14),new k(2,15))),new Ee(9,Int32Array.from([6,26,46]),new W(30,new k(2,116)),new W(22,new k(3,36),new k(2,37)),new W(20,new k(4,16),new k(4,17)),new W(24,new k(4,12),new k(4,13))),new Ee(10,Int32Array.from([6,28,50]),new W(18,new k(2,68),new k(2,69)),new W(26,new k(4,43),new k(1,44)),new W(24,new k(6,19),new k(2,20)),new W(28,new k(6,15),new k(2,16))),new Ee(11,Int32Array.from([6,30,54]),new W(20,new k(4,81)),new W(30,new k(1,50),new k(4,51)),new W(28,new k(4,22),new k(4,23)),new W(24,new k(3,12),new k(8,13))),new Ee(12,Int32Array.from([6,32,58]),new W(24,new k(2,92),new k(2,93)),new W(22,new k(6,36),new k(2,37)),new W(26,new k(4,20),new k(6,21)),new W(28,new k(7,14),new k(4,15))),new Ee(13,Int32Array.from([6,34,62]),new W(26,new k(4,107)),new W(22,new k(8,37),new k(1,38)),new W(24,new k(8,20),new k(4,21)),new W(22,new k(12,11),new k(4,12))),new Ee(14,Int32Array.from([6,26,46,66]),new W(30,new k(3,115),new k(1,116)),new W(24,new k(4,40),new k(5,41)),new W(20,new k(11,16),new k(5,17)),new W(24,new k(11,12),new k(5,13))),new Ee(15,Int32Array.from([6,26,48,70]),new W(22,new k(5,87),new k(1,88)),new W(24,new k(5,41),new k(5,42)),new W(30,new k(5,24),new k(7,25)),new W(24,new k(11,12),new k(7,13))),new Ee(16,Int32Array.from([6,26,50,74]),new W(24,new k(5,98),new k(1,99)),new W(28,new k(7,45),new k(3,46)),new W(24,new k(15,19),new k(2,20)),new W(30,new k(3,15),new k(13,16))),new Ee(17,Int32Array.from([6,30,54,78]),new W(28,new k(1,107),new k(5,108)),new W(28,new k(10,46),new k(1,47)),new W(28,new k(1,22),new k(15,23)),new W(28,new k(2,14),new k(17,15))),new Ee(18,Int32Array.from([6,30,56,82]),new W(30,new k(5,120),new k(1,121)),new W(26,new k(9,43),new k(4,44)),new W(28,new k(17,22),new k(1,23)),new W(28,new k(2,14),new k(19,15))),new Ee(19,Int32Array.from([6,30,58,86]),new W(28,new k(3,113),new k(4,114)),new W(26,new k(3,44),new k(11,45)),new W(26,new k(17,21),new k(4,22)),new W(26,new k(9,13),new k(16,14))),new Ee(20,Int32Array.from([6,34,62,90]),new W(28,new k(3,107),new k(5,108)),new W(26,new k(3,41),new k(13,42)),new W(30,new k(15,24),new k(5,25)),new W(28,new k(15,15),new k(10,16))),new Ee(21,Int32Array.from([6,28,50,72,94]),new W(28,new k(4,116),new k(4,117)),new W(26,new k(17,42)),new W(28,new k(17,22),new k(6,23)),new W(30,new k(19,16),new k(6,17))),new Ee(22,Int32Array.from([6,26,50,74,98]),new W(28,new k(2,111),new k(7,112)),new W(28,new k(17,46)),new W(30,new k(7,24),new k(16,25)),new W(24,new k(34,13))),new Ee(23,Int32Array.from([6,30,54,78,102]),new W(30,new k(4,121),new k(5,122)),new W(28,new k(4,47),new k(14,48)),new W(30,new k(11,24),new k(14,25)),new W(30,new k(16,15),new k(14,16))),new Ee(24,Int32Array.from([6,28,54,80,106]),new W(30,new k(6,117),new k(4,118)),new W(28,new k(6,45),new k(14,46)),new W(30,new k(11,24),new k(16,25)),new W(30,new k(30,16),new k(2,17))),new Ee(25,Int32Array.from([6,32,58,84,110]),new W(26,new k(8,106),new k(4,107)),new W(28,new k(8,47),new k(13,48)),new W(30,new k(7,24),new k(22,25)),new W(30,new k(22,15),new k(13,16))),new Ee(26,Int32Array.from([6,30,58,86,114]),new W(28,new k(10,114),new k(2,115)),new W(28,new k(19,46),new k(4,47)),new W(28,new k(28,22),new k(6,23)),new W(30,new k(33,16),new k(4,17))),new Ee(27,Int32Array.from([6,34,62,90,118]),new W(30,new k(8,122),new k(4,123)),new W(28,new k(22,45),new k(3,46)),new W(30,new k(8,23),new k(26,24)),new W(30,new k(12,15),new k(28,16))),new Ee(28,Int32Array.from([6,26,50,74,98,122]),new W(30,new k(3,117),new k(10,118)),new W(28,new k(3,45),new k(23,46)),new W(30,new k(4,24),new k(31,25)),new W(30,new k(11,15),new k(31,16))),new Ee(29,Int32Array.from([6,30,54,78,102,126]),new W(30,new k(7,116),new k(7,117)),new W(28,new k(21,45),new k(7,46)),new W(30,new k(1,23),new k(37,24)),new W(30,new k(19,15),new k(26,16))),new Ee(30,Int32Array.from([6,26,52,78,104,130]),new W(30,new k(5,115),new k(10,116)),new W(28,new k(19,47),new k(10,48)),new W(30,new k(15,24),new k(25,25)),new W(30,new k(23,15),new k(25,16))),new Ee(31,Int32Array.from([6,30,56,82,108,134]),new W(30,new k(13,115),new k(3,116)),new W(28,new k(2,46),new k(29,47)),new W(30,new k(42,24),new k(1,25)),new W(30,new k(23,15),new k(28,16))),new Ee(32,Int32Array.from([6,34,60,86,112,138]),new W(30,new k(17,115)),new W(28,new k(10,46),new k(23,47)),new W(30,new k(10,24),new k(35,25)),new W(30,new k(19,15),new k(35,16))),new Ee(33,Int32Array.from([6,30,58,86,114,142]),new W(30,new k(17,115),new k(1,116)),new W(28,new k(14,46),new k(21,47)),new W(30,new k(29,24),new k(19,25)),new W(30,new k(11,15),new k(46,16))),new Ee(34,Int32Array.from([6,34,62,90,118,146]),new W(30,new k(13,115),new k(6,116)),new W(28,new k(14,46),new k(23,47)),new W(30,new k(44,24),new k(7,25)),new W(30,new k(59,16),new k(1,17))),new Ee(35,Int32Array.from([6,30,54,78,102,126,150]),new W(30,new k(12,121),new k(7,122)),new W(28,new k(12,47),new k(26,48)),new W(30,new k(39,24),new k(14,25)),new W(30,new k(22,15),new k(41,16))),new Ee(36,Int32Array.from([6,24,50,76,102,128,154]),new W(30,new k(6,121),new k(14,122)),new W(28,new k(6,47),new k(34,48)),new W(30,new k(46,24),new k(10,25)),new W(30,new k(2,15),new k(64,16))),new Ee(37,Int32Array.from([6,28,54,80,106,132,158]),new W(30,new k(17,122),new k(4,123)),new W(28,new k(29,46),new k(14,47)),new W(30,new k(49,24),new k(10,25)),new W(30,new k(24,15),new k(46,16))),new Ee(38,Int32Array.from([6,32,58,84,110,136,162]),new W(30,new k(4,122),new k(18,123)),new W(28,new k(13,46),new k(32,47)),new W(30,new k(48,24),new k(14,25)),new W(30,new k(42,15),new k(32,16))),new Ee(39,Int32Array.from([6,26,54,82,110,138,166]),new W(30,new k(20,117),new k(4,118)),new W(28,new k(40,47),new k(7,48)),new W(30,new k(43,24),new k(22,25)),new W(30,new k(10,15),new k(67,16))),new Ee(40,Int32Array.from([6,30,58,86,114,142,170]),new W(30,new k(19,118),new k(6,119)),new W(28,new k(18,47),new k(31,48)),new W(30,new k(34,24),new k(34,25)),new W(30,new k(20,15),new k(61,16)))];var Lt;(function(A){A[A.DATA_MASK_000=0]="DATA_MASK_000",A[A.DATA_MASK_001=1]="DATA_MASK_001",A[A.DATA_MASK_010=2]="DATA_MASK_010",A[A.DATA_MASK_011=3]="DATA_MASK_011",A[A.DATA_MASK_100=4]="DATA_MASK_100",A[A.DATA_MASK_101=5]="DATA_MASK_101",A[A.DATA_MASK_110=6]="DATA_MASK_110",A[A.DATA_MASK_111=7]="DATA_MASK_111"})(Lt||(Lt={}));class Yn{constructor(r,s){this.value=r,this.isMasked=s}unmaskBitMatrix(r,s){for(let o=0;o<s;o++)for(let c=0;c<s;c++)this.isMasked(o,c)&&r.flip(c,o)}}Yn.values=new Map([[Lt.DATA_MASK_000,new Yn(Lt.DATA_MASK_000,(A,r)=>(A+r&1)===0)],[Lt.DATA_MASK_001,new Yn(Lt.DATA_MASK_001,(A,r)=>(A&1)===0)],[Lt.DATA_MASK_010,new Yn(Lt.DATA_MASK_010,(A,r)=>r%3===0)],[Lt.DATA_MASK_011,new Yn(Lt.DATA_MASK_011,(A,r)=>(A+r)%3===0)],[Lt.DATA_MASK_100,new Yn(Lt.DATA_MASK_100,(A,r)=>(Math.floor(A/2)+Math.floor(r/3)&1)===0)],[Lt.DATA_MASK_101,new Yn(Lt.DATA_MASK_101,(A,r)=>A*r%6===0)],[Lt.DATA_MASK_110,new Yn(Lt.DATA_MASK_110,(A,r)=>A*r%6<3)],[Lt.DATA_MASK_111,new Yn(Lt.DATA_MASK_111,(A,r)=>(A+r+A*r%3&1)===0)]]);class jw{constructor(r){const s=r.getHeight();if(s<21||(s&3)!==1)throw new U;this.bitMatrix=r}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let r=0;for(let u=0;u<6;u++)r=this.copyBit(u,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(let u=5;u>=0;u--)r=this.copyBit(8,u,r);const s=this.bitMatrix.getHeight();let o=0;const c=s-7;for(let u=s-1;u>=c;u--)o=this.copyBit(8,u,o);for(let u=s-8;u<s;u++)o=this.copyBit(u,8,o);if(this.parsedFormatInfo=Zt.decodeFormatInformation(r,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new U}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const r=this.bitMatrix.getHeight(),s=Math.floor((r-17)/4);if(s<=6)return Ee.getVersionForNumber(s);let o=0;const c=r-11;for(let d=5;d>=0;d--)for(let h=r-9;h>=c;h--)o=this.copyBit(h,d,o);let u=Ee.decodeVersionInformation(o);if(u!==null&&u.getDimensionForVersion()===r)return this.parsedVersion=u,u;o=0;for(let d=5;d>=0;d--)for(let h=r-9;h>=c;h--)o=this.copyBit(d,h,o);if(u=Ee.decodeVersionInformation(o),u!==null&&u.getDimensionForVersion()===r)return this.parsedVersion=u,u;throw new U}copyBit(r,s,o){return(this.isMirror?this.bitMatrix.get(s,r):this.bitMatrix.get(r,s))?o<<1|1:o<<1}readCodewords(){const r=this.readFormatInformation(),s=this.readVersion(),o=Yn.values.get(r.getDataMask()),c=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,c);const u=s.buildFunctionPattern();let d=!0;const h=new Uint8Array(s.getTotalCodewords());let m=0,w=0,C=0;for(let b=c-1;b>0;b-=2){b===6&&b--;for(let T=0;T<c;T++){const P=d?c-1-T:T;for(let F=0;F<2;F++)u.get(b-F,P)||(C++,w<<=1,this.bitMatrix.get(b-F,P)&&(w|=1),C===8&&(h[m++]=w,C=0,w=0))}d=!d}if(m!==s.getTotalCodewords())throw new U;return h}remask(){if(this.parsedFormatInfo===null)return;const r=Yn.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,s)}setMirror(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r}mirror(){const r=this.bitMatrix;for(let s=0,o=r.getWidth();s<o;s++)for(let c=s+1,u=r.getHeight();c<u;c++)r.get(s,c)!==r.get(c,s)&&(r.flip(c,s),r.flip(s,c))}}class ju{constructor(r,s){this.numDataCodewords=r,this.codewords=s}static getDataBlocks(r,s,o){if(r.length!==s.getTotalCodewords())throw new v;const c=s.getECBlocksForLevel(o);let u=0;const d=c.getECBlocks();for(const F of d)u+=F.getCount();const h=new Array(u);let m=0;for(const F of d)for(let j=0;j<F.getCount();j++){const V=F.getDataCodewords(),Y=c.getECCodewordsPerBlock()+V;h[m++]=new ju(V,new Uint8Array(Y))}const w=h[0].codewords.length;let C=h.length-1;for(;C>=0&&h[C].codewords.length!==w;)C--;C++;const b=w-c.getECCodewordsPerBlock();let T=0;for(let F=0;F<b;F++)for(let j=0;j<m;j++)h[j].codewords[F]=r[T++];for(let F=C;F<m;F++)h[F].codewords[b]=r[T++];const P=h[0].codewords.length;for(let F=b;F<P;F++)for(let j=0;j<m;j++){const V=j<C?F:F+1;h[j].codewords[V]=r[T++]}return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Kn;(function(A){A[A.TERMINATOR=0]="TERMINATOR",A[A.NUMERIC=1]="NUMERIC",A[A.ALPHANUMERIC=2]="ALPHANUMERIC",A[A.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",A[A.BYTE=4]="BYTE",A[A.ECI=5]="ECI",A[A.KANJI=6]="KANJI",A[A.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",A[A.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",A[A.HANZI=9]="HANZI"})(Kn||(Kn={}));class Ce{constructor(r,s,o,c){this.value=r,this.stringValue=s,this.characterCountBitsForVersions=o,this.bits=c,Ce.FOR_BITS.set(c,this),Ce.FOR_VALUE.set(r,this)}static forBits(r){const s=Ce.FOR_BITS.get(r);if(s===void 0)throw new v;return s}getCharacterCountBits(r){const s=r.getVersionNumber();let o;return s<=9?o=0:s<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(r){if(!(r instanceof Ce))return!1;const s=r;return this.value===s.value}toString(){return this.stringValue}}Ce.FOR_BITS=new Map,Ce.FOR_VALUE=new Map,Ce.TERMINATOR=new Ce(Kn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ce.NUMERIC=new Ce(Kn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ce.ALPHANUMERIC=new Ce(Kn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ce.STRUCTURED_APPEND=new Ce(Kn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ce.BYTE=new Ce(Kn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ce.ECI=new Ce(Kn.ECI,"ECI",Int32Array.from([0,0,0]),7),Ce.KANJI=new Ce(Kn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ce.FNC1_FIRST_POSITION=new Ce(Kn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ce.FNC1_SECOND_POSITION=new Ce(Kn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ce.HANZI=new Ce(Kn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class gt{static decode(r,s,o,c){const u=new Fu(r);let d=new de;const h=new Array;let m=-1,w=-1;try{let C=null,b=!1,T;do{if(u.available()<4)T=Ce.TERMINATOR;else{const P=u.readBits(4);T=Ce.forBits(P)}switch(T){case Ce.TERMINATOR:break;case Ce.FNC1_FIRST_POSITION:case Ce.FNC1_SECOND_POSITION:b=!0;break;case Ce.STRUCTURED_APPEND:if(u.available()<16)throw new U;m=u.readBits(8),w=u.readBits(8);break;case Ce.ECI:const P=gt.parseECIValue(u);if(C=$.getCharacterSetECIByValue(P),C===null)throw new U;break;case Ce.HANZI:const F=u.readBits(4),j=u.readBits(T.getCharacterCountBits(s));F===gt.GB2312_SUBSET&&gt.decodeHanziSegment(u,d,j);break;default:const V=u.readBits(T.getCharacterCountBits(s));switch(T){case Ce.NUMERIC:gt.decodeNumericSegment(u,d,V);break;case Ce.ALPHANUMERIC:gt.decodeAlphanumericSegment(u,d,V,b);break;case Ce.BYTE:gt.decodeByteSegment(u,d,V,C,h,c);break;case Ce.KANJI:gt.decodeKanjiSegment(u,d,V);break;default:throw new U}break}}while(T!==Ce.TERMINATOR)}catch{throw new U}return new mn(r,d.toString(),h.length===0?null:h,o===null?null:o.toString(),m,w)}static decodeHanziSegment(r,s,o){if(o*13>r.available())throw new U;const c=new Uint8Array(2*o);let u=0;for(;o>0;){const d=r.readBits(13);let h=d/96<<8&4294967295|d%96;h<959?h+=41377:h+=42657,c[u]=h>>8&255,c[u+1]=h&255,u+=2,o--}try{s.append(ve.decode(c,Q.GB2312))}catch(d){throw new U(d)}}static decodeKanjiSegment(r,s,o){if(o*13>r.available())throw new U;const c=new Uint8Array(2*o);let u=0;for(;o>0;){const d=r.readBits(13);let h=d/192<<8&4294967295|d%192;h<7936?h+=33088:h+=49472,c[u]=h>>8,c[u+1]=h,u+=2,o--}try{s.append(ve.decode(c,Q.SHIFT_JIS))}catch(d){throw new U(d)}}static decodeByteSegment(r,s,o,c,u,d){if(8*o>r.available())throw new U;const h=new Uint8Array(o);for(let w=0;w<o;w++)h[w]=r.readBits(8);let m;c===null?m=Q.guessEncoding(h,d):m=c.getName();try{s.append(ve.decode(h,m))}catch(w){throw new U(w)}u.push(h)}static toAlphaNumericChar(r){if(r>=gt.ALPHANUMERIC_CHARS.length)throw new U;return gt.ALPHANUMERIC_CHARS[r]}static decodeAlphanumericSegment(r,s,o,c){const u=s.length();for(;o>1;){if(r.available()<11)throw new U;const d=r.readBits(11);s.append(gt.toAlphaNumericChar(Math.floor(d/45))),s.append(gt.toAlphaNumericChar(d%45)),o-=2}if(o===1){if(r.available()<6)throw new U;s.append(gt.toAlphaNumericChar(r.readBits(6)))}if(c)for(let d=u;d<s.length();d++)s.charAt(d)==="%"&&(d<s.length()-1&&s.charAt(d+1)==="%"?s.deleteCharAt(d+1):s.setCharAt(d,""))}static decodeNumericSegment(r,s,o){for(;o>=3;){if(r.available()<10)throw new U;const c=r.readBits(10);if(c>=1e3)throw new U;s.append(gt.toAlphaNumericChar(Math.floor(c/100))),s.append(gt.toAlphaNumericChar(Math.floor(c/10)%10)),s.append(gt.toAlphaNumericChar(c%10)),o-=3}if(o===2){if(r.available()<7)throw new U;const c=r.readBits(7);if(c>=100)throw new U;s.append(gt.toAlphaNumericChar(Math.floor(c/10))),s.append(gt.toAlphaNumericChar(c%10))}else if(o===1){if(r.available()<4)throw new U;const c=r.readBits(4);if(c>=10)throw new U;s.append(gt.toAlphaNumericChar(c))}}static parseECIValue(r){const s=r.readBits(8);if(!(s&128))return s&127;if((s&192)===128){const o=r.readBits(8);return(s&63)<<8&4294967295|o}if((s&224)===192){const o=r.readBits(16);return(s&31)<<16&4294967295|o}throw new U}}gt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",gt.GB2312_SUBSET=1;class S0{constructor(r){this.mirrored=r}isMirrored(){return this.mirrored}applyMirroredCorrection(r){if(!this.mirrored||r===null||r.length<3)return;const s=r[0];r[0]=r[2],r[2]=s}}class Uw{constructor(){this.rsDecoder=new wn(Me.QR_CODE_FIELD_256)}decodeBooleanArray(r,s){return this.decodeBitMatrix(se.parseFromBooleanArray(r),s)}decodeBitMatrix(r,s){const o=new jw(r);let c=null;try{return this.decodeBitMatrixParser(o,s)}catch(u){c=u}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const u=this.decodeBitMatrixParser(o,s);return u.setOther(new S0(!0)),u}catch(u){throw c!==null?c:u}}decodeBitMatrixParser(r,s){const o=r.readVersion(),c=r.readFormatInformation().getErrorCorrectionLevel(),u=r.readCodewords(),d=ju.getDataBlocks(u,o,c);let h=0;for(const C of d)h+=C.getNumDataCodewords();const m=new Uint8Array(h);let w=0;for(const C of d){const b=C.getCodewords(),T=C.getNumDataCodewords();this.correctErrors(b,T);for(let P=0;P<T;P++)m[w++]=b[P]}return gt.decode(m,o,c,s)}correctErrors(r,s){const o=new Int32Array(r);try{this.rsDecoder.decode(o,r.length-s)}catch{throw new _}for(let c=0;c<s;c++)r[c]=o[c]}}class Uu extends ye{constructor(r,s,o){super(r,s),this.estimatedModuleSize=o}aboutEquals(r,s,o){if(Math.abs(s-this.getY())<=r&&Math.abs(o-this.getX())<=r){const c=Math.abs(r-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(r,s,o){const c=(this.getX()+s)/2,u=(this.getY()+r)/2,d=(this.estimatedModuleSize+o)/2;return new Uu(c,u,d)}}class Al{constructor(r,s,o,c,u,d,h){this.image=r,this.startX=s,this.startY=o,this.width=c,this.height=u,this.moduleSize=d,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const r=this.startX,s=this.height,o=this.width,c=r+o,u=this.startY+s/2,d=new Int32Array(3),h=this.image;for(let m=0;m<s;m++){const w=u+(m&1?-Math.floor((m+1)/2):Math.floor((m+1)/2));d[0]=0,d[1]=0,d[2]=0;let C=r;for(;C<c&&!h.get(C,w);)C++;let b=0;for(;C<c;){if(h.get(C,w))if(b===1)d[1]++;else if(b===2){if(this.foundPatternCross(d)){const T=this.handlePossibleCenter(d,w,C);if(T!==null)return T}d[0]=d[2],d[1]=1,d[2]=0,b=1}else d[++b]++;else b===1&&b++,d[b]++;C++}if(this.foundPatternCross(d)){const T=this.handlePossibleCenter(d,w,c);if(T!==null)return T}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new H}static centerFromEnd(r,s){return s-r[2]-r[1]/2}foundPatternCross(r){const s=this.moduleSize,o=s/2;for(let c=0;c<3;c++)if(Math.abs(s-r[c])>=o)return!1;return!0}crossCheckVertical(r,s,o,c){const u=this.image,d=u.getHeight(),h=this.crossCheckStateCount;h[0]=0,h[1]=0,h[2]=0;let m=r;for(;m>=0&&u.get(s,m)&&h[1]<=o;)h[1]++,m--;if(m<0||h[1]>o)return NaN;for(;m>=0&&!u.get(s,m)&&h[0]<=o;)h[0]++,m--;if(h[0]>o)return NaN;for(m=r+1;m<d&&u.get(s,m)&&h[1]<=o;)h[1]++,m++;if(m===d||h[1]>o)return NaN;for(;m<d&&!u.get(s,m)&&h[2]<=o;)h[2]++,m++;if(h[2]>o)return NaN;const w=h[0]+h[1]+h[2];return 5*Math.abs(w-c)>=2*c?NaN:this.foundPatternCross(h)?Al.centerFromEnd(h,m):NaN}handlePossibleCenter(r,s,o){const c=r[0]+r[1]+r[2],u=Al.centerFromEnd(r,o),d=this.crossCheckVertical(s,u,2*r[1],c);if(!isNaN(d)){const h=(r[0]+r[1]+r[2])/3;for(const w of this.possibleCenters)if(w.aboutEquals(h,d,u))return w.combineEstimate(d,u,h);const m=new Uu(u,d,h);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null}}class zu extends ye{constructor(r,s,o,c){super(r,s),this.estimatedModuleSize=o,this.count=c,c===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(r,s,o){if(Math.abs(s-this.getY())<=r&&Math.abs(o-this.getX())<=r){const c=Math.abs(r-this.estimatedModuleSize);return c<=1||c<=this.estimatedModuleSize}return!1}combineEstimate(r,s,o){const c=this.count+1,u=(this.count*this.getX()+s)/c,d=(this.count*this.getY()+r)/c,h=(this.count*this.estimatedModuleSize+o)/c;return new zu(u,d,h,c)}}class zw{constructor(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Bt{constructor(r,s){this.image=r,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(r){const s=r!=null&&r.get(G.TRY_HARDER)!==void 0,o=r!=null&&r.get(G.PURE_BARCODE)!==void 0,c=this.image,u=c.getHeight(),d=c.getWidth();let h=Math.floor(3*u/(4*Bt.MAX_MODULES));(h<Bt.MIN_SKIP||s)&&(h=Bt.MIN_SKIP);let m=!1;const w=new Int32Array(5);for(let b=h-1;b<u&&!m;b+=h){w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0;let T=0;for(let P=0;P<d;P++)if(c.get(P,b))(T&1)===1&&T++,w[T]++;else if(T&1)w[T]++;else if(T===4)if(Bt.foundPatternCross(w)){if(this.handlePossibleCenter(w,b,P,o)===!0)if(h=2,this.hasSkipped===!0)m=this.haveMultiplyConfirmedCenters();else{const j=this.findRowSkip();j>w[2]&&(b+=j-w[2]-h,P=d-1)}else{w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,T=3;continue}T=0,w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0}else w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,T=3;else w[++T]++;Bt.foundPatternCross(w)&&this.handlePossibleCenter(w,b,d,o)===!0&&(h=w[0],this.hasSkipped&&(m=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return ye.orderBestPatterns(C),new zw(C)}static centerFromEnd(r,s){return s-r[4]-r[3]-r[2]/2}static foundPatternCross(r){let s=0;for(let u=0;u<5;u++){const d=r[u];if(d===0)return!1;s+=d}if(s<7)return!1;const o=s/7,c=o/2;return Math.abs(o-r[0])<c&&Math.abs(o-r[1])<c&&Math.abs(3*o-r[2])<3*c&&Math.abs(o-r[3])<c&&Math.abs(o-r[4])<c}getCrossCheckStateCount(){const r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r}crossCheckDiagonal(r,s,o,c){const u=this.getCrossCheckStateCount();let d=0;const h=this.image;for(;r>=d&&s>=d&&h.get(s-d,r-d);)u[2]++,d++;if(r<d||s<d)return!1;for(;r>=d&&s>=d&&!h.get(s-d,r-d)&&u[1]<=o;)u[1]++,d++;if(r<d||s<d||u[1]>o)return!1;for(;r>=d&&s>=d&&h.get(s-d,r-d)&&u[0]<=o;)u[0]++,d++;if(u[0]>o)return!1;const m=h.getHeight(),w=h.getWidth();for(d=1;r+d<m&&s+d<w&&h.get(s+d,r+d);)u[2]++,d++;if(r+d>=m||s+d>=w)return!1;for(;r+d<m&&s+d<w&&!h.get(s+d,r+d)&&u[3]<o;)u[3]++,d++;if(r+d>=m||s+d>=w||u[3]>=o)return!1;for(;r+d<m&&s+d<w&&h.get(s+d,r+d)&&u[4]<o;)u[4]++,d++;if(u[4]>=o)return!1;const C=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(C-c)<2*c&&Bt.foundPatternCross(u)}crossCheckVertical(r,s,o,c){const u=this.image,d=u.getHeight(),h=this.getCrossCheckStateCount();let m=r;for(;m>=0&&u.get(s,m);)h[2]++,m--;if(m<0)return NaN;for(;m>=0&&!u.get(s,m)&&h[1]<=o;)h[1]++,m--;if(m<0||h[1]>o)return NaN;for(;m>=0&&u.get(s,m)&&h[0]<=o;)h[0]++,m--;if(h[0]>o)return NaN;for(m=r+1;m<d&&u.get(s,m);)h[2]++,m++;if(m===d)return NaN;for(;m<d&&!u.get(s,m)&&h[3]<o;)h[3]++,m++;if(m===d||h[3]>=o)return NaN;for(;m<d&&u.get(s,m)&&h[4]<o;)h[4]++,m++;if(h[4]>=o)return NaN;const w=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(w-c)>=2*c?NaN:Bt.foundPatternCross(h)?Bt.centerFromEnd(h,m):NaN}crossCheckHorizontal(r,s,o,c){const u=this.image,d=u.getWidth(),h=this.getCrossCheckStateCount();let m=r;for(;m>=0&&u.get(m,s);)h[2]++,m--;if(m<0)return NaN;for(;m>=0&&!u.get(m,s)&&h[1]<=o;)h[1]++,m--;if(m<0||h[1]>o)return NaN;for(;m>=0&&u.get(m,s)&&h[0]<=o;)h[0]++,m--;if(h[0]>o)return NaN;for(m=r+1;m<d&&u.get(m,s);)h[2]++,m++;if(m===d)return NaN;for(;m<d&&!u.get(m,s)&&h[3]<o;)h[3]++,m++;if(m===d||h[3]>=o)return NaN;for(;m<d&&u.get(m,s)&&h[4]<o;)h[4]++,m++;if(h[4]>=o)return NaN;const w=h[0]+h[1]+h[2]+h[3]+h[4];return 5*Math.abs(w-c)>=c?NaN:Bt.foundPatternCross(h)?Bt.centerFromEnd(h,m):NaN}handlePossibleCenter(r,s,o,c){const u=r[0]+r[1]+r[2]+r[3]+r[4];let d=Bt.centerFromEnd(r,o),h=this.crossCheckVertical(s,Math.floor(d),r[2],u);if(!isNaN(h)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(h),r[2],u),!isNaN(d)&&(!c||this.crossCheckDiagonal(Math.floor(h),Math.floor(d),r[2],u)))){const m=u/7;let w=!1;const C=this.possibleCenters;for(let b=0,T=C.length;b<T;b++){const P=C[b];if(P.aboutEquals(m,h,d)){C[b]=P.combineEstimate(h,d,m),w=!0;break}}if(!w){const b=new zu(d,h,m);C.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(const o of this.possibleCenters)if(o.getCount()>=Bt.CENTER_QUORUM)if(s==null)s=o;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-o.getX())-Math.abs(s.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let r=0,s=0;const o=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=Bt.CENTER_QUORUM&&(r++,s+=d.getEstimatedModuleSize());if(r<3)return!1;const c=s/o;let u=0;for(const d of this.possibleCenters)u+=Math.abs(d.getEstimatedModuleSize()-c);return u<=.05*s}selectBestPatterns(){const r=this.possibleCenters.length;if(r<3)throw new H;const s=this.possibleCenters;let o;if(r>3){let c=0,u=0;for(const m of this.possibleCenters){const w=m.getEstimatedModuleSize();c+=w,u+=w*w}o=c/r;let d=Math.sqrt(u/r-o*o);s.sort((m,w)=>{const C=Math.abs(w.getEstimatedModuleSize()-o),b=Math.abs(m.getEstimatedModuleSize()-o);return C<b?-1:C>b?1:0});const h=Math.max(.2*o,d);for(let m=0;m<s.length&&s.length>3;m++){const w=s[m];Math.abs(w.getEstimatedModuleSize()-o)>h&&(s.splice(m,1),m--)}}if(s.length>3){let c=0;for(const u of s)c+=u.getEstimatedModuleSize();o=c/s.length,s.sort((u,d)=>{if(d.getCount()===u.getCount()){const h=Math.abs(d.getEstimatedModuleSize()-o),m=Math.abs(u.getEstimatedModuleSize()-o);return h<m?1:h>m?-1:0}else return d.getCount()-u.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}Bt.CENTER_QUORUM=2,Bt.MIN_SKIP=3,Bt.MAX_MODULES=57;class Qo{constructor(r){this.image=r}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(r){this.resultPointCallback=r==null?null:r.get(G.NEED_RESULT_POINT_CALLBACK);const o=new Bt(this.image,this.resultPointCallback).find(r);return this.processFinderPatternInfo(o)}processFinderPatternInfo(r){const s=r.getTopLeft(),o=r.getTopRight(),c=r.getBottomLeft(),u=this.calculateModuleSize(s,o,c);if(u<1)throw new H("No pattern found in proccess finder.");const d=Qo.computeDimension(s,o,c,u),h=Ee.getProvisionalVersionForDimension(d),m=h.getDimensionForVersion()-7;let w=null;if(h.getAlignmentPatternCenters().length>0){const P=o.getX()-s.getX()+c.getX(),F=o.getY()-s.getY()+c.getY(),j=1-3/m,V=Math.floor(s.getX()+j*(P-s.getX())),Y=Math.floor(s.getY()+j*(F-s.getY()));for(let ne=4;ne<=16;ne<<=1)try{w=this.findAlignmentInRegion(u,V,Y,ne);break}catch(ie){if(!(ie instanceof H))throw ie}}const C=Qo.createTransform(s,o,c,w,d),b=Qo.sampleGrid(this.image,C,d);let T;return w===null?T=[c,s,o]:T=[c,s,o,w],new Ds(b,T)}static createTransform(r,s,o,c,u){const d=u-3.5;let h,m,w,C;return c!==null?(h=c.getX(),m=c.getY(),w=d-3,C=w):(h=s.getX()-r.getX()+o.getX(),m=s.getY()-r.getY()+o.getY(),w=d,C=d),ln.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,w,C,3.5,d,r.getX(),r.getY(),s.getX(),s.getY(),h,m,o.getX(),o.getY())}static sampleGrid(r,s,o){return ar.getInstance().sampleGridWithTransform(r,o,o,s)}static computeDimension(r,s,o,c){const u=Ae.round(ye.distance(r,s)/c),d=Ae.round(ye.distance(r,o)/c);let h=Math.floor((u+d)/2)+7;switch(h&3){case 0:h++;break;case 2:h--;break;case 3:throw new H("Dimensions could be not found.")}return h}calculateModuleSize(r,s,o){return(this.calculateModuleSizeOneWay(r,s)+this.calculateModuleSizeOneWay(r,o))/2}calculateModuleSizeOneWay(r,s){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(s.getX()),Math.floor(s.getY())),c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(o)?c/7:isNaN(c)?o/7:(o+c)/14}sizeOfBlackWhiteBlackRunBothWays(r,s,o,c){let u=this.sizeOfBlackWhiteBlackRun(r,s,o,c),d=1,h=r-(o-r);h<0?(d=r/(r-h),h=0):h>=this.image.getWidth()&&(d=(this.image.getWidth()-1-r)/(h-r),h=this.image.getWidth()-1);let m=Math.floor(s-(c-s)*d);return d=1,m<0?(d=s/(s-m),m=0):m>=this.image.getHeight()&&(d=(this.image.getHeight()-1-s)/(m-s),m=this.image.getHeight()-1),h=Math.floor(r+(h-r)*d),u+=this.sizeOfBlackWhiteBlackRun(r,s,h,m),u-1}sizeOfBlackWhiteBlackRun(r,s,o,c){const u=Math.abs(c-s)>Math.abs(o-r);if(u){let P=r;r=s,s=P,P=o,o=c,c=P}const d=Math.abs(o-r),h=Math.abs(c-s);let m=-d/2;const w=r<o?1:-1,C=s<c?1:-1;let b=0;const T=o+w;for(let P=r,F=s;P!==T;P+=w){const j=u?F:P,V=u?P:F;if(b===1===this.image.get(j,V)){if(b===2)return Ae.distance(P,F,r,s);b++}if(m+=h,m>0){if(F===c)break;F+=C,m-=d}}return b===2?Ae.distance(o+w,c,r,s):NaN}findAlignmentInRegion(r,s,o,c){const u=Math.floor(c*r),d=Math.max(0,s-u),h=Math.min(this.image.getWidth()-1,s+u);if(h-d<r*3)throw new H("Alignment top exceeds estimated module size.");const m=Math.max(0,o-u),w=Math.min(this.image.getHeight()-1,o+u);if(w-m<r*3)throw new H("Alignment bottom exceeds estimated module size.");return new Al(this.image,d,m,h-d,w-m,r,this.resultPointCallback).find()}}class li{constructor(){this.decoder=new Uw}getDecoder(){return this.decoder}decode(r,s){let o,c;if(s!=null&&s.get(G.PURE_BARCODE)!==void 0){const m=li.extractPureBits(r.getBlackMatrix());o=this.decoder.decodeBitMatrix(m,s),c=li.NO_POINTS}else{const m=new Qo(r.getBlackMatrix()).detect(s);o=this.decoder.decodeBitMatrix(m.getBits(),s),c=m.getPoints()}o.getOther()instanceof S0&&o.getOther().applyMirroredCorrection(c);const u=new De(o.getText(),o.getRawBytes(),void 0,c,le.QR_CODE,void 0),d=o.getByteSegments();d!==null&&u.putMetadata(Qe.BYTE_SEGMENTS,d);const h=o.getECLevel();return h!==null&&u.putMetadata(Qe.ERROR_CORRECTION_LEVEL,h),o.hasStructuredAppend()&&(u.putMetadata(Qe.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),u.putMetadata(Qe.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),u}reset(){}static extractPureBits(r){const s=r.getTopLeftOnBit(),o=r.getBottomRightOnBit();if(s===null||o===null)throw new H;const c=this.moduleSize(s,r);let u=s[1],d=o[1],h=s[0],m=o[0];if(h>=m||u>=d)throw new H;if(d-u!==m-h&&(m=h+(d-u),m>=r.getWidth()))throw new H;const w=Math.round((m-h+1)/c),C=Math.round((d-u+1)/c);if(w<=0||C<=0)throw new H;if(C!==w)throw new H;const b=Math.floor(c/2);u+=b,h+=b;const T=h+Math.floor((w-1)*c)-m;if(T>0){if(T>b)throw new H;h-=T}const P=u+Math.floor((C-1)*c)-d;if(P>0){if(P>b)throw new H;u-=P}const F=new se(w,C);for(let j=0;j<C;j++){const V=u+Math.floor(j*c);for(let Y=0;Y<w;Y++)r.get(h+Math.floor(Y*c),V)&&F.set(Y,j)}return F}static moduleSize(r,s){const o=s.getHeight(),c=s.getWidth();let u=r[0],d=r[1],h=!0,m=0;for(;u<c&&d<o;){if(h!==s.get(u,d)){if(++m===5)break;h=!h}u++,d++}if(u===c||d===o)throw new H;return(u-r[0])/7}}li.NO_POINTS=new Array;class _e{PDF417Common(){}static getBitCountSum(r){return Ae.sum(r)}static toIntArray(r){if(r==null||!r.length)return _e.EMPTY_INT_ARRAY;const s=new Int32Array(r.length);let o=0;for(const c of r)s[o++]=c;return s}static getCodeword(r){const s=S.binarySearch(_e.SYMBOL_TABLE,r&262143);return s<0?-1:(_e.CODEWORD_TABLE[s]-1)%_e.NUMBER_OF_CODEWORDS}}_e.NUMBER_OF_CODEWORDS=929,_e.MAX_CODEWORDS_IN_BARCODE=_e.NUMBER_OF_CODEWORDS-1,_e.MIN_ROWS_IN_BARCODE=3,_e.MAX_ROWS_IN_BARCODE=90,_e.MODULES_IN_CODEWORD=17,_e.MODULES_IN_STOP_PATTERN=18,_e.BARS_IN_MODULE=8,_e.EMPTY_INT_ARRAY=new Int32Array([]),_e.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),_e.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Vw{constructor(r,s){this.bits=r,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class ke{static detectMultiple(r,s,o){let c=r.getBlackMatrix(),u=ke.detect(o,c);return u.length||(c=c.clone(),c.rotate180(),u=ke.detect(o,c)),new Vw(c,u)}static detect(r,s){const o=new Array;let c=0,u=0,d=!1;for(;c<s.getHeight();){const h=ke.findVertices(s,c,u);if(h[0]==null&&h[3]==null){if(!d)break;d=!1,u=0;for(const m of o)m[1]!=null&&(c=Math.trunc(Math.max(c,m[1].getY()))),m[3]!=null&&(c=Math.max(c,Math.trunc(m[3].getY())));c+=ke.ROW_STEP;continue}if(d=!0,o.push(h),!r)break;h[2]!=null?(u=Math.trunc(h[2].getX()),c=Math.trunc(h[2].getY())):(u=Math.trunc(h[4].getX()),c=Math.trunc(h[4].getY()))}return o}static findVertices(r,s,o){const c=r.getHeight(),u=r.getWidth(),d=new Array(8);return ke.copyToResult(d,ke.findRowsWithPattern(r,c,u,s,o,ke.START_PATTERN),ke.INDEXES_START_PATTERN),d[4]!=null&&(o=Math.trunc(d[4].getX()),s=Math.trunc(d[4].getY())),ke.copyToResult(d,ke.findRowsWithPattern(r,c,u,s,o,ke.STOP_PATTERN),ke.INDEXES_STOP_PATTERN),d}static copyToResult(r,s,o){for(let c=0;c<o.length;c++)r[o[c]]=s[c]}static findRowsWithPattern(r,s,o,c,u,d){const h=new Array(4);let m=!1;const w=new Int32Array(d.length);for(;c<s;c+=ke.ROW_STEP){let b=ke.findGuardPattern(r,u,c,o,!1,d,w);if(b!=null){for(;c>0;){const T=ke.findGuardPattern(r,u,--c,o,!1,d,w);if(T!=null)b=T;else{c++;break}}h[0]=new ye(b[0],c),h[1]=new ye(b[1],c),m=!0;break}}let C=c+1;if(m){let b=0,T=Int32Array.from([Math.trunc(h[0].getX()),Math.trunc(h[1].getX())]);for(;C<s;C++){const P=ke.findGuardPattern(r,T[0],C,o,!1,d,w);if(P!=null&&Math.abs(T[0]-P[0])<ke.MAX_PATTERN_DRIFT&&Math.abs(T[1]-P[1])<ke.MAX_PATTERN_DRIFT)T=P,b=0;else{if(b>ke.SKIPPED_ROW_COUNT_MAX)break;b++}}C-=b+1,h[2]=new ye(T[0],C),h[3]=new ye(T[1],C)}return C-c<ke.BARCODE_MIN_HEIGHT&&S.fill(h,null),h}static findGuardPattern(r,s,o,c,u,d,h){S.fillWithin(h,0,h.length,0);let m=s,w=0;for(;r.get(m,o)&&m>0&&w++<ke.MAX_PIXEL_DRIFT;)m--;let C=m,b=0,T=d.length;for(let P=u;C<c;C++)if(r.get(C,o)!==P)h[b]++;else{if(b===T-1){if(ke.patternMatchVariance(h,d,ke.MAX_INDIVIDUAL_VARIANCE)<ke.MAX_AVG_VARIANCE)return new Int32Array([m,C]);m+=h[0]+h[1],N.arraycopy(h,2,h,0,b-1),h[b-1]=0,h[b]=0,b--}else b++;h[b]=1,P=!P}return b===T-1&&ke.patternMatchVariance(h,d,ke.MAX_INDIVIDUAL_VARIANCE)<ke.MAX_AVG_VARIANCE?new Int32Array([m,C-1]):null}static patternMatchVariance(r,s,o){let c=r.length,u=0,d=0;for(let w=0;w<c;w++)u+=r[w],d+=s[w];if(u<d)return 1/0;let h=u/d;o*=h;let m=0;for(let w=0;w<c;w++){let C=r[w],b=s[w]*h,T=C>b?C-b:b-C;if(T>o)return 1/0;m+=T}return m/u}}ke.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ke.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ke.MAX_AVG_VARIANCE=.42,ke.MAX_INDIVIDUAL_VARIANCE=.8,ke.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ke.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ke.MAX_PIXEL_DRIFT=3,ke.MAX_PATTERN_DRIFT=5,ke.SKIPPED_ROW_COUNT_MAX=25,ke.ROW_STEP=5,ke.BARCODE_MIN_HEIGHT=10;class Vt{constructor(r,s){if(s.length===0)throw new v;this.field=r;let o=s.length;if(o>1&&s[0]===0){let c=1;for(;c<o&&s[c]===0;)c++;c===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-c),N.arraycopy(s,c,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(r){return this.coefficients[this.coefficients.length-1-r]}evaluateAt(r){if(r===0)return this.getCoefficient(0);if(r===1){let c=0;for(let u of this.coefficients)c=this.field.add(c,u);return c}let s=this.coefficients[0],o=this.coefficients.length;for(let c=1;c<o;c++)s=this.field.add(this.field.multiply(r,s),this.coefficients[c]);return s}add(r){if(!this.field.equals(r.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;let s=this.coefficients,o=r.coefficients;if(s.length>o.length){let d=s;s=o,o=d}let c=new Int32Array(o.length),u=o.length-s.length;N.arraycopy(o,0,c,0,u);for(let d=u;d<o.length;d++)c[d]=this.field.add(s[d-u],o[d]);return new Vt(this.field,c)}subtract(r){if(!this.field.equals(r.field))throw new v("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())}multiply(r){return r instanceof Vt?this.multiplyOther(r):this.multiplyScalar(r)}multiplyOther(r){if(!this.field.equals(r.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new Vt(this.field,new Int32Array([0]));let s=this.coefficients,o=s.length,c=r.coefficients,u=c.length,d=new Int32Array(o+u-1);for(let h=0;h<o;h++){let m=s[h];for(let w=0;w<u;w++)d[h+w]=this.field.add(d[h+w],this.field.multiply(m,c[w]))}return new Vt(this.field,d)}negative(){let r=this.coefficients.length,s=new Int32Array(r);for(let o=0;o<r;o++)s[o]=this.field.subtract(0,this.coefficients[o]);return new Vt(this.field,s)}multiplyScalar(r){if(r===0)return new Vt(this.field,new Int32Array([0]));if(r===1)return this;let s=this.coefficients.length,o=new Int32Array(s);for(let c=0;c<s;c++)o[c]=this.field.multiply(this.coefficients[c],r);return new Vt(this.field,o)}multiplyByMonomial(r,s){if(r<0)throw new v;if(s===0)return new Vt(this.field,new Int32Array([0]));let o=this.coefficients.length,c=new Int32Array(o+r);for(let u=0;u<o;u++)c[u]=this.field.multiply(this.coefficients[u],s);return new Vt(this.field,c)}toString(){let r=new de;for(let s=this.getDegree();s>=0;s--){let o=this.getCoefficient(s);o!==0&&(o<0?(r.append(" - "),o=-o):r.length()>0&&r.append(" + "),(s===0||o!==1)&&r.append(o),s!==0&&(s===1?r.append("x"):(r.append("x^"),r.append(s))))}return r.toString()}}class Hw{add(r,s){return(r+s)%this.modulus}subtract(r,s){return(this.modulus+r-s)%this.modulus}exp(r){return this.expTable[r]}log(r){if(r===0)throw new v;return this.logTable[r]}inverse(r){if(r===0)throw new ir;return this.expTable[this.modulus-this.logTable[r]-1]}multiply(r,s){return r===0||s===0?0:this.expTable[(this.logTable[r]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(r){return r===this}}class Vu extends Hw{constructor(r,s){super(),this.modulus=r,this.expTable=new Int32Array(r),this.logTable=new Int32Array(r);let o=1;for(let c=0;c<r;c++)this.expTable[c]=o,o=o*s%r;for(let c=0;c<r-1;c++)this.logTable[this.expTable[c]]=c;this.zero=new Vt(this,new Int32Array([0])),this.one=new Vt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(r,s){if(r<0)throw new v;if(s===0)return this.zero;let o=new Int32Array(r+1);return o[0]=s,new Vt(this,o)}}Vu.PDF417_GF=new Vu(_e.NUMBER_OF_CODEWORDS,3);class T0{constructor(){this.field=Vu.PDF417_GF}decode(r,s,o){let c=new Vt(this.field,r),u=new Int32Array(s),d=!1;for(let F=s;F>0;F--){let j=c.evaluateAt(this.field.exp(F));u[s-F]=j,j!==0&&(d=!0)}if(!d)return 0;let h=this.field.getOne();if(o!=null)for(const F of o){let j=this.field.exp(r.length-1-F),V=new Vt(this.field,new Int32Array([this.field.subtract(0,j),1]));h=h.multiply(V)}let m=new Vt(this.field,u),w=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),m,s),C=w[0],b=w[1],T=this.findErrorLocations(C),P=this.findErrorMagnitudes(b,C,T);for(let F=0;F<T.length;F++){let j=r.length-1-this.field.log(T[F]);if(j<0)throw _.getChecksumInstance();r[j]=this.field.subtract(r[j],P[F])}return T.length}runEuclideanAlgorithm(r,s,o){if(r.getDegree()<s.getDegree()){let T=r;r=s,s=T}let c=r,u=s,d=this.field.getZero(),h=this.field.getOne();for(;u.getDegree()>=Math.round(o/2);){let T=c,P=d;if(c=u,d=h,c.isZero())throw _.getChecksumInstance();u=T;let F=this.field.getZero(),j=c.getCoefficient(c.getDegree()),V=this.field.inverse(j);for(;u.getDegree()>=c.getDegree()&&!u.isZero();){let Y=u.getDegree()-c.getDegree(),ne=this.field.multiply(u.getCoefficient(u.getDegree()),V);F=F.add(this.field.buildMonomial(Y,ne)),u=u.subtract(c.multiplyByMonomial(Y,ne))}h=F.multiply(d).subtract(P).negative()}let m=h.getCoefficient(0);if(m===0)throw _.getChecksumInstance();let w=this.field.inverse(m),C=h.multiply(w),b=u.multiply(w);return[C,b]}findErrorLocations(r){let s=r.getDegree(),o=new Int32Array(s),c=0;for(let u=1;u<this.field.getSize()&&c<s;u++)r.evaluateAt(u)===0&&(o[c]=this.field.inverse(u),c++);if(c!==s)throw _.getChecksumInstance();return o}findErrorMagnitudes(r,s,o){let c=s.getDegree(),u=new Int32Array(c);for(let w=1;w<=c;w++)u[c-w]=this.field.multiply(w,s.getCoefficient(w));let d=new Vt(this.field,u),h=o.length,m=new Int32Array(h);for(let w=0;w<h;w++){let C=this.field.inverse(o[w]),b=this.field.subtract(0,r.evaluateAt(C)),T=this.field.inverse(d.evaluateAt(C));m[w]=this.field.multiply(b,T)}return m}}class is{constructor(r,s,o,c,u){r instanceof is?this.constructor_2(r):this.constructor_1(r,s,o,c,u)}constructor_1(r,s,o,c,u){const d=s==null||o==null,h=c==null||u==null;if(d&&h)throw new H;d?(s=new ye(0,c.getY()),o=new ye(0,u.getY())):h&&(c=new ye(r.getWidth()-1,s.getY()),u=new ye(r.getWidth()-1,o.getY())),this.image=r,this.topLeft=s,this.bottomLeft=o,this.topRight=c,this.bottomRight=u,this.minX=Math.trunc(Math.min(s.getX(),o.getX())),this.maxX=Math.trunc(Math.max(c.getX(),u.getX())),this.minY=Math.trunc(Math.min(s.getY(),c.getY())),this.maxY=Math.trunc(Math.max(o.getY(),u.getY()))}constructor_2(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()}static merge(r,s){return r==null?s:s==null?r:new is(r.image,r.topLeft,r.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(r,s,o){let c=this.topLeft,u=this.bottomLeft,d=this.topRight,h=this.bottomRight;if(r>0){let m=o?this.topLeft:this.topRight,w=Math.trunc(m.getY()-r);w<0&&(w=0);let C=new ye(m.getX(),w);o?c=C:d=C}if(s>0){let m=o?this.bottomLeft:this.bottomRight,w=Math.trunc(m.getY()+s);w>=this.image.getHeight()&&(w=this.image.getHeight()-1);let C=new ye(m.getX(),w);o?u=C:h=C}return new is(this.image,c,u,d,h)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Ww{constructor(r,s,o,c){this.columnCount=r,this.errorCorrectionLevel=c,this.rowCountUpperPart=s,this.rowCountLowerPart=o,this.rowCount=s+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Jo{constructor(){this.buffer=""}static form(r,s){let o=-1;function c(d,h,m,w,C,b){if(d==="%%")return"%";if(s[++o]===void 0)return;d=w?parseInt(w.substr(1)):void 0;let T=C?parseInt(C.substr(1)):void 0,P;switch(b){case"s":P=s[o];break;case"c":P=s[o][0];break;case"f":P=parseFloat(s[o]).toFixed(d);break;case"p":P=parseFloat(s[o]).toPrecision(d);break;case"e":P=parseFloat(s[o]).toExponential(d);break;case"x":P=parseInt(s[o]).toString(T||16);break;case"d":P=parseFloat(parseInt(s[o],T||10).toPrecision(d)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(T);let F=parseInt(m),j=m&&m[0]+""=="0"?"0":" ";for(;P.length<F;)P=h!==void 0?P+j:j+P;return P}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(u,c)}format(r,...s){this.buffer+=Jo.form(r,s)}toString(){return this.buffer}}class ea{constructor(r){this.boundingBox=new is(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}getCodewordNearby(r){let s=this.getCodeword(r);if(s!=null)return s;for(let o=1;o<ea.MAX_NEARBY_DISTANCE;o++){let c=this.imageRowToCodewordIndex(r)-o;if(c>=0&&(s=this.codewords[c],s!=null)||(c=this.imageRowToCodewordIndex(r)+o,c<this.codewords.length&&(s=this.codewords[c],s!=null)))return s}return null}imageRowToCodewordIndex(r){return r-this.boundingBox.getMinY()}setCodeword(r,s){this.codewords[this.imageRowToCodewordIndex(r)]=s}getCodeword(r){return this.codewords[this.imageRowToCodewordIndex(r)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const r=new Jo;let s=0;for(const o of this.codewords){if(o==null){r.format("%3d:    |   %n",s++);continue}r.format("%3d: %3d|%3d%n",s++,o.getRowNumber(),o.getValue())}return r.toString()}}ea.MAX_NEARBY_DISTANCE=5;class ta{constructor(){this.values=new Map}setValue(r){r=Math.trunc(r);let s=this.values.get(r);s==null&&(s=0),s++,this.values.set(r,s)}getValue(){let r=-1,s=new Array;for(const[o,c]of this.values.entries()){const u={getKey:()=>o,getValue:()=>c};u.getValue()>r?(r=u.getValue(),s=[],s.push(u.getKey())):u.getValue()===r&&s.push(u.getKey())}return _e.toIntArray(s)}getConfidence(r){return this.values.get(r)}}class I0 extends ea{constructor(r,s){super(r),this._isLeft=s}setRowNumbers(){for(let r of this.getCodewords())r!=null&&r.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(r){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,r);let o=this.getBoundingBox(),c=this._isLeft?o.getTopLeft():o.getTopRight(),u=this._isLeft?o.getBottomLeft():o.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),h=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=-1,w=1,C=0;for(let b=d;b<h;b++){if(s[b]==null)continue;let T=s[b],P=T.getRowNumber()-m;if(P===0)C++;else if(P===1)w=Math.max(w,C),C=1,m=T.getRowNumber();else if(P<0||T.getRowNumber()>=r.getRowCount()||P>b)s[b]=null;else{let F;w>2?F=(w-2)*P:F=P;let j=F>=b;for(let V=1;V<=F&&!j;V++)j=s[b-V]!=null;j?s[b]=null:(m=T.getRowNumber(),C=1)}}}getRowHeights(){let r=this.getBarcodeMetadata();if(r==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(r);let s=new Int32Array(r.getRowCount());for(let o of this.getCodewords())if(o!=null){let c=o.getRowNumber();if(c>=s.length)continue;s[c]++}return s}adjustIncompleteIndicatorColumnRowNumbers(r){let s=this.getBoundingBox(),o=this._isLeft?s.getTopLeft():s.getTopRight(),c=this._isLeft?s.getBottomLeft():s.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.imageRowToCodewordIndex(Math.trunc(c.getY())),h=this.getCodewords(),m=-1;for(let w=u;w<d;w++){if(h[w]==null)continue;let C=h[w];C.setRowNumberAsRowIndicatorColumn();let b=C.getRowNumber()-m;b===0||(b===1?m=C.getRowNumber():C.getRowNumber()>=r.getRowCount()?h[w]=null:m=C.getRowNumber())}}getBarcodeMetadata(){let r=this.getCodewords(),s=new ta,o=new ta,c=new ta,u=new ta;for(let h of r){if(h==null)continue;h.setRowNumberAsRowIndicatorColumn();let m=h.getValue()%30,w=h.getRowNumber();switch(this._isLeft||(w+=2),w%3){case 0:o.setValue(m*3+1);break;case 1:u.setValue(m/3),c.setValue(m%3);break;case 2:s.setValue(m+1);break}}if(s.getValue().length===0||o.getValue().length===0||c.getValue().length===0||u.getValue().length===0||s.getValue()[0]<1||o.getValue()[0]+c.getValue()[0]<_e.MIN_ROWS_IN_BARCODE||o.getValue()[0]+c.getValue()[0]>_e.MAX_ROWS_IN_BARCODE)return null;let d=new Ww(s.getValue()[0],o.getValue()[0],c.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(r,d),d}removeIncorrectCodewords(r,s){for(let o=0;o<r.length;o++){let c=r[o];if(r[o]==null)continue;let u=c.getValue()%30,d=c.getRowNumber();if(d>s.getRowCount()){r[o]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:u*3+1!==s.getRowCountUpperPart()&&(r[o]=null);break;case 1:(Math.trunc(u/3)!==s.getErrorCorrectionLevel()||u%3!==s.getRowCountLowerPart())&&(r[o]=null);break;case 2:u+1!==s.getColumnCount()&&(r[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class na{constructor(r,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let r=_e.MAX_CODEWORDS_IN_BARCODE,s;do s=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(r){r!=null&&r.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let r=this.adjustRowNumbersByRow();if(r===0)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let o=this.detectionResultColumns[s].getCodewords();for(let c=0;c<o.length;c++)o[c]!=null&&(o[c].hasValidRowNumber()||this.adjustRowNumbers(s,c,o))}return r}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let r=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<r.length;o++)if(r[o]!=null&&s[o]!=null&&r[o].getRowNumber()===s[o].getRowNumber())for(let c=1;c<=this.barcodeColumnCount;c++){let u=this.detectionResultColumns[c].getCodewords()[o];u!=null&&(u.setRowNumber(r[o].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[c].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let r=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<s.length;o++){if(s[o]==null)continue;let c=s[o].getRowNumber(),u=0;for(let d=this.barcodeColumnCount+1;d>0&&u<this.ADJUST_ROW_NUMBER_SKIP;d--){let h=this.detectionResultColumns[d].getCodewords()[o];h!=null&&(u=na.adjustRowNumberIfValid(c,u,h),h.hasValidRowNumber()||r++)}}return r}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let r=0,s=this.detectionResultColumns[0].getCodewords();for(let o=0;o<s.length;o++){if(s[o]==null)continue;let c=s[o].getRowNumber(),u=0;for(let d=1;d<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;d++){let h=this.detectionResultColumns[d].getCodewords()[o];h!=null&&(u=na.adjustRowNumberIfValid(c,u,h),h.hasValidRowNumber()||r++)}}return r}static adjustRowNumberIfValid(r,s,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(r)?(o.setRowNumber(r),s=0):++s),s}adjustRowNumbers(r,s,o){if(!this.detectionResultColumns[r-1])return;let c=o[s],u=this.detectionResultColumns[r-1].getCodewords(),d=u;this.detectionResultColumns[r+1]!=null&&(d=this.detectionResultColumns[r+1].getCodewords());let h=new Array(14);h[2]=u[s],h[3]=d[s],s>0&&(h[0]=o[s-1],h[4]=u[s-1],h[5]=d[s-1]),s>1&&(h[8]=o[s-2],h[10]=u[s-2],h[11]=d[s-2]),s<o.length-1&&(h[1]=o[s+1],h[6]=u[s+1],h[7]=d[s+1]),s<o.length-2&&(h[9]=o[s+2],h[12]=u[s+2],h[13]=d[s+2]);for(let m of h)if(na.adjustRowNumber(c,m))return}static adjustRowNumber(r,s){return s==null?!1:s.hasValidRowNumber()&&s.getBucket()===r.getBucket()?(r.setRowNumber(s.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(r){this.boundingBox=r}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(r,s){this.detectionResultColumns[r]=s}getDetectionResultColumn(r){return this.detectionResultColumns[r]}toString(){let r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new Jo;for(let o=0;o<r.getCodewords().length;o++){s.format("CW %3d:",o);for(let c=0;c<this.barcodeColumnCount+2;c++){if(this.detectionResultColumns[c]==null){s.format("    |   ");continue}let u=this.detectionResultColumns[c].getCodewords()[o];if(u==null){s.format("    |   ");continue}s.format(" %3d|%3d",u.getRowNumber(),u.getValue())}s.format("%n")}return s.toString()}}class ra{constructor(r,s,o,c){this.rowNumber=ra.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(s),this.bucket=Math.trunc(o),this.value=Math.trunc(c)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(r){return r!==ra.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(r){this.rowNumber=r}toString(){return this.rowNumber+"|"+this.value}}ra.BARCODE_ROW_UNKNOWN=-1;class En{static initialize(){for(let r=0;r<_e.SYMBOL_TABLE.length;r++){let s=_e.SYMBOL_TABLE[r],o=s&1;for(let c=0;c<_e.BARS_IN_MODULE;c++){let u=0;for(;(s&1)===o;)u+=1,s>>=1;o=s&1,En.RATIOS_TABLE[r]||(En.RATIOS_TABLE[r]=new Array(_e.BARS_IN_MODULE)),En.RATIOS_TABLE[r][_e.BARS_IN_MODULE-c-1]=Math.fround(u/_e.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(r){let s=En.getDecodedCodewordValue(En.sampleBitCounts(r));return s!==-1?s:En.getClosestDecodedValue(r)}static sampleBitCounts(r){let s=Ae.sum(r),o=new Int32Array(_e.BARS_IN_MODULE),c=0,u=0;for(let d=0;d<_e.MODULES_IN_CODEWORD;d++){let h=s/(2*_e.MODULES_IN_CODEWORD)+d*s/_e.MODULES_IN_CODEWORD;u+r[c]<=h&&(u+=r[c],c++),o[c]++}return o}static getDecodedCodewordValue(r){let s=En.getBitValue(r);return _e.getCodeword(s)===-1?-1:s}static getBitValue(r){let s=0;for(let o=0;o<r.length;o++)for(let c=0;c<r[o];c++)s=s<<1|(o%2===0?1:0);return Math.trunc(s)}static getClosestDecodedValue(r){let s=Ae.sum(r),o=new Array(_e.BARS_IN_MODULE);if(s>1)for(let d=0;d<o.length;d++)o[d]=Math.fround(r[d]/s);let c=sr.MAX_VALUE,u=-1;this.bSymbolTableReady||En.initialize();for(let d=0;d<En.RATIOS_TABLE.length;d++){let h=0,m=En.RATIOS_TABLE[d];for(let w=0;w<_e.BARS_IN_MODULE;w++){let C=Math.fround(m[w]-o[w]);if(h+=Math.fround(C*C),h>=c)break}h<c&&(c=h,u=_e.SYMBOL_TABLE[d])}return u}}En.bSymbolTableReady=!1,En.RATIOS_TABLE=new Array(_e.SYMBOL_TABLE.length).map(A=>new Array(_e.BARS_IN_MODULE));class N0{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(r){this.segmentIndex=r}getFileId(){return this.fileId}setFileId(r){this.fileId=r}getOptionalData(){return this.optionalData}setOptionalData(r){this.optionalData=r}isLastSegment(){return this.lastSegment}setLastSegment(r){this.lastSegment=r}getSegmentCount(){return this.segmentCount}setSegmentCount(r){this.segmentCount=r}getSender(){return this.sender||null}setSender(r){this.sender=r}getAddressee(){return this.addressee||null}setAddressee(r){this.addressee=r}getFileName(){return this.fileName}setFileName(r){this.fileName=r}getFileSize(){return this.fileSize}setFileSize(r){this.fileSize=r}getChecksum(){return this.checksum}setChecksum(r){this.checksum=r}getTimestamp(){return this.timestamp}setTimestamp(r){this.timestamp=r}}class R0{static parseLong(r,s=void 0){return parseInt(r,s)}}class O0 extends p{}O0.kind="NullPointerException";class Gw{writeBytes(r){this.writeBytesOffset(r,0,r.length)}writeBytesOffset(r,s,o){if(r==null)throw new O0;if(s<0||s>r.length||o<0||s+o>r.length||s+o<0)throw new D;if(o===0)return;for(let c=0;c<o;c++)this.write(r[s+c])}flush(){}close(){}}class $w extends p{}class Xw extends Gw{constructor(r=32){if(super(),this.count=0,r<0)throw new v("Negative initial size: "+r);this.buf=new Uint8Array(r)}ensureCapacity(r){r-this.buf.length>0&&this.grow(r)}grow(r){let o=this.buf.length<<1;if(o-r<0&&(o=r),o<0){if(r<0)throw new $w;o=I.MAX_VALUE}this.buf=S.copyOfUint8Array(this.buf,o)}write(r){this.ensureCapacity(this.count+1),this.buf[this.count]=r,this.count+=1}writeBytesOffset(r,s,o){if(s<0||s>r.length||o<0||s+o-r.length>0)throw new D;this.ensureCapacity(this.count+o),N.arraycopy(r,s,this.buf,this.count,o),this.count+=o}writeTo(r){r.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return S.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(r){return r?typeof r=="string"?this.toString_string(r):this.toString_number(r):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(r){return new String(this.buf).toString()}toString_number(r){return new String(this.buf).toString()}close(){}}var Ze;(function(A){A[A.ALPHA=0]="ALPHA",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.PUNCT=3]="PUNCT",A[A.ALPHA_SHIFT=4]="ALPHA_SHIFT",A[A.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ze||(Ze={}));function k0(){if(typeof window<"u")return window.BigInt||null;if(typeof Xt<"u")return Xt.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let bl;function ci(A){if(typeof bl>"u"&&(bl=k0()),bl===null)throw new Error("BigInt is not supported!");return bl(A)}function Yw(){let A=[];A[0]=ci(1);let r=ci(900);A[1]=r;for(let s=2;s<16;s++)A[s]=A[s-1]*r;return A}class X{static decode(r,s){let o=new de(""),c=$.ISO8859_1;o.enableDecoding(c);let u=1,d=r[u++],h=new N0;for(;u<r[0];){switch(d){case X.TEXT_COMPACTION_MODE_LATCH:u=X.textCompaction(r,u,o);break;case X.BYTE_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH_6:u=X.byteCompaction(d,r,c,u,o);break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(r[u++]);break;case X.NUMERIC_COMPACTION_MODE_LATCH:u=X.numericCompaction(r,u,o);break;case X.ECI_CHARSET:$.getCharacterSetECIByValue(r[u++]);break;case X.ECI_GENERAL_PURPOSE:u+=2;break;case X.ECI_USER_DEFINED:u++;break;case X.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=X.decodeMacroBlock(r,u,h);break;case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case X.MACRO_PDF417_TERMINATOR:throw new U;default:u--,u=X.textCompaction(r,u,o);break}if(u<r.length)d=r[u++];else throw U.getFormatInstance()}if(o.length()===0)throw U.getFormatInstance();let m=new mn(null,o.toString(),null,s);return m.setOther(h),m}static decodeMacroBlock(r,s,o){if(s+X.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw U.getFormatInstance();let c=new Int32Array(X.NUMBER_OF_SEQUENCE_CODEWORDS);for(let h=0;h<X.NUMBER_OF_SEQUENCE_CODEWORDS;h++,s++)c[h]=r[s];o.setSegmentIndex(I.parseInt(X.decodeBase900toBase10(c,X.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new de;s=X.textCompaction(r,s,u),o.setFileId(u.toString());let d=-1;for(r[s]===X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=s+1);s<r[0];)switch(r[s]){case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s++,r[s]){case X.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let h=new de;s=X.textCompaction(r,s+1,h),o.setFileName(h.toString());break;case X.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let m=new de;s=X.textCompaction(r,s+1,m),o.setSender(m.toString());break;case X.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let w=new de;s=X.textCompaction(r,s+1,w),o.setAddressee(w.toString());break;case X.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new de;s=X.numericCompaction(r,s+1,C),o.setSegmentCount(I.parseInt(C.toString()));break;case X.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let b=new de;s=X.numericCompaction(r,s+1,b),o.setTimestamp(R0.parseLong(b.toString()));break;case X.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let T=new de;s=X.numericCompaction(r,s+1,T),o.setChecksum(I.parseInt(T.toString()));break;case X.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let P=new de;s=X.numericCompaction(r,s+1,P),o.setFileSize(R0.parseLong(P.toString()));break;default:throw U.getFormatInstance()}break;case X.MACRO_PDF417_TERMINATOR:s++,o.setLastSegment(!0);break;default:throw U.getFormatInstance()}if(d!==-1){let h=s-d;o.isLastSegment()&&h--,o.setOptionalData(S.copyOfRange(r,d,d+h))}return s}static textCompaction(r,s,o){let c=new Int32Array((r[0]-s)*2),u=new Int32Array((r[0]-s)*2),d=0,h=!1;for(;s<r[0]&&!h;){let m=r[s++];if(m<X.TEXT_COMPACTION_MODE_LATCH)c[d]=m/30,c[d+1]=m%30,d+=2;else switch(m){case X.TEXT_COMPACTION_MODE_LATCH:c[d++]=X.TEXT_COMPACTION_MODE_LATCH;break;case X.BYTE_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH_6:case X.NUMERIC_COMPACTION_MODE_LATCH:case X.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case X.MACRO_PDF417_TERMINATOR:s--,h=!0;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c[d]=X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,m=r[s++],u[d]=m,d++;break}}return X.decodeTextCompaction(c,u,d,o),s}static decodeTextCompaction(r,s,o,c){let u=Ze.ALPHA,d=Ze.ALPHA,h=0;for(;h<o;){let m=r[h],w="";switch(u){case Ze.ALPHA:if(m<26)w=String.fromCharCode(65+m);else switch(m){case 26:w=" ";break;case X.LL:u=Ze.LOWER;break;case X.ML:u=Ze.MIXED;break;case X.PS:d=u,u=Ze.PUNCT_SHIFT;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[h]);break;case X.TEXT_COMPACTION_MODE_LATCH:u=Ze.ALPHA;break}break;case Ze.LOWER:if(m<26)w=String.fromCharCode(97+m);else switch(m){case 26:w=" ";break;case X.AS:d=u,u=Ze.ALPHA_SHIFT;break;case X.ML:u=Ze.MIXED;break;case X.PS:d=u,u=Ze.PUNCT_SHIFT;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[h]);break;case X.TEXT_COMPACTION_MODE_LATCH:u=Ze.ALPHA;break}break;case Ze.MIXED:if(m<X.PL)w=X.MIXED_CHARS[m];else switch(m){case X.PL:u=Ze.PUNCT;break;case 26:w=" ";break;case X.LL:u=Ze.LOWER;break;case X.AL:u=Ze.ALPHA;break;case X.PS:d=u,u=Ze.PUNCT_SHIFT;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[h]);break;case X.TEXT_COMPACTION_MODE_LATCH:u=Ze.ALPHA;break}break;case Ze.PUNCT:if(m<X.PAL)w=X.PUNCT_CHARS[m];else switch(m){case X.PAL:u=Ze.ALPHA;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[h]);break;case X.TEXT_COMPACTION_MODE_LATCH:u=Ze.ALPHA;break}break;case Ze.ALPHA_SHIFT:if(u=d,m<26)w=String.fromCharCode(65+m);else switch(m){case 26:w=" ";break;case X.TEXT_COMPACTION_MODE_LATCH:u=Ze.ALPHA;break}break;case Ze.PUNCT_SHIFT:if(u=d,m<X.PAL)w=X.PUNCT_CHARS[m];else switch(m){case X.PAL:u=Ze.ALPHA;break;case X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(s[h]);break;case X.TEXT_COMPACTION_MODE_LATCH:u=Ze.ALPHA;break}break}w!==""&&c.append(w),h++}}static byteCompaction(r,s,o,c,u){let d=new Xw,h=0,m=0,w=!1;switch(r){case X.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),b=s[c++];for(;c<s[0]&&!w;)switch(C[h++]=b,m=900*m+b,b=s[c++],b){case X.TEXT_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH:case X.NUMERIC_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH_6:case X.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case X.MACRO_PDF417_TERMINATOR:c--,w=!0;break;default:if(h%5===0&&h>0){for(let T=0;T<6;++T)d.write(Number(ci(m)>>ci(8*(5-T))));m=0,h=0}break}c===s[0]&&b<X.TEXT_COMPACTION_MODE_LATCH&&(C[h++]=b);for(let T=0;T<h;T++)d.write(C[T]);break;case X.BYTE_COMPACTION_MODE_LATCH_6:for(;c<s[0]&&!w;){let T=s[c++];if(T<X.TEXT_COMPACTION_MODE_LATCH)h++,m=900*m+T;else switch(T){case X.TEXT_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH:case X.NUMERIC_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH_6:case X.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case X.MACRO_PDF417_TERMINATOR:c--,w=!0;break}if(h%5===0&&h>0){for(let P=0;P<6;++P)d.write(Number(ci(m)>>ci(8*(5-P))));m=0,h=0}}break}return u.append(ve.decode(d.toByteArray(),o)),c}static numericCompaction(r,s,o){let c=0,u=!1,d=new Int32Array(X.MAX_NUMERIC_CODEWORDS);for(;s<r[0]&&!u;){let h=r[s++];if(s===r[0]&&(u=!0),h<X.TEXT_COMPACTION_MODE_LATCH)d[c]=h,c++;else switch(h){case X.TEXT_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH:case X.BYTE_COMPACTION_MODE_LATCH_6:case X.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case X.MACRO_PDF417_TERMINATOR:s--,u=!0;break}(c%X.MAX_NUMERIC_CODEWORDS===0||h===X.NUMERIC_COMPACTION_MODE_LATCH||u)&&c>0&&(o.append(X.decodeBase900toBase10(d,c)),c=0)}return s}static decodeBase900toBase10(r,s){let o=ci(0);for(let u=0;u<s;u++)o+=X.EXP900[s-u-1]*ci(r[u]);let c=o.toString();if(c.charAt(0)!=="1")throw new U;return c.substring(1)}}X.TEXT_COMPACTION_MODE_LATCH=900,X.BYTE_COMPACTION_MODE_LATCH=901,X.NUMERIC_COMPACTION_MODE_LATCH=902,X.BYTE_COMPACTION_MODE_LATCH_6=924,X.ECI_USER_DEFINED=925,X.ECI_GENERAL_PURPOSE=926,X.ECI_CHARSET=927,X.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,X.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,X.MACRO_PDF417_TERMINATOR=922,X.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,X.MAX_NUMERIC_CODEWORDS=15,X.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,X.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,X.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,X.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,X.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,X.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,X.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,X.PL=25,X.LL=27,X.AS=27,X.ML=28,X.AL=28,X.PS=29,X.PAL=29,X.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,X.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",X.EXP900=k0()?Yw():[],X.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Le{constructor(){}static decode(r,s,o,c,u,d,h){let m=new is(r,s,o,c,u),w=null,C=null,b;for(let F=!0;;F=!1){if(s!=null&&(w=Le.getRowIndicatorColumn(r,m,s,!0,d,h)),c!=null&&(C=Le.getRowIndicatorColumn(r,m,c,!1,d,h)),b=Le.merge(w,C),b==null)throw H.getNotFoundInstance();let j=b.getBoundingBox();if(F&&j!=null&&(j.getMinY()<m.getMinY()||j.getMaxY()>m.getMaxY()))m=j;else break}b.setBoundingBox(m);let T=b.getBarcodeColumnCount()+1;b.setDetectionResultColumn(0,w),b.setDetectionResultColumn(T,C);let P=w!=null;for(let F=1;F<=T;F++){let j=P?F:T-F;if(b.getDetectionResultColumn(j)!==void 0)continue;let V;j===0||j===T?V=new I0(m,j===0):V=new ea(m),b.setDetectionResultColumn(j,V);let Y=-1,ne=Y;for(let ie=m.getMinY();ie<=m.getMaxY();ie++){if(Y=Le.getStartColumn(b,j,ie,P),Y<0||Y>m.getMaxX()){if(ne===-1)continue;Y=ne}let ee=Le.detectCodeword(r,m.getMinX(),m.getMaxX(),P,Y,ie,d,h);ee!=null&&(V.setCodeword(ie,ee),ne=Y,d=Math.min(d,ee.getWidth()),h=Math.max(h,ee.getWidth()))}}return Le.createDecoderResult(b)}static merge(r,s){if(r==null&&s==null)return null;let o=Le.getBarcodeMetadata(r,s);if(o==null)return null;let c=is.merge(Le.adjustBoundingBox(r),Le.adjustBoundingBox(s));return new na(o,c)}static adjustBoundingBox(r){if(r==null)return null;let s=r.getRowHeights();if(s==null)return null;let o=Le.getMax(s),c=0;for(let h of s)if(c+=o-h,h>0)break;let u=r.getCodewords();for(let h=0;c>0&&u[h]==null;h++)c--;let d=0;for(let h=s.length-1;h>=0&&(d+=o-s[h],!(s[h]>0));h--);for(let h=u.length-1;d>0&&u[h]==null;h--)d--;return r.getBoundingBox().addMissingRows(c,d,r.isLeft())}static getMax(r){let s=-1;for(let o of r)s=Math.max(s,o);return s}static getBarcodeMetadata(r,s){let o;if(r==null||(o=r.getBarcodeMetadata())==null)return s==null?null:s.getBarcodeMetadata();let c;return s==null||(c=s.getBarcodeMetadata())==null?o:o.getColumnCount()!==c.getColumnCount()&&o.getErrorCorrectionLevel()!==c.getErrorCorrectionLevel()&&o.getRowCount()!==c.getRowCount()?null:o}static getRowIndicatorColumn(r,s,o,c,u,d){let h=new I0(s,c);for(let m=0;m<2;m++){let w=m===0?1:-1,C=Math.trunc(Math.trunc(o.getX()));for(let b=Math.trunc(Math.trunc(o.getY()));b<=s.getMaxY()&&b>=s.getMinY();b+=w){let T=Le.detectCodeword(r,0,r.getWidth(),c,C,b,u,d);T!=null&&(h.setCodeword(b,T),c?C=T.getStartX():C=T.getEndX())}}return h}static adjustCodewordCount(r,s){let o=s[0][1],c=o.getValue(),u=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-Le.getNumberOfECCodeWords(r.getBarcodeECLevel());if(c.length===0){if(u<1||u>_e.MAX_CODEWORDS_IN_BARCODE)throw H.getNotFoundInstance();o.setValue(u)}else c[0]!==u&&o.setValue(u)}static createDecoderResult(r){let s=Le.createBarcodeMatrix(r);Le.adjustCodewordCount(r,s);let o=new Array,c=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),u=[],d=new Array;for(let m=0;m<r.getBarcodeRowCount();m++)for(let w=0;w<r.getBarcodeColumnCount();w++){let C=s[m][w+1].getValue(),b=m*r.getBarcodeColumnCount()+w;C.length===0?o.push(b):C.length===1?c[b]=C[0]:(d.push(b),u.push(C))}let h=new Array(u.length);for(let m=0;m<h.length;m++)h[m]=u[m];return Le.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),c,_e.toIntArray(o),_e.toIntArray(d),h)}static createDecoderResultFromAmbiguousValues(r,s,o,c,u){let d=new Int32Array(c.length),h=100;for(;h-- >0;){for(let m=0;m<d.length;m++)s[c[m]]=u[m][d[m]];try{return Le.decodeCodewords(s,r,o)}catch(m){if(!(m instanceof _))throw m}if(d.length===0)throw _.getChecksumInstance();for(let m=0;m<d.length;m++)if(d[m]<u[m].length-1){d[m]++;break}else if(d[m]=0,m===d.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(r){let s=Array.from({length:r.getBarcodeRowCount()},()=>new Array(r.getBarcodeColumnCount()+2));for(let c=0;c<s.length;c++)for(let u=0;u<s[c].length;u++)s[c][u]=new ta;let o=0;for(let c of r.getDetectionResultColumns()){if(c!=null){for(let u of c.getCodewords())if(u!=null){let d=u.getRowNumber();if(d>=0){if(d>=s.length)continue;s[d][o].setValue(u.getValue())}}}o++}return s}static isValidBarcodeColumn(r,s){return s>=0&&s<=r.getBarcodeColumnCount()+1}static getStartColumn(r,s,o,c){let u=c?1:-1,d=null;if(Le.isValidBarcodeColumn(r,s-u)&&(d=r.getDetectionResultColumn(s-u).getCodeword(o)),d!=null)return c?d.getEndX():d.getStartX();if(d=r.getDetectionResultColumn(s).getCodewordNearby(o),d!=null)return c?d.getStartX():d.getEndX();if(Le.isValidBarcodeColumn(r,s-u)&&(d=r.getDetectionResultColumn(s-u).getCodewordNearby(o)),d!=null)return c?d.getEndX():d.getStartX();let h=0;for(;Le.isValidBarcodeColumn(r,s-u);){s-=u;for(let m of r.getDetectionResultColumn(s).getCodewords())if(m!=null)return(c?m.getEndX():m.getStartX())+u*h*(m.getEndX()-m.getStartX());h++}return c?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()}static detectCodeword(r,s,o,c,u,d,h,m){u=Le.adjustCodewordStartColumn(r,s,o,c,u,d);let w=Le.getModuleBitCount(r,s,o,c,u,d);if(w==null)return null;let C,b=Ae.sum(w);if(c)C=u+b;else{for(let F=0;F<w.length/2;F++){let j=w[F];w[F]=w[w.length-1-F],w[w.length-1-F]=j}C=u,u=C-b}if(!Le.checkCodewordSkew(b,h,m))return null;let T=En.getDecodedValue(w),P=_e.getCodeword(T);return P===-1?null:new ra(u,C,Le.getCodewordBucketNumber(T),P)}static getModuleBitCount(r,s,o,c,u,d){let h=u,m=new Int32Array(8),w=0,C=c?1:-1,b=c;for(;(c?h<o:h>=s)&&w<m.length;)r.get(h,d)===b?(m[w]++,h+=C):(w++,b=!b);return w===m.length||h===(c?o:s)&&w===m.length-1?m:null}static getNumberOfECCodeWords(r){return 2<<r}static adjustCodewordStartColumn(r,s,o,c,u,d){let h=u,m=c?-1:1;for(let w=0;w<2;w++){for(;(c?h>=s:h<o)&&c===r.get(h,d);){if(Math.abs(u-h)>Le.CODEWORD_SKEW_SIZE)return u;h+=m}m=-m,c=!c}return h}static checkCodewordSkew(r,s,o){return s-Le.CODEWORD_SKEW_SIZE<=r&&r<=o+Le.CODEWORD_SKEW_SIZE}static decodeCodewords(r,s,o){if(r.length===0)throw U.getFormatInstance();let c=1<<s+1,u=Le.correctErrors(r,o,c);Le.verifyCodewordCount(r,c);let d=X.decode(r,""+s);return d.setErrorsCorrected(u),d.setErasures(o.length),d}static correctErrors(r,s,o){if(s!=null&&s.length>o/2+Le.MAX_ERRORS||o<0||o>Le.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return Le.errorCorrection.decode(r,o,s)}static verifyCodewordCount(r,s){if(r.length<4)throw U.getFormatInstance();let o=r[0];if(o>r.length)throw U.getFormatInstance();if(o===0)if(s<r.length)r[0]=r.length-s;else throw U.getFormatInstance()}static getBitCountForCodeword(r){let s=new Int32Array(8),o=0,c=s.length-1;for(;!((r&1)!==o&&(o=r&1,c--,c<0));)s[c]++,r>>=1;return s}static getCodewordBucketNumber(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)}static getCodewordBucketNumber_number(r){return Le.getCodewordBucketNumber(Le.getBitCountForCodeword(r))}static getCodewordBucketNumber_Int32Array(r){return(r[0]-r[2]+r[4]-r[6]+9)%9}static toString(r){let s=new Jo;for(let o=0;o<r.length;o++){s.format("Row %2d: ",o);for(let c=0;c<r[o].length;c++){let u=r[o][c];u.getValue().length===0?s.format("        ",null):s.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}s.format("%n")}return s.toString()}}Le.CODEWORD_SKEW_SIZE=2,Le.MAX_ERRORS=3,Le.MAX_EC_CODEWORDS=512,Le.errorCorrection=new T0;class Ht{decode(r,s=null){let o=Ht.decode(r,s,!1);if(o==null||o.length===0||o[0]==null)throw H.getNotFoundInstance();return o[0]}decodeMultiple(r,s=null){try{return Ht.decode(r,s,!0)}catch(o){throw o instanceof U||o instanceof _?H.getNotFoundInstance():o}}static decode(r,s,o){const c=new Array,u=ke.detectMultiple(r,s,o);for(const d of u.getPoints()){const h=Le.decode(u.getBits(),d[4],d[5],d[6],d[7],Ht.getMinCodewordWidth(d),Ht.getMaxCodewordWidth(d)),m=new De(h.getText(),h.getRawBytes(),void 0,d,le.PDF_417);m.putMetadata(Qe.ERROR_CORRECTION_LEVEL,h.getECLevel());const w=h.getOther();w!=null&&m.putMetadata(Qe.PDF417_EXTRA_METADATA,w),c.push(m)}return c.map(d=>d)}static getMaxWidth(r,s){return r==null||s==null?0:Math.trunc(Math.abs(r.getX()-s.getX()))}static getMinWidth(r,s){return r==null||s==null?I.MAX_VALUE:Math.trunc(Math.abs(r.getX()-s.getX()))}static getMaxCodewordWidth(r){return Math.floor(Math.max(Math.max(Ht.getMaxWidth(r[0],r[4]),Ht.getMaxWidth(r[6],r[2])*_e.MODULES_IN_CODEWORD/_e.MODULES_IN_STOP_PATTERN),Math.max(Ht.getMaxWidth(r[1],r[5]),Ht.getMaxWidth(r[7],r[3])*_e.MODULES_IN_CODEWORD/_e.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(r){return Math.floor(Math.min(Math.min(Ht.getMinWidth(r[0],r[4]),Ht.getMinWidth(r[6],r[2])*_e.MODULES_IN_CODEWORD/_e.MODULES_IN_STOP_PATTERN),Math.min(Ht.getMinWidth(r[1],r[5]),Ht.getMinWidth(r[7],r[3])*_e.MODULES_IN_CODEWORD/_e.MODULES_IN_STOP_PATTERN)))}reset(){}}class _l extends p{}_l.kind="ReaderException";class P0{constructor(r,s){this.verbose=r===!0,s&&this.setHints(s)}decode(r,s){return s&&this.setHints(s),this.decodeInternal(r)}decodeWithState(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)}setHints(r){this.hints=r;const s=!i(r)&&r.get(G.TRY_HARDER)===!0,o=i(r)?null:r.get(G.POSSIBLE_FORMATS),c=new Array;if(!i(o)){const u=o.some(d=>d===le.UPC_A||d===le.UPC_E||d===le.EAN_13||d===le.EAN_8||d===le.CODABAR||d===le.CODE_39||d===le.CODE_93||d===le.CODE_128||d===le.ITF||d===le.RSS_14||d===le.RSS_EXPANDED);u&&!s&&c.push(new Us(r,this.verbose)),o.includes(le.QR_CODE)&&c.push(new li),o.includes(le.DATA_MATRIX)&&c.push(new ai),o.includes(le.AZTEC)&&c.push(new Ls),o.includes(le.PDF_417)&&c.push(new Ht),u&&s&&c.push(new Us(r,this.verbose))}c.length===0&&(s||c.push(new Us(r,this.verbose)),c.push(new li),c.push(new ai),c.push(new Ls),c.push(new Ht),s&&c.push(new Us(r,this.verbose))),this.readers=c}reset(){if(this.readers!==null)for(const r of this.readers)r.reset()}decodeInternal(r){if(this.readers===null)throw new _l("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(r,this.hints)}catch(o){if(o instanceof _l)continue}throw new H("No MultiFormat Readers were able to detect the code.")}}class Kw extends Te{constructor(r=null,s=500){const o=new P0;o.setHints(r),super(o,s)}decodeBitmap(r){return this.reader.decodeWithState(r)}}class qw extends Te{constructor(r=500){super(new Ht,r)}}class Zw extends Te{constructor(r=500){super(new li,r)}}var Hu;(function(A){A[A.ERROR_CORRECTION=0]="ERROR_CORRECTION",A[A.CHARACTER_SET=1]="CHARACTER_SET",A[A.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",A[A.MIN_SIZE=3]="MIN_SIZE",A[A.MAX_SIZE=4]="MAX_SIZE",A[A.MARGIN=5]="MARGIN",A[A.PDF417_COMPACT=6]="PDF417_COMPACT",A[A.PDF417_COMPACTION=7]="PDF417_COMPACTION",A[A.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",A[A.AZTEC_LAYERS=9]="AZTEC_LAYERS",A[A.QR_VERSION=10]="QR_VERSION"})(Hu||(Hu={}));var Ot=Hu;class Wu{constructor(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new Nt(r,Int32Array.from([1])))}buildGenerator(r){const s=this.cachedGenerators;if(r>=s.length){let o=s[s.length-1];const c=this.field;for(let u=s.length;u<=r;u++){const d=o.multiply(new Nt(c,Int32Array.from([1,c.exp(u-1+c.getGeneratorBase())])));s.push(d),o=d}}return s[r]}encode(r,s){if(s===0)throw new v("No error correction bytes");const o=r.length-s;if(o<=0)throw new v("No data bytes provided");const c=this.buildGenerator(s),u=new Int32Array(o);N.arraycopy(r,0,u,0,o);let d=new Nt(this.field,u);d=d.multiplyByMonomial(s,1);const m=d.divide(c)[1].getCoefficients(),w=s-m.length;for(let C=0;C<w;C++)r[o+C]=0;N.arraycopy(m,0,r,o+w,m.length)}}class vt{constructor(){}static applyMaskPenaltyRule1(r){return vt.applyMaskPenaltyRule1Internal(r,!0)+vt.applyMaskPenaltyRule1Internal(r,!1)}static applyMaskPenaltyRule2(r){let s=0;const o=r.getArray(),c=r.getWidth(),u=r.getHeight();for(let d=0;d<u-1;d++){const h=o[d];for(let m=0;m<c-1;m++){const w=h[m];w===h[m+1]&&w===o[d+1][m]&&w===o[d+1][m+1]&&s++}}return vt.N2*s}static applyMaskPenaltyRule3(r){let s=0;const o=r.getArray(),c=r.getWidth(),u=r.getHeight();for(let d=0;d<u;d++)for(let h=0;h<c;h++){const m=o[d];h+6<c&&m[h]===1&&m[h+1]===0&&m[h+2]===1&&m[h+3]===1&&m[h+4]===1&&m[h+5]===0&&m[h+6]===1&&(vt.isWhiteHorizontal(m,h-4,h)||vt.isWhiteHorizontal(m,h+7,h+11))&&s++,d+6<u&&o[d][h]===1&&o[d+1][h]===0&&o[d+2][h]===1&&o[d+3][h]===1&&o[d+4][h]===1&&o[d+5][h]===0&&o[d+6][h]===1&&(vt.isWhiteVertical(o,h,d-4,d)||vt.isWhiteVertical(o,h,d+7,d+11))&&s++}return s*vt.N3}static isWhiteHorizontal(r,s,o){s=Math.max(s,0),o=Math.min(o,r.length);for(let c=s;c<o;c++)if(r[c]===1)return!1;return!0}static isWhiteVertical(r,s,o,c){o=Math.max(o,0),c=Math.min(c,r.length);for(let u=o;u<c;u++)if(r[u][s]===1)return!1;return!0}static applyMaskPenaltyRule4(r){let s=0;const o=r.getArray(),c=r.getWidth(),u=r.getHeight();for(let m=0;m<u;m++){const w=o[m];for(let C=0;C<c;C++)w[C]===1&&s++}const d=r.getHeight()*r.getWidth();return Math.floor(Math.abs(s*2-d)*10/d)*vt.N4}static getDataMaskBit(r,s,o){let c,u;switch(r){case 0:c=o+s&1;break;case 1:c=o&1;break;case 2:c=s%3;break;case 3:c=(o+s)%3;break;case 4:c=Math.floor(o/2)+Math.floor(s/3)&1;break;case 5:u=o*s,c=(u&1)+u%3;break;case 6:u=o*s,c=(u&1)+u%3&1;break;case 7:u=o*s,c=u%3+(o+s&1)&1;break;default:throw new v("Invalid mask pattern: "+r)}return c===0}static applyMaskPenaltyRule1Internal(r,s){let o=0;const c=s?r.getHeight():r.getWidth(),u=s?r.getWidth():r.getHeight(),d=r.getArray();for(let h=0;h<c;h++){let m=0,w=-1;for(let C=0;C<u;C++){const b=s?d[h][C]:d[C][h];b===w?m++:(m>=5&&(o+=vt.N1+(m-5)),m=1,w=b)}m>=5&&(o+=vt.N1+(m-5))}return o}}vt.N1=3,vt.N2=3,vt.N3=40,vt.N4=10;class Sl{constructor(r,s){this.width=r,this.height=s;const o=new Array(s);for(let c=0;c!==s;c++)o[c]=new Uint8Array(r);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(r,s){return this.bytes[s][r]}getArray(){return this.bytes}setNumber(r,s,o){this.bytes[s][r]=o}setBoolean(r,s,o){this.bytes[s][r]=o?1:0}clear(r){for(const s of this.bytes)S.fill(s,r)}equals(r){if(!(r instanceof Sl))return!1;const s=r;if(this.width!==s.width||this.height!==s.height)return!1;for(let o=0,c=this.height;o<c;++o){const u=this.bytes[o],d=s.bytes[o];for(let h=0,m=this.width;h<m;++h)if(u[h]!==d[h])return!1}return!0}toString(){const r=new de;for(let s=0,o=this.height;s<o;++s){const c=this.bytes[s];for(let u=0,d=this.width;u<d;++u)switch(c[u]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()}}class ss{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const r=new de;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()}setMode(r){this.mode=r}setECLevel(r){this.ecLevel=r}setVersion(r){this.version=r}setMaskPattern(r){this.maskPattern=r}setMatrix(r){this.matrix=r}static isValidMaskPattern(r){return r>=0&&r<ss.NUM_MASK_PATTERNS}}ss.NUM_MASK_PATTERNS=8;class Je extends p{}Je.kind="WriterException";class be{constructor(){}static clearMatrix(r){r.clear(255)}static buildMatrix(r,s,o,c,u){be.clearMatrix(u),be.embedBasicPatterns(o,u),be.embedTypeInfo(s,c,u),be.maybeEmbedVersionInfo(o,u),be.embedDataBits(r,c,u)}static embedBasicPatterns(r,s){be.embedPositionDetectionPatternsAndSeparators(s),be.embedDarkDotAtLeftBottomCorner(s),be.maybeEmbedPositionAdjustmentPatterns(r,s),be.embedTimingPatterns(s)}static embedTypeInfo(r,s,o){const c=new L;be.makeTypeInfoBits(r,s,c);for(let u=0,d=c.getSize();u<d;++u){const h=c.get(c.getSize()-1-u),m=be.TYPE_INFO_COORDINATES[u],w=m[0],C=m[1];if(o.setBoolean(w,C,h),u<8){const b=o.getWidth()-u-1;o.setBoolean(b,8,h)}else{const T=o.getHeight()-7+(u-8);o.setBoolean(8,T,h)}}}static maybeEmbedVersionInfo(r,s){if(r.getVersionNumber()<7)return;const o=new L;be.makeVersionInfoBits(r,o);let c=6*3-1;for(let u=0;u<6;++u)for(let d=0;d<3;++d){const h=o.get(c);c--,s.setBoolean(u,s.getHeight()-11+d,h),s.setBoolean(s.getHeight()-11+d,u,h)}}static embedDataBits(r,s,o){let c=0,u=-1,d=o.getWidth()-1,h=o.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);h>=0&&h<o.getHeight();){for(let m=0;m<2;++m){const w=d-m;if(!be.isEmpty(o.get(w,h)))continue;let C;c<r.getSize()?(C=r.get(c),++c):C=!1,s!==255&&vt.getDataMaskBit(s,w,h)&&(C=!C),o.setBoolean(w,h,C)}h+=u}u=-u,h+=u,d-=2}if(c!==r.getSize())throw new Je("Not all bits consumed: "+c+"/"+r.getSize())}static findMSBSet(r){return 32-I.numberOfLeadingZeros(r)}static calculateBCHCode(r,s){if(s===0)throw new v("0 polynomial");const o=be.findMSBSet(s);for(r<<=o-1;be.findMSBSet(r)>=o;)r^=s<<be.findMSBSet(r)-o;return r}static makeTypeInfoBits(r,s,o){if(!ss.isValidMaskPattern(s))throw new Je("Invalid mask pattern");const c=r.getBits()<<3|s;o.appendBits(c,5);const u=be.calculateBCHCode(c,be.TYPE_INFO_POLY);o.appendBits(u,10);const d=new L;if(d.appendBits(be.TYPE_INFO_MASK_PATTERN,15),o.xor(d),o.getSize()!==15)throw new Je("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(r,s){s.appendBits(r.getVersionNumber(),6);const o=be.calculateBCHCode(r.getVersionNumber(),be.VERSION_INFO_POLY);if(s.appendBits(o,12),s.getSize()!==18)throw new Je("should not happen but we got: "+s.getSize())}static isEmpty(r){return r===255}static embedTimingPatterns(r){for(let s=8;s<r.getWidth()-8;++s){const o=(s+1)%2;be.isEmpty(r.get(s,6))&&r.setNumber(s,6,o),be.isEmpty(r.get(6,s))&&r.setNumber(6,s,o)}}static embedDarkDotAtLeftBottomCorner(r){if(r.get(8,r.getHeight()-8)===0)throw new Je;r.setNumber(8,r.getHeight()-8,1)}static embedHorizontalSeparationPattern(r,s,o){for(let c=0;c<8;++c){if(!be.isEmpty(o.get(r+c,s)))throw new Je;o.setNumber(r+c,s,0)}}static embedVerticalSeparationPattern(r,s,o){for(let c=0;c<7;++c){if(!be.isEmpty(o.get(r,s+c)))throw new Je;o.setNumber(r,s+c,0)}}static embedPositionAdjustmentPattern(r,s,o){for(let c=0;c<5;++c){const u=be.POSITION_ADJUSTMENT_PATTERN[c];for(let d=0;d<5;++d)o.setNumber(r+d,s+c,u[d])}}static embedPositionDetectionPattern(r,s,o){for(let c=0;c<7;++c){const u=be.POSITION_DETECTION_PATTERN[c];for(let d=0;d<7;++d)o.setNumber(r+d,s+c,u[d])}}static embedPositionDetectionPatternsAndSeparators(r){const s=be.POSITION_DETECTION_PATTERN[0].length;be.embedPositionDetectionPattern(0,0,r),be.embedPositionDetectionPattern(r.getWidth()-s,0,r),be.embedPositionDetectionPattern(0,r.getWidth()-s,r);const o=8;be.embedHorizontalSeparationPattern(0,o-1,r),be.embedHorizontalSeparationPattern(r.getWidth()-o,o-1,r),be.embedHorizontalSeparationPattern(0,r.getWidth()-o,r);const c=7;be.embedVerticalSeparationPattern(c,0,r),be.embedVerticalSeparationPattern(r.getHeight()-c-1,0,r),be.embedVerticalSeparationPattern(c,r.getHeight()-c,r)}static maybeEmbedPositionAdjustmentPatterns(r,s){if(r.getVersionNumber()<2)return;const o=r.getVersionNumber()-1,c=be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let u=0,d=c.length;u!==d;u++){const h=c[u];if(h>=0)for(let m=0;m!==d;m++){const w=c[m];w>=0&&be.isEmpty(s.get(w,h))&&be.embedPositionAdjustmentPattern(w-2,h-2,s)}}}}be.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),be.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),be.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),be.VERSION_INFO_POLY=7973,be.TYPE_INFO_POLY=1335,be.TYPE_INFO_MASK_PATTERN=21522;class Qw{constructor(r,s){this.dataBytes=r,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class it{constructor(){}static calculateMaskPenalty(r){return vt.applyMaskPenaltyRule1(r)+vt.applyMaskPenaltyRule2(r)+vt.applyMaskPenaltyRule3(r)+vt.applyMaskPenaltyRule4(r)}static encode(r,s,o=null){let c=it.DEFAULT_BYTE_MODE_ENCODING;const u=o!==null&&o.get(Ot.CHARACTER_SET)!==void 0;u&&(c=o.get(Ot.CHARACTER_SET).toString());const d=this.chooseMode(r,c),h=new L;if(d===Ce.BYTE&&(u||it.DEFAULT_BYTE_MODE_ENCODING!==c)){const ie=$.getCharacterSetECIByName(c);ie!==void 0&&this.appendECI(ie,h)}this.appendModeInfo(d,h);const m=new L;this.appendBytes(r,d,m,c);let w;if(o!==null&&o.get(Ot.QR_VERSION)!==void 0){const ie=Number.parseInt(o.get(Ot.QR_VERSION).toString(),10);w=Ee.getVersionForNumber(ie);const ee=this.calculateBitsNeeded(d,h,m,w);if(!this.willFit(ee,w,s))throw new Je("Data too big for requested version")}else w=this.recommendVersion(s,d,h,m);const C=new L;C.appendBitArray(h);const b=d===Ce.BYTE?m.getSizeInBytes():r.length;this.appendLengthInfo(b,w,d,C),C.appendBitArray(m);const T=w.getECBlocksForLevel(s),P=w.getTotalCodewords()-T.getTotalECCodewords();this.terminateBits(P,C);const F=this.interleaveWithECBytes(C,w.getTotalCodewords(),P,T.getNumBlocks()),j=new ss;j.setECLevel(s),j.setMode(d),j.setVersion(w);const V=w.getDimensionForVersion(),Y=new Sl(V,V),ne=this.chooseMaskPattern(F,s,w,Y);return j.setMaskPattern(ne),be.buildMatrix(F,s,w,ne,Y),j.setMatrix(Y),j}static recommendVersion(r,s,o,c){const u=this.calculateBitsNeeded(s,o,c,Ee.getVersionForNumber(1)),d=this.chooseVersion(u,r),h=this.calculateBitsNeeded(s,o,c,d);return this.chooseVersion(h,r)}static calculateBitsNeeded(r,s,o,c){return s.getSize()+r.getCharacterCountBits(c)+o.getSize()}static getAlphanumericCode(r){return r<it.ALPHANUMERIC_TABLE.length?it.ALPHANUMERIC_TABLE[r]:-1}static chooseMode(r,s=null){if($.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(r))return Ce.KANJI;let o=!1,c=!1;for(let u=0,d=r.length;u<d;++u){const h=r.charAt(u);if(it.isDigit(h))o=!0;else if(this.getAlphanumericCode(h.charCodeAt(0))!==-1)c=!0;else return Ce.BYTE}return c?Ce.ALPHANUMERIC:o?Ce.NUMERIC:Ce.BYTE}static isOnlyDoubleByteKanji(r){let s;try{s=ve.encode(r,$.SJIS)}catch{return!1}const o=s.length;if(o%2!==0)return!1;for(let c=0;c<o;c+=2){const u=s[c]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(r,s,o,c){let u=Number.MAX_SAFE_INTEGER,d=-1;for(let h=0;h<ss.NUM_MASK_PATTERNS;h++){be.buildMatrix(r,s,o,h,c);let m=this.calculateMaskPenalty(c);m<u&&(u=m,d=h)}return d}static chooseVersion(r,s){for(let o=1;o<=40;o++){const c=Ee.getVersionForNumber(o);if(it.willFit(r,c,s))return c}throw new Je("Data too big")}static willFit(r,s,o){const c=s.getTotalCodewords(),d=s.getECBlocksForLevel(o).getTotalECCodewords(),h=c-d,m=(r+7)/8;return h>=m}static terminateBits(r,s){const o=r*8;if(s.getSize()>o)throw new Je("data bits cannot fit in the QR Code"+s.getSize()+" > "+o);for(let d=0;d<4&&s.getSize()<o;++d)s.appendBit(!1);const c=s.getSize()&7;if(c>0)for(let d=c;d<8;d++)s.appendBit(!1);const u=r-s.getSizeInBytes();for(let d=0;d<u;++d)s.appendBits(d&1?17:236,8);if(s.getSize()!==o)throw new Je("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(r,s,o,c,u,d){if(c>=o)throw new Je("Block ID too large");const h=r%o,m=o-h,w=Math.floor(r/o),C=w+1,b=Math.floor(s/o),T=b+1,P=w-b,F=C-T;if(P!==F)throw new Je("EC bytes mismatch");if(o!==m+h)throw new Je("RS blocks mismatch");if(r!==(b+P)*m+(T+F)*h)throw new Je("Total bytes mismatch");c<m?(u[0]=b,d[0]=P):(u[0]=T,d[0]=F)}static interleaveWithECBytes(r,s,o,c){if(r.getSizeInBytes()!==o)throw new Je("Number of bits and data bytes does not match");let u=0,d=0,h=0;const m=new Array;for(let C=0;C<c;++C){const b=new Int32Array(1),T=new Int32Array(1);it.getNumDataBytesAndNumECBytesForBlockID(s,o,c,C,b,T);const P=b[0],F=new Uint8Array(P);r.toBytes(8*u,F,0,P);const j=it.generateECBytes(F,T[0]);m.push(new Qw(F,j)),d=Math.max(d,P),h=Math.max(h,j.length),u+=b[0]}if(o!==u)throw new Je("Data bytes does not match offset");const w=new L;for(let C=0;C<d;++C)for(const b of m){const T=b.getDataBytes();C<T.length&&w.appendBits(T[C],8)}for(let C=0;C<h;++C)for(const b of m){const T=b.getErrorCorrectionBytes();C<T.length&&w.appendBits(T[C],8)}if(s!==w.getSizeInBytes())throw new Je("Interleaving error: "+s+" and "+w.getSizeInBytes()+" differ.");return w}static generateECBytes(r,s){const o=r.length,c=new Int32Array(o+s);for(let d=0;d<o;d++)c[d]=r[d]&255;new Wu(Me.QR_CODE_FIELD_256).encode(c,s);const u=new Uint8Array(s);for(let d=0;d<s;d++)u[d]=c[o+d];return u}static appendModeInfo(r,s){s.appendBits(r.getBits(),4)}static appendLengthInfo(r,s,o,c){const u=o.getCharacterCountBits(s);if(r>=1<<u)throw new Je(r+" is bigger than "+((1<<u)-1));c.appendBits(r,u)}static appendBytes(r,s,o,c){switch(s){case Ce.NUMERIC:it.appendNumericBytes(r,o);break;case Ce.ALPHANUMERIC:it.appendAlphanumericBytes(r,o);break;case Ce.BYTE:it.append8BitBytes(r,o,c);break;case Ce.KANJI:it.appendKanjiBytes(r,o);break;default:throw new Je("Invalid mode: "+s)}}static getDigit(r){return r.charCodeAt(0)-48}static isDigit(r){const s=it.getDigit(r);return s>=0&&s<=9}static appendNumericBytes(r,s){const o=r.length;let c=0;for(;c<o;){const u=it.getDigit(r.charAt(c));if(c+2<o){const d=it.getDigit(r.charAt(c+1)),h=it.getDigit(r.charAt(c+2));s.appendBits(u*100+d*10+h,10),c+=3}else if(c+1<o){const d=it.getDigit(r.charAt(c+1));s.appendBits(u*10+d,7),c+=2}else s.appendBits(u,4),c++}}static appendAlphanumericBytes(r,s){const o=r.length;let c=0;for(;c<o;){const u=it.getAlphanumericCode(r.charCodeAt(c));if(u===-1)throw new Je;if(c+1<o){const d=it.getAlphanumericCode(r.charCodeAt(c+1));if(d===-1)throw new Je;s.appendBits(u*45+d,11),c+=2}else s.appendBits(u,6),c++}}static append8BitBytes(r,s,o){let c;try{c=ve.encode(r,o)}catch(u){throw new Je(u)}for(let u=0,d=c.length;u!==d;u++){const h=c[u];s.appendBits(h,8)}}static appendKanjiBytes(r,s){let o;try{o=ve.encode(r,$.SJIS)}catch(u){throw new Je(u)}const c=o.length;for(let u=0;u<c;u+=2){const d=o[u]&255,h=o[u+1]&255,m=d<<8&4294967295|h;let w=-1;if(m>=33088&&m<=40956?w=m-33088:m>=57408&&m<=60351&&(w=m-49472),w===-1)throw new Je("Invalid byte sequence");const C=(w>>8)*192+(w&255);s.appendBits(C,13)}}static appendECI(r,s){s.appendBits(Ce.ECI.getBits(),4),s.appendBits(r.getValue(),8)}}it.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),it.DEFAULT_BYTE_MODE_ENCODING=$.UTF8.getName();class os{write(r,s,o,c=null){if(r.length===0)throw new v("Found empty contents");if(s<0||o<0)throw new v("Requested dimensions are too small: "+s+"x"+o);let u=tt.L,d=os.QUIET_ZONE_SIZE;c!==null&&(c.get(Ot.ERROR_CORRECTION)!==void 0&&(u=tt.fromString(c.get(Ot.ERROR_CORRECTION).toString())),c.get(Ot.MARGIN)!==void 0&&(d=Number.parseInt(c.get(Ot.MARGIN).toString(),10)));const h=it.encode(r,u,c);return this.renderResult(h,s,o,d)}writeToDom(r,s,o,c,u=null){typeof r=="string"&&(r=document.querySelector(r));const d=this.write(s,o,c,u);r&&r.appendChild(d)}renderResult(r,s,o,c){const u=r.getMatrix();if(u===null)throw new an;const d=u.getWidth(),h=u.getHeight(),m=d+c*2,w=h+c*2,C=Math.max(s,m),b=Math.max(o,w),T=Math.min(Math.floor(C/m),Math.floor(b/w)),P=Math.floor((C-d*T)/2),F=Math.floor((b-h*T)/2),j=this.createSVGElement(C,b);for(let V=0,Y=F;V<h;V++,Y+=T)for(let ne=0,ie=P;ne<d;ne++,ie+=T)if(u.get(ne,V)===1){const ee=this.createSvgRectElement(ie,Y,T,T);j.appendChild(ee)}return j}createSVGElement(r,s){const o=document.createElementNS(os.SVG_NS,"svg");return o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",s.toString()),o}createSvgRectElement(r,s,o,c){const u=document.createElementNS(os.SVG_NS,"rect");return u.setAttributeNS(null,"x",r.toString()),u.setAttributeNS(null,"y",s.toString()),u.setAttributeNS(null,"height",o.toString()),u.setAttributeNS(null,"width",c.toString()),u.setAttributeNS(null,"fill","#000000"),u}}os.QUIET_ZONE_SIZE=4,os.SVG_NS="http://www.w3.org/2000/svg";class Vs{encode(r,s,o,c,u){if(r.length===0)throw new v("Found empty contents");if(s!==le.QR_CODE)throw new v("Can only encode QR_CODE, but got "+s);if(o<0||c<0)throw new v(`Requested dimensions are too small: ${o}x${c}`);let d=tt.L,h=Vs.QUIET_ZONE_SIZE;u!==null&&(u.get(Ot.ERROR_CORRECTION)!==void 0&&(d=tt.fromString(u.get(Ot.ERROR_CORRECTION).toString())),u.get(Ot.MARGIN)!==void 0&&(h=Number.parseInt(u.get(Ot.MARGIN).toString(),10)));const m=it.encode(r,d,u);return Vs.renderResult(m,o,c,h)}static renderResult(r,s,o,c){const u=r.getMatrix();if(u===null)throw new an;const d=u.getWidth(),h=u.getHeight(),m=d+c*2,w=h+c*2,C=Math.max(s,m),b=Math.max(o,w),T=Math.min(Math.floor(C/m),Math.floor(b/w)),P=Math.floor((C-d*T)/2),F=Math.floor((b-h*T)/2),j=new se(C,b);for(let V=0,Y=F;V<h;V++,Y+=T)for(let ne=0,ie=P;ne<d;ne++,ie+=T)u.get(ne,V)===1&&j.setRegion(ie,Y,T,T);return j}}Vs.QUIET_ZONE_SIZE=4;class Jw{encode(r,s,o,c,u){let d;switch(s){case le.QR_CODE:d=new Vs;break;default:throw new v("No encoder available for format "+s)}return d.encode(r,s,o,c,u)}}class Tr extends K{constructor(r,s,o,c,u,d,h,m){if(super(d,h),this.yuvData=r,this.dataWidth=s,this.dataHeight=o,this.left=c,this.top=u,c+d>s||u+h>o)throw new v("Crop rectangle does not fit within image data.");m&&this.reverseHorizontal(d,h)}getRow(r,s){if(r<0||r>=this.getHeight())throw new v("Requested row is outside the image: "+r);const o=this.getWidth();(s==null||s.length<o)&&(s=new Uint8ClampedArray(o));const c=(r+this.top)*this.dataWidth+this.left;return N.arraycopy(this.yuvData,c,s,0,o),s}getMatrix(){const r=this.getWidth(),s=this.getHeight();if(r===this.dataWidth&&s===this.dataHeight)return this.yuvData;const o=r*s,c=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return N.arraycopy(this.yuvData,u,c,0,o),c;for(let d=0;d<s;d++){const h=d*r;N.arraycopy(this.yuvData,u,c,h,r),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(r,s,o,c){return new Tr(this.yuvData,this.dataWidth,this.dataHeight,this.left+r,this.top+s,o,c,!1)}renderThumbnail(){const r=this.getWidth()/Tr.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/Tr.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(r*s),c=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let d=0;d<s;d++){const h=d*r;for(let m=0;m<r;m++){const w=c[u+m*Tr.THUMBNAIL_SCALE_FACTOR]&255;o[h+m]=4278190080|w*65793}u+=this.dataWidth*Tr.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/Tr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Tr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(r,s){const o=this.yuvData;for(let c=0,u=this.top*this.dataWidth+this.left;c<s;c++,u+=this.dataWidth){const d=u+r/2;for(let h=u,m=u+r-1;h<d;h++,m--){const w=o[h];o[h]=o[m],o[m]=w}}}invert(){return new re(this)}}Tr.THUMBNAIL_SCALE_FACTOR=2;class Gu extends K{constructor(r,s,o,c,u,d,h){if(super(s,o),this.dataWidth=c,this.dataHeight=u,this.left=d,this.top=h,r.BYTES_PER_ELEMENT===4){const m=s*o,w=new Uint8ClampedArray(m);for(let C=0;C<m;C++){const b=r[C],T=b>>16&255,P=b>>7&510,F=b&255;w[C]=(T+P+F)/4&255}this.luminances=w}else this.luminances=r;if(c===void 0&&(this.dataWidth=s),u===void 0&&(this.dataHeight=o),d===void 0&&(this.left=0),h===void 0&&(this.top=0),this.left+s>this.dataWidth||this.top+o>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(r,s){if(r<0||r>=this.getHeight())throw new v("Requested row is outside the image: "+r);const o=this.getWidth();(s==null||s.length<o)&&(s=new Uint8ClampedArray(o));const c=(r+this.top)*this.dataWidth+this.left;return N.arraycopy(this.luminances,c,s,0,o),s}getMatrix(){const r=this.getWidth(),s=this.getHeight();if(r===this.dataWidth&&s===this.dataHeight)return this.luminances;const o=r*s,c=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(r===this.dataWidth)return N.arraycopy(this.luminances,u,c,0,o),c;for(let d=0;d<s;d++){const h=d*r;N.arraycopy(this.luminances,u,c,h,r),u+=this.dataWidth}return c}isCropSupported(){return!0}crop(r,s,o,c){return new Gu(this.luminances,o,c,this.dataWidth,this.dataHeight,this.left+r,this.top+s)}invert(){return new re(this)}}class D0 extends ${static forName(r){return this.getCharacterSetECIByName(r)}}class $u{}$u.ISO_8859_1=$.ISO8859_1;class M0{isCompact(){return this.compact}setCompact(r){this.compact=r}getSize(){return this.size}setSize(r){this.size=r}getLayers(){return this.layers}setLayers(r){this.layers=r}getCodeWords(){return this.codeWords}setCodeWords(r){this.codeWords=r}getMatrix(){return this.matrix}setMatrix(r){this.matrix=r}}class L0{static singletonList(r){return[r]}static min(r,s){return r.sort(s)[0]}}class ey{constructor(r){this.previous=r}getPrevious(){return this.previous}}class Hs extends ey{constructor(r,s,o){super(r),this.value=s,this.bitCount=o}appendTo(r,s){r.appendBits(this.value,this.bitCount)}add(r,s){return new Hs(this,r,s)}addBinaryShift(r,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Hs(this,r,s)}toString(){let r=this.value&(1<<this.bitCount)-1;return r|=1<<this.bitCount,"<"+I.toBinaryString(r|1<<this.bitCount).substring(1)+">"}}class Xu extends Hs{constructor(r,s,o){super(r,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=o}appendTo(r,s){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(r.appendBits(31,5),this.binaryShiftByteCount>62?r.appendBits(this.binaryShiftByteCount-31,16):o===0?r.appendBits(Math.min(this.binaryShiftByteCount,31),5):r.appendBits(this.binaryShiftByteCount-31,5)),r.appendBits(s[this.binaryShiftStart+o],8)}addBinaryShift(r,s){return new Xu(this,r,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ty(A,r,s){return new Xu(A,r,s)}function ia(A,r,s){return new Hs(A,r,s)}const ny=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ui=0,Tl=1,qn=2,B0=3,Ir=4,ry=new Hs(null,0,0),Yu=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function iy(A){for(let r of A)S.fill(r,-1);return A[ui][Ir]=0,A[Tl][Ir]=0,A[Tl][ui]=28,A[B0][Ir]=0,A[qn][Ir]=0,A[qn][ui]=15,A}const F0=iy(S.createInt32Array(6,6));class Nr{constructor(r,s,o,c){this.token=r,this.mode=s,this.binaryShiftByteCount=o,this.bitCount=c}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(r,s){let o=this.bitCount,c=this.token;if(r!==this.mode){let d=Yu[this.mode][r];c=ia(c,d&65535,d>>16),o+=d>>16}let u=r===qn?4:5;return c=ia(c,s,u),new Nr(c,r,0,o+u)}shiftAndAppend(r,s){let o=this.token,c=this.mode===qn?4:5;return o=ia(o,F0[this.mode][r],c),o=ia(o,s,5),new Nr(o,this.mode,0,this.bitCount+c+5)}addBinaryShiftChar(r){let s=this.token,o=this.mode,c=this.bitCount;if(this.mode===Ir||this.mode===qn){let h=Yu[o][ui];s=ia(s,h&65535,h>>16),c+=h>>16,o=ui}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new Nr(s,o,this.binaryShiftByteCount+1,c+u);return d.binaryShiftByteCount===2078&&(d=d.endBinaryShift(r+1)),d}endBinaryShift(r){if(this.binaryShiftByteCount===0)return this;let s=this.token;return s=ty(s,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new Nr(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(r){let s=this.bitCount+(Yu[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?s+=Nr.calculateBinaryShiftCost(r)-Nr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(s+=10),s<=r.bitCount}toBitArray(r){let s=[];for(let c=this.endBinaryShift(r.length).token;c!==null;c=c.getPrevious())s.unshift(c);let o=new L;for(const c of s)c.appendTo(o,r);return o}toString(){return Q.format("%s bits=%d bytes=%d",ny[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0}}Nr.INITIAL_STATE=new Nr(ry,ui,0,0);function sy(A){const r=Q.getCharCode(" "),s=Q.getCharCode("."),o=Q.getCharCode(",");A[ui][r]=1;const c=Q.getCharCode("Z"),u=Q.getCharCode("A");for(let T=u;T<=c;T++)A[ui][T]=T-u+2;A[Tl][r]=1;const d=Q.getCharCode("z"),h=Q.getCharCode("a");for(let T=h;T<=d;T++)A[Tl][T]=T-h+2;A[qn][r]=1;const m=Q.getCharCode("9"),w=Q.getCharCode("0");for(let T=w;T<=m;T++)A[qn][T]=T-w+2;A[qn][o]=12,A[qn][s]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let T=0;T<C.length;T++)A[B0][Q.getCharCode(C[T])]=T;const b=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let T=0;T<b.length;T++)Q.getCharCode(b[T])>0&&(A[Ir][Q.getCharCode(b[T])]=T);return A}const Ku=sy(S.createInt32Array(5,256));class sa{constructor(r){this.text=r}encode(){const r=Q.getCharCode(" "),s=Q.getCharCode(`
`);let o=L0.singletonList(Nr.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let d,h=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case Q.getCharCode("\r"):d=h===s?2:0;break;case Q.getCharCode("."):d=h===r?3:0;break;case Q.getCharCode(","):d=h===r?4:0;break;case Q.getCharCode(":"):d=h===r?5:0;break;default:d=0}d>0?(o=sa.updateStateListForPair(o,u,d),u++):o=this.updateStateListForChar(o,u)}return L0.min(o,(u,d)=>u.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(r,s){const o=[];for(let c of r)this.updateStateForChar(c,s,o);return sa.simplifyStates(o)}updateStateForChar(r,s,o){let c=this.text[s]&255,u=Ku[r.getMode()][c]>0,d=null;for(let h=0;h<=Ir;h++){let m=Ku[h][c];if(m>0){if(d==null&&(d=r.endBinaryShift(s)),!u||h===r.getMode()||h===qn){const w=d.latchAndAppend(h,m);o.push(w)}if(!u&&F0[r.getMode()][h]>=0){const w=d.shiftAndAppend(h,m);o.push(w)}}}if(r.getBinaryShiftByteCount()>0||Ku[r.getMode()][c]===0){let h=r.addBinaryShiftChar(s);o.push(h)}}static updateStateListForPair(r,s,o){const c=[];for(let u of r)this.updateStateForPair(u,s,o,c);return this.simplifyStates(c)}static updateStateForPair(r,s,o,c){let u=r.endBinaryShift(s);if(c.push(u.latchAndAppend(Ir,o)),r.getMode()!==Ir&&c.push(u.shiftAndAppend(Ir,o)),o===3||o===4){let d=u.latchAndAppend(qn,16-o).latchAndAppend(qn,1);c.push(d)}if(r.getBinaryShiftByteCount()>0){let d=r.addBinaryShiftChar(s).addBinaryShiftChar(s+1);c.push(d)}}static simplifyStates(r){let s=[];for(const o of r){let c=!0;for(const u of s){if(u.isBetterThanOrEqualTo(o)){c=!1;break}o.isBetterThanOrEqualTo(u)&&(s=s.filter(d=>d!==u))}c&&s.push(o)}return s}}class Ve{constructor(){}static encodeBytes(r){return Ve.encode(r,Ve.DEFAULT_EC_PERCENT,Ve.DEFAULT_AZTEC_LAYERS)}static encode(r,s,o){let c=new sa(r).encode(),u=I.truncDivision(c.getSize()*s,100)+11,d=c.getSize()+u,h,m,w,C,b;if(o!==Ve.DEFAULT_AZTEC_LAYERS){if(h=o<0,m=Math.abs(o),m>(h?Ve.MAX_NB_BITS_COMPACT:Ve.MAX_NB_BITS))throw new v(Q.format("Illegal value %s for layers",o));w=Ve.totalBitsInLayer(m,h),C=Ve.WORD_SIZE[m];let ee=w-w%C;if(b=Ve.stuffBits(c,C),b.getSize()+u>ee)throw new v("Data to large for user specified layer");if(h&&b.getSize()>C*64)throw new v("Data to large for user specified layer")}else{C=0,b=null;for(let ee=0;;ee++){if(ee>Ve.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(h=ee<=3,m=h?ee+1:ee,w=Ve.totalBitsInLayer(m,h),d>w)continue;(b==null||C!==Ve.WORD_SIZE[m])&&(C=Ve.WORD_SIZE[m],b=Ve.stuffBits(c,C));let je=w-w%C;if(!(h&&b.getSize()>C*64)&&b.getSize()+u<=je)break}}let T=Ve.generateCheckWords(b,w,C),P=b.getSize()/C,F=Ve.generateModeMessage(h,m,P),j=(h?11:14)+m*4,V=new Int32Array(j),Y;if(h){Y=j;for(let ee=0;ee<V.length;ee++)V[ee]=ee}else{Y=j+1+2*I.truncDivision(I.truncDivision(j,2)-1,15);let ee=I.truncDivision(j,2),je=I.truncDivision(Y,2);for(let Ne=0;Ne<ee;Ne++){let Cn=Ne+I.truncDivision(Ne,15);V[ee-Ne-1]=je-Cn-1,V[ee+Ne]=je+Cn+1}}let ne=new se(Y);for(let ee=0,je=0;ee<m;ee++){let Ne=(m-ee)*4+(h?9:12);for(let Cn=0;Cn<Ne;Cn++){let cr=Cn*2;for(let An=0;An<2;An++)T.get(je+cr+An)&&ne.set(V[ee*2+An],V[ee*2+Cn]),T.get(je+Ne*2+cr+An)&&ne.set(V[ee*2+Cn],V[j-1-ee*2-An]),T.get(je+Ne*4+cr+An)&&ne.set(V[j-1-ee*2-An],V[j-1-ee*2-Cn]),T.get(je+Ne*6+cr+An)&&ne.set(V[j-1-ee*2-Cn],V[ee*2+An])}je+=Ne*8}if(Ve.drawModeMessage(ne,h,Y,F),h)Ve.drawBullsEye(ne,I.truncDivision(Y,2),5);else{Ve.drawBullsEye(ne,I.truncDivision(Y,2),7);for(let ee=0,je=0;ee<I.truncDivision(j,2)-1;ee+=15,je+=16)for(let Ne=I.truncDivision(Y,2)&1;Ne<Y;Ne+=2)ne.set(I.truncDivision(Y,2)-je,Ne),ne.set(I.truncDivision(Y,2)+je,Ne),ne.set(Ne,I.truncDivision(Y,2)-je),ne.set(Ne,I.truncDivision(Y,2)+je)}let ie=new M0;return ie.setCompact(h),ie.setSize(Y),ie.setLayers(m),ie.setCodeWords(P),ie.setMatrix(ne),ie}static drawBullsEye(r,s,o){for(let c=0;c<o;c+=2)for(let u=s-c;u<=s+c;u++)r.set(u,s-c),r.set(u,s+c),r.set(s-c,u),r.set(s+c,u);r.set(s-o,s-o),r.set(s-o+1,s-o),r.set(s-o,s-o+1),r.set(s+o,s-o),r.set(s+o,s-o+1),r.set(s+o,s+o-1)}static generateModeMessage(r,s,o){let c=new L;return r?(c.appendBits(s-1,2),c.appendBits(o-1,6),c=Ve.generateCheckWords(c,28,4)):(c.appendBits(s-1,5),c.appendBits(o-1,11),c=Ve.generateCheckWords(c,40,4)),c}static drawModeMessage(r,s,o,c){let u=I.truncDivision(o,2);if(s)for(let d=0;d<7;d++){let h=u-3+d;c.get(d)&&r.set(h,u-5),c.get(d+7)&&r.set(u+5,h),c.get(20-d)&&r.set(h,u+5),c.get(27-d)&&r.set(u-5,h)}else for(let d=0;d<10;d++){let h=u-5+d+I.truncDivision(d,5);c.get(d)&&r.set(h,u-7),c.get(d+10)&&r.set(u+7,h),c.get(29-d)&&r.set(h,u+7),c.get(39-d)&&r.set(u-7,h)}}static generateCheckWords(r,s,o){let c=r.getSize()/o,u=new Wu(Ve.getGF(o)),d=I.truncDivision(s,o),h=Ve.bitsToWords(r,o,d);u.encode(h,d-c);let m=s%o,w=new L;w.appendBits(0,m);for(const C of Array.from(h))w.appendBits(C,o);return w}static bitsToWords(r,s,o){let c=new Int32Array(o),u,d;for(u=0,d=r.getSize()/s;u<d;u++){let h=0;for(let m=0;m<s;m++)h|=r.get(u*s+m)?1<<s-m-1:0;c[u]=h}return c}static getGF(r){switch(r){case 4:return Me.AZTEC_PARAM;case 6:return Me.AZTEC_DATA_6;case 8:return Me.AZTEC_DATA_8;case 10:return Me.AZTEC_DATA_10;case 12:return Me.AZTEC_DATA_12;default:throw new v("Unsupported word size "+r)}}static stuffBits(r,s){let o=new L,c=r.getSize(),u=(1<<s)-2;for(let d=0;d<c;d+=s){let h=0;for(let m=0;m<s;m++)(d+m>=c||r.get(d+m))&&(h|=1<<s-1-m);(h&u)===u?(o.appendBits(h&u,s),d--):h&u?o.appendBits(h,s):(o.appendBits(h|1,s),d--)}return o}static totalBitsInLayer(r,s){return((s?88:112)+16*r)*r}}Ve.DEFAULT_EC_PERCENT=33,Ve.DEFAULT_AZTEC_LAYERS=0,Ve.MAX_NB_BITS=32,Ve.MAX_NB_BITS_COMPACT=4,Ve.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Il{encode(r,s,o,c){return this.encodeWithHints(r,s,o,c,null)}encodeWithHints(r,s,o,c,u){let d=$u.ISO_8859_1,h=Ve.DEFAULT_EC_PERCENT,m=Ve.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(Ot.CHARACTER_SET)&&(d=D0.forName(u.get(Ot.CHARACTER_SET).toString())),u.has(Ot.ERROR_CORRECTION)&&(h=I.parseInt(u.get(Ot.ERROR_CORRECTION).toString())),u.has(Ot.AZTEC_LAYERS)&&(m=I.parseInt(u.get(Ot.AZTEC_LAYERS).toString()))),Il.encodeLayers(r,s,o,c,d,h,m)}static encodeLayers(r,s,o,c,u,d,h){if(s!==le.AZTEC)throw new v("Can only encode AZTEC, but got "+s);let m=Ve.encode(Q.getBytes(r,u),d,h);return Il.renderResult(m,o,c)}static renderResult(r,s,o){let c=r.getMatrix();if(c==null)throw new an;let u=c.getWidth(),d=c.getHeight(),h=Math.max(s,u),m=Math.max(o,d),w=Math.min(h/u,m/d),C=(h-u*w)/2,b=(m-d*w)/2,T=new se(h,m);for(let P=0,F=b;P<d;P++,F+=w)for(let j=0,V=C;j<u;j++,V+=w)c.get(j,P)&&T.setRegion(V,F,w,w);return T}}n.AbstractExpandedDecoder=Du,n.ArgumentException=y,n.ArithmeticException=ir,n.AztecCode=M0,n.AztecCodeReader=Ls,n.AztecCodeWriter=Il,n.AztecDecoder=Ge,n.AztecDetector=Zo,n.AztecDetectorResult=es,n.AztecEncoder=Ve,n.AztecHighLevelEncoder=sa,n.AztecPoint=wt,n.BarcodeFormat=le,n.Binarizer=O,n.BinaryBitmap=E,n.BitArray=L,n.BitMatrix=se,n.BitSource=Fu,n.BrowserAztecCodeReader=wl,n.BrowserBarcodeReader=Lw,n.BrowserCodeReader=Te,n.BrowserDatamatrixCodeReader=Fw,n.BrowserMultiFormatReader=Kw,n.BrowserPDF417Reader=qw,n.BrowserQRCodeReader=Zw,n.BrowserQRCodeSvgWriter=os,n.CharacterSetECI=$,n.ChecksumException=_,n.Code128Reader=oe,n.Code39Reader=ht,n.DataMatrixDecodedBitStreamParser=oi,n.DataMatrixReader=ai,n.DecodeHintType=G,n.DecoderResult=mn,n.DefaultGridSampler=Vr,n.DetectorResult=Ds,n.EAN13Reader=Mt,n.EncodeHintType=Ot,n.Exception=p,n.FormatException=U,n.GenericGF=Me,n.GenericGFPoly=Nt,n.GlobalHistogramBinarizer=me,n.GridSampler=Ms,n.GridSamplerInstance=ar,n.HTMLCanvasElementLuminanceSource=he,n.HybridBinarizer=ce,n.ITFReader=Fe,n.IllegalArgumentException=v,n.IllegalStateException=an,n.InvertedLuminanceSource=re,n.LuminanceSource=K,n.MathUtils=Ae,n.MultiFormatOneDReader=Us,n.MultiFormatReader=P0,n.MultiFormatWriter=Jw,n.NotFoundException=H,n.OneDReader=ft,n.PDF417DecodedBitStreamParser=X,n.PDF417DecoderErrorCorrection=T0,n.PDF417Reader=Ht,n.PDF417ResultMetadata=N0,n.PerspectiveTransform=ln,n.PlanarYUVLuminanceSource=Tr,n.QRCodeByteMatrix=Sl,n.QRCodeDataMask=Yn,n.QRCodeDecodedBitStreamParser=gt,n.QRCodeDecoderErrorCorrectionLevel=tt,n.QRCodeDecoderFormatInformation=Zt,n.QRCodeEncoder=it,n.QRCodeEncoderQRCode=ss,n.QRCodeMaskUtil=vt,n.QRCodeMatrixUtil=be,n.QRCodeMode=Ce,n.QRCodeReader=li,n.QRCodeVersion=Ee,n.QRCodeWriter=Vs,n.RGBLuminanceSource=Gu,n.RSS14Reader=yt,n.RSSExpandedReader=J,n.ReaderException=_l,n.ReedSolomonDecoder=wn,n.ReedSolomonEncoder=Wu,n.ReedSolomonException=$n,n.Result=De,n.ResultMetadataType=Qe,n.ResultPoint=ye,n.StringUtils=Q,n.UnsupportedOperationException=ue,n.VideoInputDevice=fe,n.WhiteRectangleDetector=or,n.WriterException=Je,n.ZXingArrays=S,n.ZXingCharset=D0,n.ZXingInteger=I,n.ZXingStandardCharsets=$u,n.ZXingStringBuilder=de,n.ZXingStringEncoding=ve,n.ZXingSystem=N,n.createAbstractExpandedDecoder=_0,Object.defineProperty(n,"__esModule",{value:!0})})})(rh,rh.exports);var at=rh.exports;const k4=ih(at),P4=cp({__proto__:null,default:k4},[at]);var Yg=function(){function e(t,n,i){if(this.formatMap=new Map([[pe.QR_CODE,at.BarcodeFormat.QR_CODE],[pe.AZTEC,at.BarcodeFormat.AZTEC],[pe.CODABAR,at.BarcodeFormat.CODABAR],[pe.CODE_39,at.BarcodeFormat.CODE_39],[pe.CODE_93,at.BarcodeFormat.CODE_93],[pe.CODE_128,at.BarcodeFormat.CODE_128],[pe.DATA_MATRIX,at.BarcodeFormat.DATA_MATRIX],[pe.MAXICODE,at.BarcodeFormat.MAXICODE],[pe.ITF,at.BarcodeFormat.ITF],[pe.EAN_13,at.BarcodeFormat.EAN_13],[pe.EAN_8,at.BarcodeFormat.EAN_8],[pe.PDF_417,at.BarcodeFormat.PDF_417],[pe.RSS_14,at.BarcodeFormat.RSS_14],[pe.RSS_EXPANDED,at.BarcodeFormat.RSS_EXPANDED],[pe.UPC_A,at.BarcodeFormat.UPC_A],[pe.UPC_E,at.BarcodeFormat.UPC_E],[pe.UPC_EAN_EXTENSION,at.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!P4)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=i;var a=this.createZXingFormats(t),l=new Map;l.set(at.DecodeHintType.POSSIBLE_FORMATS,a),l.set(at.DecodeHintType.TRY_HARDER,!1),this.hints=l}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(i,a){try{i(n.decode(t))}catch(l){a(l)}})},e.prototype.decode=function(t){var n=new at.MultiFormatReader(this.verbose,this.hints),i=new at.HTMLCanvasElementLuminanceSource(t),a=new at.BinaryBitmap(new at.HybridBinarizer(i)),l=n.decode(a);return{text:l.text,format:Iw.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,a){t.set(n,i)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],i=0,a=t;i<a.length;i++){var l=a[i];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.logError("".concat(l," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),D4=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(y){try{p(i.next(y))}catch(v){f(v)}}function x(y){try{p(i.throw(y))}catch(v){f(v)}}function p(y){y.done?l(y.value):a(y.value).then(g,x)}p((i=i.apply(e,t||[])).next())})},M4=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(p){return function(y){return x([p,y])}}function x(p){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(i=1,a&&(l=p[0]&2?a.return:p[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,p[1])).done)return l;switch(a=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,a=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],a=0}finally{i=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Kg=function(){function e(t,n,i){if(this.formatMap=new Map([[pe.QR_CODE,"qr_code"],[pe.AZTEC,"aztec"],[pe.CODABAR,"codabar"],[pe.CODE_39,"code_39"],[pe.CODE_93,"code_93"],[pe.CODE_128,"code_128"],[pe.DATA_MATRIX,"data_matrix"],[pe.ITF,"itf"],[pe.EAN_13,"ean_13"],[pe.EAN_8,"ean_8"],[pe.PDF_417,"pdf417"],[pe.UPC_A,"upc_a"],[pe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=i;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return D4(this,void 0,void 0,function(){var n,i;return M4(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=a.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return i=this.selectLargestBarcode(n),[2,{text:i.rawValue,format:Iw.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,i=0,a=0,l=t;a<l.length;a++){var f=l[a],g=f.boundingBox.width*f.boundingBox.height;g>i&&(i=g,n=f)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],i=0,a=t;i<a.length;i++){var l=a[i];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.warn("".concat(l," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,i,a){t.set(n,i)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),qg=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(y){try{p(i.next(y))}catch(v){f(v)}}function x(y){try{p(i.throw(y))}catch(v){f(v)}}function p(y){y.done?l(y.value):a(y.value).then(g,x)}p((i=i.apply(e,t||[])).next())})},Zg=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(p){return function(y){return x([p,y])}}function x(p){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(i=1,a&&(l=p[0]&2?a.return:p[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,p[1])).done)return l;switch(a=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,a=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],a=0}finally{i=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},L4=function(){function e(t,n,i,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=i,n&&Kg.isSupported()?(this.primaryDecoder=new Kg(t,i,a),this.secondaryDecoder=new Yg(t,i,a)):this.primaryDecoder=new Yg(t,i,a)}return e.prototype.decodeAsync=function(t){return qg(this,void 0,void 0,function(){var n;return Zg(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,i.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return qg(this,void 0,void 0,function(){var n,i;return Zg(this,function(a){switch(a.label){case 0:n=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,a.sent()];case 3:if(i=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw i;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,i=this.executionResults;n<i.length;n++){var a=i[n];t+=a}var l=t/this.executionResults.length;console.log("".concat(l," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),b0=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),qc=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(y){try{p(i.next(y))}catch(v){f(v)}}function x(y){try{p(i.throw(y))}catch(v){f(v)}}function p(y){y.done?l(y.value):a(y.value).then(g,x)}p((i=i.apply(e,t||[])).next())})},Zc=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(p){return function(y){return x([p,y])}}function x(p){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(i=1,a&&(l=p[0]&2?a.return:p[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,p[1])).done)return l;switch(a=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,a=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],a=0}finally{i=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Rw=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),B4=function(e){b0(t,e);function t(n,i){return e.call(this,n,i)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var i={};i[this.name]=n;var a={advanced:[i]};return this.track.applyConstraints(a)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),i=n[this.name];return{min:i.min,max:i.max,step:i.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Rw),F4=function(e){b0(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(B4),j4=function(e){b0(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(Rw),U4=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new F4(this.track)},e.prototype.torchFeature=function(){return new j4(this.track)},e}(),z4=function(){function e(t,n,i){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=i,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var i=t.surface.clientWidth,a=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(i,a),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,i,a){return qc(this,void 0,void 0,function(){var l,f;return Zc(this,function(g){switch(g.label){case 0:return l=new e(t,n,a),i.aspectRatio?(f={aspectRatio:i.aspectRatio},[4,l.getFirstTrackOrFail().applyConstraints(f)]):[3,2];case 1:g.sent(),g.label=2;case 2:return l.setupSurface(),[2,l]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,i=function(){setTimeout(t,200),n.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return qc(this,void 0,void 0,function(){return Zc(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,i){var a=t.mediaStream.getVideoTracks(),l=a.length,f=0;t.mediaStream.getVideoTracks().forEach(function(g){t.mediaStream.removeTrack(g),g.stop(),++f,f>=l&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new U4(this.getFirstTrackOrFail())},e}(),V4=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,i){return qc(this,void 0,void 0,function(){return Zc(this,function(a){return[2,z4.create(t,this.mediaStream,n,i)]})})},e.create=function(t){return qc(this,void 0,void 0,function(){var n,i;return Zc(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return i=a.sent(),[2,new e(i)]}})})},e}(),Qg=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(y){try{p(i.next(y))}catch(v){f(v)}}function x(y){try{p(i.throw(y))}catch(v){f(v)}}function p(y){y.done?l(y.value):a(y.value).then(g,x)}p((i=i.apply(e,t||[])).next())})},Jg=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(p){return function(y){return x([p,y])}}function x(p){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(i=1,a&&(l=p[0]&2?a.return:p[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,p[1])).done)return l;switch(a=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,a=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],a=0}finally{i=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},H4=function(){function e(){}return e.failIfNotSupported=function(){return Qg(this,void 0,void 0,function(){return Jg(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Qg(this,void 0,void 0,function(){return Jg(this,function(n){return[2,V4.create(t)]})})},e}(),W4=function(e,t,n,i){function a(l){return l instanceof n?l:new n(function(f){f(l)})}return new(n||(n=Promise))(function(l,f){function g(y){try{p(i.next(y))}catch(v){f(v)}}function x(y){try{p(i.throw(y))}catch(v){f(v)}}function p(y){y.done?l(y.value):a(y.value).then(g,x)}p((i=i.apply(e,t||[])).next())})},G4=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,f;return f={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function g(p){return function(y){return x([p,y])}}function x(p){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(n=0)),n;)try{if(i=1,a&&(l=p[0]&2?a.return:p[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,p[1])).done)return l;switch(a=0,l&&(p=[p[0]&2,l.value]),p[0]){case 0:case 1:l=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,a=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!l||p[1]>l[0]&&p[1]<l[3])){n.label=p[1];break}if(p[0]===6&&n.label<l[1]){n.label=l[1],l=p;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(p);break}l[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(y){p=[6,y],a=0}finally{i=l=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},$4=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=co.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=co.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return W4(this,void 0,void 0,function(){var t,n,i,a,l,f,g;return G4(this,function(x){switch(x.label){case 0:return t=function(p){for(var y=p.getVideoTracks(),v=0,E=y;v<E.length;v++){var _=E[v];_.enabled=!1,_.stop(),p.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(i=x.sent(),a=[],l=0,f=i;l<f.length;l++)g=f[l],g.kind==="videoinput"&&a.push({id:g.deviceId,label:g.label});return t(n),[2,a]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var i=function(l){for(var f=[],g=0,x=l;g<x.length;g++){var p=x[g];p.kind==="video"&&f.push({id:p.id,label:p.label})}t(f)},a=MediaStreamTrack;a.getSources(i)})},e}(),Ct;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Ct||(Ct={}));var X4=function(){function e(){this.state=Ct.NOT_STARTED,this.onGoingTransactionNewState=Ct.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Ct.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ct.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ct.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ct.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ct.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Ct.UNKNOWN:throw"Transition from unknown is not allowed";case Ct.NOT_STARTED:this.failIfNewStateIs(t,[Ct.PAUSED]);break;case Ct.SCANNING:break;case Ct.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var i=0,a=n;i<a.length;i++){var l=a[i];if(t===l)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),Y4=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Ct.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Ct.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ct.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Ct.PAUSED},e}(),K4=function(){function e(){}return e.create=function(){return new Y4(new X4)},e}(),q4=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,a){i.__proto__=a}||function(i,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(i[l]=a[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mn=function(e){q4(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(N4),Z4=function(){function e(t,n){this.logger=n,this.fps=Mn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Mn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Nw.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Gr(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),Q4=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var i;typeof n=="boolean"?this.verbose=n===!0:n&&(i=n,this.verbose=i.verbose===!0,i.experimentalFeatures),this.logger=new O4(this.verbose),this.qrcode=new L4(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=K4.create()}return e.prototype.start=function(t,n,i,a){var l=this;if(!t)throw"cameraIdOrConfig is required";if(!i||typeof i!="function")throw"qrCodeSuccessCallback is required and should be a function.";var f;a?f=a:f=this.verbose?this.logger.log:function(){};var g=Z4.create(n,this.logger);this.clearElement();var x=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=x,y=document.getElementById(this.elementId);y.clientWidth?y.clientWidth:Mn.DEFAULT_WIDTH,y.style.position="relative",this.shouldScan=!0,this.element=y;var v=this,E=this.stateManagerProxy.startTransition(Ct.SCANNING);return new Promise(function(_,O){var N=p?g.videoConstraints:v.createVideoConstraints(t);if(!N){E.cancel(),O("videoConstraints should be defined");return}var D={};(!p||g.aspectRatio)&&(D.aspectRatio=g.aspectRatio);var R={onRenderSurfaceReady:function(S,I){v.setupUi(S,I,g),v.isScanning=!0,v.foreverScan(g,i,f)}};H4.failIfNotSupported().then(function(S){S.create(N).then(function(I){return I.render(l.element,D,R).then(function(L){v.renderedCamera=L,E.execute(),_(null)}).catch(function(L){E.cancel(),O(L)})}).catch(function(I){E.cancel(),O(co.errorGettingUserMedia(I))})}).catch(function(S){E.cancel(),O(co.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ct.PAUSED),this.showPausedState(),(Gr(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Ct.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Ct.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=function(){if(t.element){var l=document.getElementById(Mn.SHADED_REGION_ELEMENT_ID);l&&t.element.removeChild(l)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),i(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),n.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(i){return i.decodedText})},e.prototype.scanFileV2=function(t,n){var i=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Gr(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,l){i.possiblyCloseLastScanImageFile(),i.clearElement(),i.lastScanImageFile=URL.createObjectURL(t);var f=new Image;f.onload=function(){var g=f.width,x=f.height,p=document.getElementById(i.elementId),y=p.clientWidth?p.clientWidth:Mn.DEFAULT_WIDTH,v=Math.max(p.clientHeight?p.clientHeight:x,Mn.FILE_SCAN_MIN_HEIGHT),E=i.computeCanvasDrawConfig(g,x,y,v);if(n){var _=i.createCanvasElement(y,v,"qr-canvas-visible");_.style.display="inline-block",p.appendChild(_);var O=_.getContext("2d");if(!O)throw"Unable to get 2d context from canvas";O.canvas.width=y,O.canvas.height=v,O.drawImage(f,0,0,g,x,E.x,E.y,E.width,E.height)}var N=Mn.FILE_SCAN_HIDDEN_CANVAS_PADDING,D=Math.max(f.width,E.width),R=Math.max(f.height,E.height),S=D+2*N,I=R+2*N,L=i.createCanvasElement(S,I);p.appendChild(L);var z=L.getContext("2d");if(!z)throw"Unable to get 2d context from canvas";z.canvas.width=S,z.canvas.height=I,z.drawImage(f,0,0,g,x,N,N,D,R);try{i.qrcode.decodeRobustlyAsync(L).then(function(G){a(Xg.createFromQrcodeResult(G))}).catch(l)}catch(G){l("QR code parse error, error = ".concat(G))}},f.onerror=l,f.onabort=l,f.onstalled=l,f.onsuspend=l,f.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return $4.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Nw.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[pe.QR_CODE,pe.AZTEC,pe.CODABAR,pe.CODE_39,pe.CODE_93,pe.CODE_128,pe.DATA_MATRIX,pe.MAXICODE,pe.ITF,pe.EAN_13,pe.EAN_8,pe.PDF_417,pe.RSS_14,pe.RSS_EXPANDED,pe.UPC_A,pe.UPC_E,pe.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var i=[],a=0,l=t.formatsToSupport;a<l.length;a++){var f=l[a];I4(f)?i.push(f):this.logger.warn("Invalid format: ".concat(f," passed in config, ignoring."))}if(i.length===0)throw"None of formatsToSupport match supported values.";return i},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Gr(t))return!0;if(!Gr(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Gr(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return Gr(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,i){var a=this,l=i.qrbox;this.validateQrboxConfig(l);var f=this.toQrdimensions(t,n,l),g=function(p){if(p<Mn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Mn.MIN_QR_BOX_SIZE,"px.")},x=function(p){return p>t&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};g(f.width),g(f.height),f.width=x(f.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,i){if(typeof i=="number")return{width:i,height:i};if(typeof i=="function")try{return i(t,n)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return i},e.prototype.setupUi=function(t,n,i){i.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,i);var a=Gr(i.qrbox)?{width:t,height:n}:i.qrbox;this.validateQrboxConfig(a);var l=this.toQrdimensions(t,n,a);l.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var f=i.isShadedBoxEnabled()&&l.height<=n,g={x:0,y:0,width:t,height:n},x=f?this.getShadedRegionBounds(t,n,l):g,p=this.createCanvasElement(x.width,x.height),y={willReadFrequently:!0},v=p.getContext("2d",y);v.canvas.width=x.width,v.canvas.height=x.height,this.element.append(p),f&&this.possiblyInsertShadingElement(this.element,t,n,l),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=v,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=co.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var i=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return t(a.text,Xg.createFromQrcodeResult(a)),i.possiblyUpdateShaders(!0),!0}).catch(function(a){i.possiblyUpdateShaders(!1);var l=co.codeParseError(a);return n(l,R4.createFrom(l)),!1})},e.prototype.foreverScan=function(t,n,i){var a=this;if(this.shouldScan&&this.renderedCamera){var l=this.renderedCamera.getSurface(),f=l.videoWidth/l.clientWidth,g=l.videoHeight/l.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*f,p=this.qrRegion.height*g,y=this.qrRegion.x*f,v=this.qrRegion.y*g;this.context.drawImage(l,y,v,x,p,0,0,this.qrRegion.width,this.qrRegion.height);var E=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(t,n,i)},a.getTimeoutFps(t.fps))};this.scanContext(n,i).then(function(_){!_&&t.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(n,i).finally(function(){E()})):E()}).catch(function(_){a.logger.logError("Error happend while scanning context",_),E()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",i="deviceId",a={user:!0,environment:!0},l="exact",f=function(O){if(O in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(O,"'")},g=Object.keys(t);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var x=Object.keys(t)[0];if(x!==n&&x!==i)throw"Only '".concat(n,"' and '").concat(i,"' ")+" are supported for 'cameraIdOrConfig'";if(x===n){var p=t.facingMode;if(typeof p=="string"){if(f(p))return{facingMode:p}}else if(typeof p=="object")if(l in p){if(f(p["".concat(l)]))return{facingMode:{exact:p["".concat(l)]}}}else throw"'facingMode' should be string or object with"+" ".concat(l," as key.");else{var y=typeof p;throw"Invalid type of 'facingMode' = ".concat(y)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(l in v)return{deviceId:{exact:v["".concat(l)]}};throw"'deviceId' should be string or object with"+" ".concat(l," as key.")}else{var E=typeof v;throw"Invalid type of 'deviceId' = ".concat(E)}}}var _=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},e.prototype.computeCanvasDrawConfig=function(t,n,i,a){if(t<=i&&n<=a){var l=(i-t)/2,f=(a-n)/2;return{x:l,y:f,width:t,height:n}}else{var g=t,x=n;return t>i&&(n=i/t*n,t=i),n>a&&(t=a/n*t,n=a),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(x)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,i,a)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Mn.BORDER_SHADER_MATCH_COLOR:Mn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,i){var a=t,l=n,f=document.createElement("canvas");return f.style.width="".concat(a,"px"),f.style.height="".concat(l,"px"),f.style.display="none",f.id=Gr(i)?"qr-canvas":i,f},e.prototype.getShadedRegionBounds=function(t,n,i){if(i.width>t||i.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-i.width)/2,y:(n-i.height)/2,width:i.width,height:i.height}},e.prototype.possiblyInsertShadingElement=function(t,n,i,a){if(!(n-a.width<1||i-a.height<1)){var l=document.createElement("div");l.style.position="absolute";var f=(n-a.width)/2,g=(i-a.height)/2;if(l.style.borderLeft="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderRight="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),l.style.boxSizing="border-box",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.id="".concat(Mn.SHADED_REGION_ELEMENT_ID),n-a.width<11||i-a.height<11)this.hasBorderShaders=!1;else{var x=5,p=40;this.insertShaderBorders(l,p,x,-x,null,0,!0),this.insertShaderBorders(l,p,x,-x,null,0,!1),this.insertShaderBorders(l,p,x,null,-x,0,!0),this.insertShaderBorders(l,p,x,null,-x,0,!1),this.insertShaderBorders(l,x,p+x,-x,null,-x,!0),this.insertShaderBorders(l,x,p+x,null,-x,-x,!0),this.insertShaderBorders(l,x,p+x,-x,null,-x,!1),this.insertShaderBorders(l,x,p+x,null,-x,-x,!1),this.hasBorderShaders=!0}t.append(l)}},e.prototype.insertShaderBorders=function(t,n,i,a,l,f,g){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=Mn.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(n,"px"),x.style.height="".concat(i,"px"),a!==null&&(x.style.top="".concat(a,"px")),l!==null&&(x.style.bottom="".concat(l,"px")),g?x.style.left="".concat(f,"px"):x.style.right="".concat(f,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),t.appendChild(x)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),ep;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ep||(ep={}));const J4=()=>{const[e,t]=M.useState(!1),[n,i]=M.useState(null),{addToCart:a}=Ps();M.useEffect(()=>{const p=new Q4("reader");return i(p),()=>{p&&e&&p.stop().catch(y=>console.error("Error stopping scanner:",y))}},[]);const l=()=>{if(!n)return;t(!0);const p={fps:10,qrbox:250};n.start({facingMode:"environment"},p,g,x).catch(y=>{console.error("Error starting scanner:",y),_n.error("Could not access camera. Please check permissions."),t(!1)})},f=()=>{n&&e&&n.stop().then(()=>{t(!1)}).catch(p=>{console.error("Error stopping scanner:",p)})},g=async p=>{console.log("Barcode scanned:",p);try{await(n==null?void 0:n.pause());const y=await v4(p);y?(a(y),_n.success(`Added ${y.name} to your cart`),setTimeout(()=>{n==null||n.resume()},2e3)):(_n.error("Product not found"),setTimeout(()=>{n==null||n.resume()},1e3))}catch(y){console.error("Error processing scan:",y),_n.error("Failed to process scan"),n==null||n.resume()}},x=p=>{console.debug("Scan error:",p)};return B.jsxs("div",{className:"flex flex-col items-center p-4",children:[B.jsx("div",{id:"reader",className:"w-full max-w-sm h-64 mb-4"}),B.jsx("div",{className:"w-full flex justify-center mt-4",children:e?B.jsx(Ar,{onClick:f,variant:"destructive",children:"Stop Scanning"}):B.jsx(Ar,{onClick:l,className:"bg-blue-500 hover:bg-blue-600",children:"Start Scanning"})}),B.jsxs("div",{className:"mt-6 text-center",children:[B.jsx("p",{className:"text-gray-600",children:"Point your camera at a product barcode to scan"}),B.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"For testing, use these barcodes: 8964000001, 8964000002, etc."})]})]})},eT=()=>B.jsxs("div",{className:"container mx-auto pb-20",children:[B.jsx("h1",{className:"text-2xl font-bold p-4",children:"Scan Products"}),B.jsx(J4,{})]}),tT=({item:e})=>{const{updateQuantity:t,removeFromCart:n}=Ps();if(!e.product)return null;const i=()=>{t(e.product_id,e.quantity+1)},a=()=>{e.quantity>1?t(e.product_id,e.quantity-1):n(e.product_id)};return B.jsxs("div",{className:"flex items-center justify-between py-3 border-b",children:[B.jsxs("div",{className:"flex items-center",children:[B.jsx("img",{src:e.product.image_url,alt:e.product.name,className:"h-16 w-16 object-cover rounded mr-3"}),B.jsxs("div",{children:[B.jsx("h4",{className:"font-medium",children:e.product.name}),B.jsx("p",{className:"text-sm text-gray-600",children:wo(e.product.price)})]})]}),B.jsxs("div",{className:"flex items-center",children:[B.jsxs("div",{className:"flex items-center border rounded",children:[B.jsx(Ar,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:a,children:B.jsx(L3,{size:16})}),B.jsx("span",{className:"px-3",children:e.quantity}),B.jsx(Ar,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:i,children:B.jsx(F3,{size:16})})]}),B.jsx("div",{className:"ml-4 text-right",children:B.jsx("p",{className:"font-semibold",children:wo(e.product.price*e.quantity)})})]})]})},Ow=({onCheckout:e})=>{const{getTotalPrice:t,getTotalItems:n}=Ps(),i=t(),a=n();return B.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg shadow-sm",children:[B.jsx("h3",{className:"font-medium text-gray-800 mb-4",children:"Cart Summary"}),B.jsxs("div",{className:"space-y-2 mb-4",children:[B.jsxs("div",{className:"flex justify-between text-sm",children:[B.jsxs("span",{children:["Items (",a,")"]}),B.jsx("span",{children:wo(i)})]}),B.jsxs("div",{className:"flex justify-between text-sm",children:[B.jsx("span",{children:"Tax"}),B.jsx("span",{children:wo(i*.1)})]})]}),B.jsx("div",{className:"border-t border-gray-200 pt-3 mb-4",children:B.jsxs("div",{className:"flex justify-between font-semibold",children:[B.jsx("span",{children:"Total"}),B.jsx("span",{children:wo(i*1.1)})]})}),e&&B.jsx(Ar,{onClick:e,className:"w-full bg-blue-500 hover:bg-blue-600",disabled:a===0,children:"Proceed to Checkout"})]})},nT=()=>{const{cartItems:e,clearCart:t}=Ps(),n=pl(),i=()=>{n("/checkout")};return B.jsx("div",{className:"container mx-auto pb-20",children:B.jsxs("div",{className:"p-4",children:[B.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Your Cart"}),B.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[B.jsx("div",{className:"flex-1",children:e.length===0?B.jsxs("div",{className:"text-center py-10",children:[B.jsx("p",{className:"text-gray-500 mb-4",children:"Your cart is empty"}),B.jsx(Ar,{onClick:()=>n("/products"),variant:"outline",children:"Browse Products"})]}):B.jsxs(B.Fragment,{children:[B.jsx("div",{className:"mb-4",children:B.jsx(Ar,{variant:"ghost",onClick:t,className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:"Clear Cart"})}),B.jsx("div",{className:"space-y-1",children:e.map(a=>B.jsx(tT,{item:a},a.id))})]})}),B.jsx("div",{className:"md:w-80",children:B.jsx(Ow,{onCheckout:i})})]})]})})},rT=()=>{const{cartItems:e,getTotalPrice:t,clearCart:n}=Ps(),i=pl(),[a,l]=M.useState(!1),f=async()=>{if(e.length===0){_n.error("Your cart is empty");return}try{l(!0),await new Promise(x=>setTimeout(x,2e3));const{error:g}=await bi.from("orders").insert({cart_items:JSON.stringify(e),total_price:t()*1.1,payment_status:"completed"});if(g)throw g;await n(),i("/thank-you")}catch(g){console.error("Payment error:",g),_n.error("Payment failed. Please try again.")}finally{l(!1)}};return B.jsx("div",{className:"container mx-auto pb-20",children:B.jsxs("div",{className:"p-4",children:[B.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Checkout"}),B.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[B.jsxs("div",{className:"flex-1",children:[B.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-6",children:[B.jsx("h2",{className:"font-semibold mb-4",children:"Order Summary"}),e.length===0?B.jsx("p",{className:"text-gray-500",children:"Your cart is empty"}):B.jsx("div",{className:"space-y-3",children:e.map(g=>{var x,p,y,v;return B.jsxs("div",{className:"flex justify-between py-2 border-b",children:[B.jsxs("div",{className:"flex items-center",children:[B.jsx("img",{src:(x=g.product)==null?void 0:x.image_url,alt:(p=g.product)==null?void 0:p.name,className:"h-10 w-10 object-cover rounded mr-3"}),B.jsxs("span",{children:[(y=g.product)==null?void 0:y.name,"  ",g.quantity]})]}),B.jsxs("span",{className:"font-medium",children:["$",((((v=g.product)==null?void 0:v.price)||0)*g.quantity).toFixed(2)]})]},g.id)})})]}),B.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[B.jsx("h2",{className:"font-semibold mb-4",children:"Payment Method"}),B.jsx("p",{className:"text-gray-600 mb-4",children:"This is a demo checkout. In a real implementation, Stripe would be integrated here."}),B.jsx(Ar,{onClick:f,className:"w-full bg-blue-500 hover:bg-blue-600",disabled:e.length===0||a,children:a?"Processing...":"Pay Now"})]})]}),B.jsx("div",{className:"md:w-80",children:B.jsx(Ow,{})})]})]})})},iT=()=>{const e=pl(),t=ae.useMemo(()=>Math.floor(1e5+Math.random()*9e5).toString(),[]);return B.jsx("div",{className:"container mx-auto flex flex-col items-center justify-center p-8 text-center",children:B.jsxs("div",{className:"max-w-md mx-auto",children:[B.jsx("div",{className:"mb-6 flex justify-center",children:B.jsx(M3,{size:64,className:"text-green-500"})}),B.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Thank You!"}),B.jsx("p",{className:"text-xl mb-2",children:"Your order has been placed successfully."}),B.jsxs("p",{className:"text-gray-600 mb-6",children:["Order #",t]}),B.jsx("div",{className:"space-y-4",children:B.jsx(Ar,{onClick:()=>e("/products"),className:"w-full bg-blue-500 hover:bg-blue-600",children:"Continue Shopping"})}),B.jsx("p",{className:"mt-10 text-sm text-gray-500",children:"A receipt has been sent to your device."})]})})},sT=()=>{const e=Os();return M.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),B.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:B.jsxs("div",{className:"text-center",children:[B.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),B.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),B.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},oT=()=>{const e=Os(),{getTotalItems:t}=Ps(),n=t(),i=[{name:"Products",path:"/products",icon:B.jsx(B3,{size:24})},{name:"Scanner",path:"/scanner",icon:B.jsx(D3,{size:24})},{name:"Cart",path:"/cart",icon:B.jsx(j3,{size:24}),badge:n>0?n:void 0}];return B.jsx("div",{className:"fixed bottom-0 left-0 right-0 border-t bg-white",children:B.jsx("nav",{className:"flex justify-around items-center h-16",children:i.map(a=>B.jsxs(Y_,{to:a.path,className:sn("flex flex-col items-center justify-center w-full h-full",e.pathname===a.path?"text-blue-500":"text-gray-500 hover:text-gray-800"),children:[B.jsxs("div",{className:"relative",children:[a.icon,a.badge&&B.jsx("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:a.badge})]}),B.jsx("span",{className:"text-xs mt-1",children:a.name})]},a.path))})})},aT=({children:e})=>B.jsxs("div",{className:"min-h-screen bg-gray-50",children:[B.jsx("header",{className:"bg-white shadow-sm",children:B.jsx("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:B.jsx("h1",{className:"font-bold text-xl text-blue-600",children:"Smart Trolley"})})}),B.jsx("main",{className:"mb-16",children:e}),B.jsx(oT,{})]}),lT=new Xb,cT=()=>B.jsx(Kb,{client:lT,children:B.jsx(w4,{children:B.jsxs(bb,{children:[B.jsx(CC,{}),B.jsx(ZC,{}),B.jsx(G_,{children:B.jsx(aT,{children:B.jsxs(F_,{children:[B.jsx(pi,{path:"/",element:B.jsx(L_,{to:"/products",replace:!0})}),B.jsx(pi,{path:"/products",element:B.jsx(T4,{})}),B.jsx(pi,{path:"/scanner",element:B.jsx(eT,{})}),B.jsx(pi,{path:"/cart",element:B.jsx(nT,{})}),B.jsx(pi,{path:"/checkout",element:B.jsx(rT,{})}),B.jsx(pi,{path:"/thank-you",element:B.jsx(iT,{})}),B.jsx(pi,{path:"*",element:B.jsx(sT,{})})]})})})]})})});Ax(document.getElementById("root")).render(B.jsx(cT,{}));export{ih as g};
